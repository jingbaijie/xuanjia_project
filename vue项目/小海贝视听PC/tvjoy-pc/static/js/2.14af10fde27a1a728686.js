webpackJsonp([2],{"52ht":function(t,e){},JIef:function(t,e){},LCeB:function(t,e){},Muao:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjlBNUVCNDQ0MDNDNTExRUNBRTFBRjdFNzkzQ0Q2NThCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjlBNUVCNDQ1MDNDNTExRUNBRTFBRjdFNzkzQ0Q2NThCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6OUE1RUI0NDIwM0M1MTFFQ0FFMUFGN0U3OTNDRDY1OEIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OUE1RUI0NDMwM0M1MTFFQ0FFMUFGN0U3OTNDRDY1OEIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7NOPJtAAACv0lEQVR42mKcOXMmAxD8T0tLY2QCMtqBmHHWrFnzQZxKBghIAAggRqiyHiaoSDGIcQrEAgggmNR/EBuIJwIxBxOSwC4g/gLErQABBFNZBsSdIEmgnQwglTuBmB+qGqQLLPgbZAvUNpCDpoAEE6GCa6AS2SxA4hVMFRCfBPkDIIBgFiUA8QIgPgPEJlBF74BYCIhLgAp7WJCcyQBVNBuIuaCKGECKgHb/R/cksia4GCwI1yBJwmg4G6QIaOJZkMIQJEmQG42h+C1MEKjYGCCAYFbDAMi3okD8HsmNDLBAAwFlKP0dauU5KF8XZgJI4Q8g9oU6XgMqHgDlB4J8DFOYAcQToCYJQt0pDeU3AbE9ULEhSOF8IBaAmnQAGpZTgJgbiEHhfBDkdiaobpBCLyBWg2pwBeIYIGYDYgugh56CdDSAPAfED6DuqgLiNqQwzQVa7QIKHlgMgKLtGwMmeAg0UR6WnkGKNwNxP1QyFYivQ8VBSRXs2A4oBoHPQLwEmmxVkQMcIMDQYwYZXIAGeDGSWA3UmcJI0YuiiQVKOwPxHiTn/QRifaizJyCp14LK10FjuwsYICDxZKDB82ARWA41jBdq+3YgPg9l+6G5Og0qDlK/H5pDQfy5QIPnIodNNDRPg8BTKDaFlgi/gPg01HWC0GS2Bc0ikA/3glzLguSS/9AEcRuIbYD4MDSFv0fTDFIXBcTLgZgVaAjIwjyoS8FedgfijUD8ERp7DFAvg0A3mmGwIu4wlOaCZo5JQINDYQbuAGIjaLJ9AVX4FerybdAU+heInwPxa6j4E6i6j0CXcQJpdiBeBTQ0ErksaQHi1dBcxQrEKaDAxpKczKGJ8zfUIaDUsAlUEAANf8OCVL5sgtJsULFbQFwPxHJIhh2H5k5WKL8UlAFh4YecDhmwJBGQK+KA+BOa+AYkdjfQMJRwBgDoRMdyaqknhAAAAABJRU5ErkJggg=="},S5yx:function(t,e){},"V+qY":function(t,e){},"W+ER":function(t,e){},ZVCF:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"pcCard"},[n("img",{staticClass:"cardTop",attrs:{src:a("t0sC"),alt:""}}),t._v(" "),n("div",{staticClass:"userInfo"},[n("img",{staticClass:"userHeader",attrs:{src:t.userInfo.headerImg,alt:""}}),t._v(" "),n("p",{staticClass:"userName"},[t._v(t._s(t.userInfo.name))])]),t._v(" "),n("div",{staticClass:"function"},[n("div",{staticClass:"functionBtn",class:{activeFun:1==t.isActive},on:{click:function(e){return t.changeFun(1)}}},[n("img",{staticClass:"pcIcon",attrs:{src:a("wT6x"),alt:""}}),t._v(" "),n("span",[t._v("播放记录")])]),t._v(" "),n("div",{staticClass:"functionBtn",class:{activeFun:2==t.isActive},on:{click:function(e){return t.changeFun(2)}}},[n("img",{staticClass:"pcIcon",attrs:{src:a("Muao"),alt:""}}),t._v(" "),n("span",[t._v("个人设置")])])])])])},staticRenderFns:[]};var i=a("VU/8")({name:"pcRight",data:function(){return{}},props:["isActive"],inject:["userInfo"],watch:{userInfo:function(t,e){this.userInfo=t}},methods:{changeFun:function(t){this.$emit("changeType",t)}}},n,!1,function(t){a("V+qY")},"data-v-05105971",null).exports,s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content"},[a("div",{staticClass:"label"},[t._v(t._s(t.infoData.title))]),t._v(" "),a("div",{staticClass:"infoContent",staticStyle:{width:"60%","text-align":"left"}},["span"==t.infoData.type?a("span",[t._v(t._s(t.userInfo.name))]):t._e(),t._v(" "),"img"==t.infoData.type?a("img",{staticClass:"changeHeadrimg",staticStyle:{"margin-top":"20px","border-radius":"50%"},attrs:{src:""==t.userInfo.headerImg?"/static/img/defaultHeader.401ed54.png":t.userInfo.headerImg,alt:""}}):t._e()]),t._v(" "),a("el-button",{staticClass:"eltext",attrs:{type:"text"},on:{click:function(e){return t.handler()}}},[t._v(t._s(t.infoData.msg))])],1)])},staticRenderFns:[]};var r=a("VU/8")({name:"infoCard",props:["infoData"],data:function(){return{info:{}}},inject:["userInfo"],methods:{handler:function(){this.$emit("changeInfo")}},created:function(){}},s,!1,function(t){a("LCeB")},"data-v-7175d428",null).exports,c=a("mvHQ"),o=a.n(c),d=function(t,e,a){if(e.length<=20)return a();a(new Error("请输入20位以下的昵称"))},l={props:["isShow","changeData"],data:function(){return{show:!1,webApi:window.configs.axios_BASEURL,dchangeData:{},changeForm:{headerImg:""},fileList1:[],uploadData:{userId:17835208083,width:90,height:90},rules:{name:[{validator:d,trigger:"blur"},{required:!0,message:"请输入用户名",trigger:"blur"}]}}},inject:["userInfo"],watch:{changeData:function(t,e){this.dchangeData=t,this.changeForm=JSON.parse(o()(this.userInfo))}},methods:{uploadSuccess:function(t){1e3==t.errorCode&&(this.$message({type:"success",message:"修改成功"}),this.$store.commit("changeUserHeader",{headerImg:this.changeForm.headerImg}),this.close())},handlePictureCardPreview:function(t){},handleAvatarChangeIcon:function(t){var e=this,a=new FileReader;a.readAsDataURL(t.raw),a.onload=function(){e.changeForm.headerImg=a.result}},close:function(){this.changeForm=JSON.parse(o()(this.userInfo)),this.$emit("closeDialog")},beforeAvatarUpload:function(t){var e;e=["image/jpeg","image/jpg","image/png","image/bmp","image/gif"].indexOf(t.type)>=0;var a=t.size/1024/1024<1;return e||this.$message.error("上传头像图片格式不符!"),a||this.$message.error("上传头像图片大小不能超过 1MB!"),e&&a},submitData:function(t){var e=this;"span"==t?this.$store.dispatch("updateNickName",{userId:this.changeForm.id,userName:this.changeForm.name}).then(function(t){(t.data.errorCode=1e3)&&(e.$store.commit("changeUserName",{username:e.changeForm.name}),e.$message({type:"success",message:t.data.errorMsg}),e.close())}):"img"==t&&this.$refs.upload.submit()}},created:function(){this.uploadData.userId=this.$store.state.userInfo.id}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{"append-to-body":!0,title:t.changeData.msg,visible:t.isShow,center:"",width:"20%","before-close":t.close},on:{"update:visible":function(e){t.isShow=e}}},[a("el-form",{ref:"changeData",attrs:{model:t.changeForm}},["img"==t.dchangeData.type?a("el-form-item",[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{data:t.uploadData,action:t.webApi+"web/user/uploadIcon","auto-upload":!1,"show-file-list":!1,"before-upload":t.beforeAvatarUpload,"on-change":t.handleAvatarChangeIcon,"on-preview":t.handlePictureCardPreview,"on-success":t.uploadSuccess}},[a("img",{staticClass:"avatar",attrs:{src:t.changeForm.headerImg}})])],1):t._e(),t._v(" "),"span"==t.dchangeData.type?a("el-form-item",{attrs:{label:"昵称","label-width":"80px",prop:"name",rules:t.rules}},[a("el-input",{attrs:{maxlength:"8"},model:{value:t.changeForm.name,callback:function(e){t.$set(t.changeForm,"name",e)},expression:"changeForm.name"}})],1):t._e(),t._v(" "),a("el-form-item",{staticClass:"buttongroup"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitData(t.dchangeData.type)}}},[t._v("提交")]),t._v(" "),a("el-button",{on:{click:function(e){return t.close()}}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var g={name:"userInfo",components:{infoCard:r,changeHeader:a("VU/8")(l,u,!1,function(t){a("S5yx")},"data-v-ee8ed8d4",null).exports},data:function(){return{isActive:1,updataHead:!1,changeCom:"changeHeader",infoData:[{title:"头像",type:"img",msg:"修改头像"},{title:"昵称",type:"span",msg:"修改昵称"}],changeData:{}}},props:["userInfo"],methods:{changeInfo:function(t){this.changeData=t,this.updataHead=!0},closeDialog:function(){this.updataHead=!1}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"description"},[a("p",{staticClass:"title"},[t._v("个人资料")]),t._v(" "),t._l(t.infoData,function(e,n){return a("info-card",{key:n,attrs:{infoData:e},on:{changeInfo:function(a){return t.changeInfo(e)}}})}),t._v(" "),a(t.changeCom,{tag:"component",attrs:{isShow:t.updataHead,changeData:t.changeData},on:{closeDialog:t.closeDialog}})],2)},staticRenderFns:[]};var h=a("VU/8")(g,m,!1,function(t){a("s3pd")},"data-v-43632ec8",null).exports,A={name:"dayItem",props:["recordsarr","titlekey"],data:function(){return{imgUrl:window.configs.pic_BASEURL}},methods:{jumpToCartoon:function(t){this.$router.push({name:"videoDetail",params:{cartoonId:t.contentId,videoId:t.videoId}})}}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.recordsarr.length>0?a("div",[a("h2",{staticClass:"title"},[t._v(t._s(t.titlekey))]),t._v(" "),a("div",{staticClass:"playCard"},t._l(t.recordsarr,function(e){return a("div",{key:e.contentId,staticClass:"playItem"},[a("img",{staticClass:"playItemImg",attrs:{src:t.imgUrl+e.more4,alt:""},on:{click:function(a){return t.jumpToCartoon(e)}}}),t._v(" "),a("p",{staticClass:"playTitle"},[t._v(t._s(e.mediaName))])])}),0)]):t._e()},staticRenderFns:[]};var p={name:"playHistory",components:{dayItem:a("VU/8")(A,I,!1,function(t){a("JIef")},"data-v-ef2f1ee8",null).exports},data:function(){return{dateData:{"当天":[],"一周":[],"一月":[]},showHistory:!0}},methods:{timeRange:function(t){if(t){if("day"==t){var e=(n=(n=(new Date).toLocaleDateString()).split("/").join("-"))+" 00:00:00",a=n+" 23:59:59";return{startday:new Date(e).getTime(),endday:i=new Date(a).getTime()}}if("week"==t){var n=new Date,i=(e=new Date(n.getTime()-6048e5),new Date(n.getTime()));return{startday:e.getTime(),endday:i=i.getTime()}}if("month"==t){n=new Date,e=new Date(n.getTime()-2592e6),i=new Date(n.getTime()-864e5);return{startday:e.getTime(),endday:i=i.getTime()}}}}},mounted:function(){},created:function(){var t=this;this.$store.dispatch("getViewHistory",{userId:this.$store.state.userInfo.id}).then(function(e){var a=e.data.data.records;if(0==a.length?t.showHistory=!1:t.showHistory=!0,1e3==e.data.errorCode)for(var n=t.timeRange("day"),i=t.timeRange("week"),s=t.timeRange("month"),r=0;r<a.length;r++){a[r].mediaPic=configs.pic_BASEURL+a[r].mediaPic;var c=new Date(a[r].createTime).getTime();n.startday<=c&&c<=n.endday?t.dateData["当天"].push(a[r]):i.startday<=c&&i.endday>c?t.dateData["一周"].push(a[r]):s.startday<=c&&s.endday>c&&t.dateData["一月"].push(a[r])}})}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"64%"}},[t.showHistory?t._e():n("div",{staticClass:"nullHistory"},[n("img",{staticClass:"nullHistoryImg",attrs:{src:a("dsU6"),alt:""}}),t._v(" "),n("p",[t._v("你还没有任何观看记录，快去看精彩视频吧~")])]),t._v(" "),t.showHistory?n("el-scrollbar",[n("div",{staticClass:"dayTime"},t._l(t.dateData,function(t,e){return n("day-item",{key:e,attrs:{recordsarr:t,titlekey:e}})}),1)]):t._e()],1)},staticRenderFns:[]};var D={name:"personalCenter",components:{pcRight:i,userInfo:h,playHistory:a("VU/8")(p,f,!1,function(t){a("W+ER")},"data-v-08326134",null).exports},data:function(){return{curClickBtn:1,currentView:"playHistory",userInfo:{}}},provide:function(){return this.userInfo=this.$store.state.userInfo,{userInfo:this.userInfo}},methods:{changeType:function(t){this.curClickBtn=t,this.currentView=2==t?"userInfo":"playHistory"}},created:function(){"false"==sessionStorage.getItem("isLogin")||this.$router.replace({name:"mainPage"})},mounted:function(){this.$route.params!={}&&this.$route.params.comp&&(this.currentView=this.$route.params.comp,"userInfo"==this.currentView?this.curClickBtn=2:this.curClickBtn=1)}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bg"},[e("pc-right",{staticClass:"pcright",attrs:{isActive:this.curClickBtn},on:{changeType:this.changeType}}),this._v(" "),e(this.currentView,{tag:"component",staticClass:"comp",attrs:{userInfo:this.userInfo}})],1)},staticRenderFns:[]};var w=a("VU/8")(D,v,!1,function(t){a("52ht")},"data-v-17779018",null);e.default=w.exports},dsU6:function(t,e,a){t.exports=a.p+"static/img/nullHistory.9097ac2.png"},s3pd:function(t,e){},t0sC:function(t,e,a){t.exports=a.p+"static/img/pcrHead.de32620.png"},wT6x:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ4IDc5LjE2NDAzNiwgMjAxOS8wOC8xMy0wMTowNjo1NyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjg2RTg0QkJGMDNDNTExRUNCNzk3Q0UwQUM0MTk1NUVCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjg2RTg0QkMwMDNDNTExRUNCNzk3Q0UwQUM0MTk1NUVCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODZFODRCQkQwM0M1MTFFQ0I3OTdDRTBBQzQxOTU1RUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ODZFODRCQkUwM0M1MTFFQ0I3OTdDRTBBQzQxOTU1RUIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz61p9TcAAAB90lEQVR42mKcOXMmAxRsZQIS/4FYIy0tzZsJKnoDRAAEECNMGUwUwQAIIJjUfSD+AcTiQPwEZpIiEF8HYkGgiXoAAQRSuQPI8YBpBQqCzeGHqgap/AOSYAFiSwYkMGvWrP9MSHwhDGcAwTsYAyCAGJE8BTKXkQEVfAZiVaDlL1iQFKArAgFekAvR7YaBe1DNMsiC2BSCAqEBFCrIgrDAeA7EDxiwA3YgTgUIIJhn+oG4EIsiG1DAAd35Fma1MhAboyniAOLDIEUwN0ZDHX4GiK9Bgx5EfwfiA0Af18GiIQuIjRhwgw6YiQeRPYdF4UGYQmTJP9AQWIuuGT0cQXxJqG+tkCVY0BSewxHnYIVfkfjGWNz4FaawGWoKCxZFIDe3gGwACDDkZLYaiEOg4bqMgTAA+eUZlC0Cixhk20KRgm0+EEsD8Rschp0FYi0gFgUa9AY9kWUD6SlQ/kcg/gDEL4FYApQtsRj2A5ogeaCu5AJiNiBeDDQ8jglqWDk0hAWAWAGIzYFYHoj5sGAxIDaDuhBUDrBD+bHI8SyIw2vLoREBymzWeMJTFF8GRAYRIK8AsRI0IYEM/wbNNVgBCwEDYcXcXCBOAuIXQJwPxHfJNVANiO2AeDMQJxORlOAGCuGQvwPFhAAHsoEgvBLqPZIBsAABURdh4QoAiBB5drt/zeIAAAAASUVORK5CYII="}});
//# sourceMappingURL=2.14af10fde27a1a728686.js.map