webpackJsonp([34],{"4XGm":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("woOf"),r=a.n(l),o=(a("nfHz"),{components:{pagination:a("RcBM").a},data:function(){return{tableHeight:void 0,pageName:"升级管理",changeComponent:"firmware",activeName:"firmware",form:{factory_name:"",target_version:"",update_type:""},updateTypes:[{update_type:0,label:"固件ROOM升级"},{update_type:1,label:"软件APK升级"}],tableData:[],currentPage:1,pageSize:10,total:1,update_status:["升级暂停","待升级","升级中","已升级"]}},created:function(){this.getUpdateList()},mounted:function(){this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-300},methods:{resetForm:function(e){this.$refs[e].resetFields(),this.getUpdateList()},search:function(){var e={factory_name:this.form.factory_name,target_version:this.form.target_version,update_type:this.form.update_type};this.getUpdateList(e)},getUpdateList:function(e){var t=this;this.$store.dispatch("axios_query_boxUpdateList",r()({pageNum:this.currentPage,pageSize:this.pageSize},e)).then(function(e){t.tableData=e.data.data||[],t.total=Number(e.data.dateSize)})}}}),s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upgrade"},[a("el-row",{style:{marginLeft:"10px"}},[a("el-form",{ref:"form",attrs:{inline:!0,model:e.form,"label-width":"100px","label-position":"left"}},[a("el-form-item",{attrs:{label:"厂商名称:",prop:"factory_name"}},[a("el-input",{attrs:{placeholder:"请输入搜索条件",size:"small"},model:{value:e.form.factory_name,callback:function(t){e.$set(e.form,"factory_name",t)},expression:"form.factory_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"升级版本:",prop:"target_version"}},[a("el-input",{attrs:{placeholder:"请输入搜索条件",size:"small"},model:{value:e.form.target_version,callback:function(t){e.$set(e.form,"target_version",t)},expression:"form.target_version"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"升级状态:",prop:"update_type"}},[a("el-select",{attrs:{size:"small"},model:{value:e.form.update_type,callback:function(t){e.$set(e.form,"update_type",t)},expression:"form.update_type"}},e._l(e.updateTypes,function(e){return a("el-option",{key:e.update_type,attrs:{label:e.label,value:e.update_type}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small"},on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.search}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,height:e.tableHeight}},[a("el-table-column",{attrs:{prop:"id",label:"任务ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"device_id",label:"设备ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sn_num",label:"SN-编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"factory_name",label:"厂商名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"local_version",label:"当前版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"target_version",label:"升级版本"}}),e._v(" "),a("el-table-column",{attrs:{prop:"system_version",label:"盒子类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"update_status",label:"升级状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.update_status[t.row.update_status]))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"softwareName",label:"在线状态"}})],1)],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:e.getUpdateList}})],1)},staticRenderFns:[]};var n=a("VU/8")(o,s,!1,function(e){a("Uo9w")},"data-v-79503404",null);t.default=n.exports},Uo9w:function(e,t){}});