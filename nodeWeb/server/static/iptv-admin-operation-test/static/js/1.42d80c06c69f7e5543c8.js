webpackJsonp([1,41],{"8bjY":function(e,t){},FuWJ:function(e,t){},HIpt:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("zL8q");var a=i("nfHz"),n=i("oudX"),o=i.n(n),r=i("QoLB"),l={name:"activeForm",inject:["getMenuId"],data:function(){return{baseUrl:window.configs.static_IMAGES_BASEURL,action:"",levelId:"",dialogFormVisible:!1,menuId:this.getMenuId(),titleE:{New:"新建",Edit:"编辑"},booleanUp:[{id:"0",name:"未上线"},{id:"1",name:"测试"},{id:"2",name:"上线"}],form:{activityCname:"",activityStartTime:"",activityEndTime:"",activityPicId:"",activityLabelpicId:"",activityUrl:"",booleanUp:"",rankId:"1",labelPicUrl:"",picUrl:""},formLabelWidth:"120px",labelImg:o.a,activeImg:o.a,rules:{activityCname:[{required:!0,message:"必填项",trigger:"blur"}]}}},methods:{setImg:function(e,t){t?(this.activeImg=e.domainUrl+e.picPath,this.form.activityPicId=e.id):(this.labelImg=e.domainUrl+e.picPath,this.form.activityLabelpicId=e.id)},getRole:function(){var e=this;this.$store.dispatch("axios_get_role",{menuId:this.menuId}).then(function(t){e.roleData=t.data.data.list.records}).catch(function(e){})},addActive:function(){this.action="New",this.dialogFormVisible=!0,this.form={activityCname:"",activityStartTime:"",activityEndTime:"",activityPicId:"",activityLabelpicId:"",activityUrl:"",booleanUp:"",rankId:"1",labelPicUrl:"",picUrl:""},this.labelImg=o.a,this.activeImg=o.a},editActive:function(e){this.form=e,this.form.booleanUp=e.booleanUp+"",this.activeImg=this.baseUrl+e.picUrl,this.labelImg=this.baseUrl+e.labelPicUrl,this.action="Edit",this.dialogFormVisible=!0},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;"New"==t.action?t.$store.dispatch("axios_add_active",t.form).then(function(e){t.$message.success("添加成功"),t.$emit("refreshActive")}).catch(function(e){t.$message.error("添加失败")}):"Edit"==t.action&&t.$store.dispatch("axios_edit_active",t.form).then(function(e){t.$message.success("修改成功"),t.$emit("refreshActive")}).catch(function(e){t.$message.error("修改失败")}),t.dialogFormVisible=!1})}},created:function(){},mounted:function(){var e=this;a.a.$on("addActive",function(){e.addActive()}),a.a.$on("editActive",function(t){e.editActive(t)})},beforeDestroy:function(){a.a.$off("addActive"),a.a.$off("editActive")},components:{image_choice:r.a}},s={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{title:e.titleE[e.action],visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[i("el-form-item",{attrs:{label:"活动名称",prop:"activityCname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityCname,callback:function(t){e.$set(e.form,"activityCname",t)},expression:"form.activityCname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始时间","label-width":e.formLabelWidth}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.activityStartTime,callback:function(t){e.$set(e.form,"activityStartTime",t)},expression:"form.activityStartTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"结束时间","label-width":e.formLabelWidth}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.activityEndTime,callback:function(t){e.$set(e.form,"activityEndTime",t)},expression:"form.activityEndTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"活动图片","label-width":e.formLabelWidth}},[i("el-popover",{attrs:{placement:"right",width:"545",trigger:"hover"}},[i("img",{staticClass:"flagImage",attrs:{slot:"reference",src:e.activeImg},slot:"reference"}),e._v(" "),i("image_choice",{on:{getSelectImage:function(t){return e.setImg(t,1)}}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"标签图片","label-width":e.formLabelWidth}},[i("el-popover",{attrs:{placement:"right",width:"545",trigger:"hover"}},[i("img",{staticClass:"flagImage",attrs:{slot:"reference",src:e.labelImg},slot:"reference"}),e._v(" "),i("image_choice",{on:{getSelectImage:function(t){return e.setImg(t,0)}}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"排行ID","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.form.rankId,callback:function(t){e.$set(e.form,"rankId",t)},expression:"form.rankId"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否上架","label-width":e.formLabelWidth}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.booleanUp,callback:function(t){e.$set(e.form,"booleanUp",t)},expression:"form.booleanUp"}},e._l(e.booleanUp,function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"活动地址","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityUrl,callback:function(t){e.$set(e.form,"activityUrl",t)},expression:"form.activityUrl"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(l,s,!1,function(e){i("JelD")},"data-v-59097040",null).exports,f=i("VxYR"),m=i("2AoD"),u={name:"activeList",inject:["getMenuId"],components:{activeForm:c,Pagination:i("RcBM").a,keySearch:f.a,dateSearch:m.a,startTime:"",endTime:""},data:function(){return{menuId:this.getMenuId(),booleanUp:{0:"未上线",1:"测试",2:"上线"},currentPage:1,pageSize:10,total:1,userData:[],search:"",activeData:[],tableHeight:void 0,loading:!0}},created:function(){this.getActiveList()},mounted:function(){this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-200},methods:{refreshActive:function(){this.getActiveList()},getSearchTime:function(e){this.startTime=e[0],this.endTime=e[1],this.getActiveList()},createUrl:function(e,t){var i=this;this.$store.dispatch("axios_get_createSpecialUrl",{contentId:t[e].id,type:"5"}).then(function(e){"1000"==e.data.errorCode?(i.refreshActive(),i.$message.success("已创建专项链接！")):"1002"==e.data.errorCode&&i.$message.success("创建专项链接失败!"+e.data.errorMsg)}).catch(function(e){i.loading=!1})},getActiveList:function(e){var t=this;this.$store.dispatch("axios_get_active",{searchValue:e,startTime:this.startTime,endTime:this.endTime,pageNum:this.currentPage,pageSize:this.pageSize}).then(function(e){t.activeData=e.data.data.list.records,t.total=e.data.data.list.total,t.loading=!1}).catch(function(e){t.loading=!1})},handleCreate:function(){this.$emit("changeView","createActive",{})},handleEdit:function(e,t){this.$emit("changeView","createActive",t[e]),a.a.$emit("editActive",t[e])},handleDelete:function(e,t){var i=this;this.$confirm("此操作将永久删除该条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){i.$store.dispatch("axios_del_active",{ids:t[e].id}).then(function(e){"1000"==e.data.errorCode?(i.$message({message:e.data.errorMsg,type:"success"}),i.refreshActive()):i.$message({message:e.data.errorMsg,type:"warning"})}).catch(function(e){i.$message({message:"删除失败，服务器暂无响应！",type:"error"})})}).catch(function(){i.$message({type:"info",message:"已取消删除"})})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"btn_area"},[i("div",{staticClass:"add_btn"},[i("keySearch",{on:{searchData:e.getActiveList}}),e._v(" "),i("dateSearch",{on:{searchTime:e.getSearchTime}}),e._v(" "),e.isAuth("system:special:insert")?i("el-button",{style:{float:"right",margin:"0 70px 0 0"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.handleCreate()}}},[e._v("新增")]):e._e()],1)]),e._v(" "),e.isAuth("system:activity:list")?i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",attrs:{data:e.activeData,height:e.tableHeight},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{prop:"id",label:"ID",width:"65"}}),e._v(" "),i("el-table-column",{attrs:{prop:"activityCname",label:"活动名称"}}),e._v(" "),i("el-table-column",{attrs:{prop:"activityUrl",label:"活动地址"}}),e._v(" "),i("el-table-column",{attrs:{prop:"activityStartTime",label:"开始时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"activityEndTime",label:"结束时间"}}),e._v(" "),i("el-table-column",{attrs:{prop:"commSpecialEname",label:"专项链接"}}),e._v(" "),i("el-table-column",{attrs:{prop:"booleanUp",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.booleanUp[t.row.booleanUp]))]}}],null,!1,967987899)}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{plain:"",size:"mini",type:"success"},on:{click:function(i){return e.createUrl(t.$index,e.activeData)}}},[e._v("创建专项链接")]),e._v(" "),e.isAuth("system:activity:update")?i("el-button",{attrs:{plain:"",size:"mini",type:"warning"},on:{click:function(i){return e.handleEdit(t.$index,e.activeData)}}},[e._v("编 辑")]):e._e(),e._v(" "),e.isAuth("system:activity:delete")?i("el-button",{attrs:{plain:"",size:"mini",type:"danger"},on:{click:function(i){return e.handleDelete(t.$index,e.activeData)}}},[e._v("删 除")]):e._e()]}}],null,!1,2265488947)})],1):e._e(),e._v(" "),i("activeForm",{on:{refreshActive:e.refreshActive}}),e._v(" "),e.isAuth("system:activity:list")?e._e():i("div",{staticClass:"msg"},[e._v("暂无权限")]),e._v(" "),e.isAuth("system:activity:list")?i("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:e.getActiveList}}):e._e()],1)},staticRenderFns:[]};var d=i("VU/8")(u,p,!1,function(e){i("MzRM")},"data-v-12b66e4c",null).exports,h=i("mvHQ"),v=i.n(h),g=i("fZjL"),b=i.n(g),y={name:"activeInfo",props:["actionType"],inject:["getActiveData","setActiveData"],data:function(){return{form:{activityCname:"",activityEname:"",activityUrl:"",activityPrePageUrl:"",activityStartTime:void 0,activityEndTime:void 0},rules:{activityCname:[{required:!0,message:"必填项",trigger:"blur"},{min:2,max:18,message:"长度在2-18位字符",trigger:"blur"}],activityEname:[{required:!0,message:"必填项",trigger:"blur"}],activityStartTime:[{required:!0,message:"请选择日期",trigger:"change"}],activityEndTime:[{required:!0,message:"请选择日期",trigger:"change"}]},formLabelWidth:"120px"}},created:function(){this.actionType&&(this.form=this.getActiveData())},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$message.success("活动："+t.form.activityCname+"已生成"),t.setActiveData(t.form)):t.$message.warning("信息未填写完整！")})}}},_={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.actionType,expression:"!actionType"}]},[e._v("新建活动信息")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.actionType,expression:"actionType"}]},[e._v("编辑活动信息")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.actionType,expression:"!actionType"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提 交")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.actionType,expression:"actionType"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.setActiveData({})}}},[e._v("删 除")])],1),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[e.form.id?i("el-form-item",{attrs:{label:"活动ID",prop:"id","label-width":e.formLabelWidth}}):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"活动中文名",prop:"activityCname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityCname,callback:function(t){e.$set(e.form,"activityCname",t)},expression:"form.activityCname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"活动英文名",prop:"activityEname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityEname,callback:function(t){e.$set(e.form,"activityEname",t)},expression:"form.activityEname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"活动地址",prop:"activityUrl","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityUrl,callback:function(t){e.$set(e.form,"activityUrl",t)},expression:"form.activityUrl"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"活动返回地址",prop:"activityPrePageUrl","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.activityPrePageUrl,callback:function(t){e.$set(e.form,"activityPrePageUrl",t)},expression:"form.activityPrePageUrl"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始时间","label-width":e.formLabelWidth,prop:"activityStartTime"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.activityStartTime,callback:function(t){e.$set(e.form,"activityStartTime",t)},expression:"form.activityStartTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"结束时间","label-width":e.formLabelWidth,prop:"activityEndTime"}},[i("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.activityEndTime,callback:function(t){e.$set(e.form,"activityEndTime",t)},expression:"form.activityEndTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否上架","label-width":e.formLabelWidth}},[i("el-switch",{attrs:{"active-value":2,"inactive-value":0,"active-color":"#13ce66"},model:{value:e.form.booleanUp,callback:function(t){e.$set(e.form,"booleanUp",t)},expression:"form.booleanUp"}})],1)],1)],1)],1)},staticRenderFns:[]};var x=i("VU/8")(y,_,!1,function(e){i("n1I5")},"data-v-fc2bc548",null).exports,w=i("HgDD"),P={name:"activePageInfo",props:["actionType"],inject:["getPageInfo","setTabView","getPageInfoList","checkUniquPageParent","setUniquPageParent","setActionType","setEditData"],components:{image_choice:r.a},data:function(){return{form:{activityId:"",pageCname:"",pageEname:"",pageFlag:0,prePageId:"",pageBigpicUrl:"",fn:{list:void 0,inputPhone:void 0,focus:[],exChange:[]}},hasParentPage:!1,pageOptions:[],imagesBaseUrl:window.configs.static_IMAGES_BASEURL,formLabelWidth:"120px",rules:{pageCname:[{required:!0,message:"请输入名称",trigger:"blur"}],pageEname:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){this.actionType&&(this.form=this.getPageInfo(),console.log("编辑页面信息 ===>>>>  "+v()(this.form))),this.$nextTick(function(){this.pageOptions=this.getPageInfoList()}),this.hasParentPage=this.checkUniquPageParent()},methods:{clearImg:function(){this.form.pageBigpicUrl=""},setImg:function(e){this.form.pageBigpicUrl=e.picPath,this.form.pageBigpicId=e.id},addFunction:function(){this.actionType=!1,this.setTabView("activePageFn"),this.setEditData(void 0)},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$message.success(t.form.pageCname+"页面已添加"),t.$emit("addActivePage",t.form)):t.$message.warning("信息未填写完整！")})}}},k={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!e.actionType,expression:"!actionType"}]},[e._v("新建活动页面")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.actionType,expression:"!actionType"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提 交")]),e._v(" "),i("span",{directives:[{name:"show",rawName:"v-show",value:e.actionType,expression:"actionType"}]},[e._v("编辑活动页面")]),e._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:e.actionType,expression:"actionType"}],staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.addFunction("form")}}},[e._v("增加功能")])],1),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[e.form.id?i("el-form-item",{attrs:{label:"页面ID",prop:"id","label-width":e.formLabelWidth}},[i("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"一级页面",prop:"pageFlag","label-width":e.formLabelWidth}},[i("el-switch",{attrs:{"active-color":"#13ce66","active-value":1,"inactive-value":0},model:{value:e.form.pageFlag,callback:function(t){e.$set(e.form,"pageFlag",t)},expression:"form.pageFlag"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"页面中文名",prop:"pageCname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.pageCname,callback:function(t){e.$set(e.form,"pageCname",t)},expression:"form.pageCname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"页面英文名",prop:"pageEname","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.pageEname,callback:function(t){e.$set(e.form,"pageEname",t)},expression:"form.pageEname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上一级页面",prop:"prePage","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.prePageId,callback:function(t){e.$set(e.form,"prePageId",t)},expression:"form.prePageId"}},e._l(e.pageOptions,function(e){return i("el-option",{key:e.pageEname,attrs:{label:e.pageCname,value:e.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"页面背景图",prop:"pageBigpicUrl","label-width":e.formLabelWidth}},[i("el-popover",{attrs:{placement:"right",width:"535",trigger:"hover"}},[i("el-input",{style:{display:"none"},attrs:{autocomplete:"off"},model:{value:e.form.pageBigpicUrl,callback:function(t){e.$set(e.form,"pageBigpicUrl",t)},expression:"form.pageBigpicUrl"}}),e._v(" "),i("el-button",{attrs:{slot:"reference",type:"warning",plain:""},on:{click:e.clearImg},slot:"reference"},[e._v("选 择")]),e._v(" "),i("image_choice",{on:{getSelectImage:function(t){return e.setImg(t)}}})],1),e._v(" "),e.form.pageBigpicUrl?i("img",{style:{width:"178px","margin-top":"20px"},attrs:{src:e.imagesBaseUrl+e.form.pageBigpicUrl}}):e._e()],1)],1)],1)],1)},staticRenderFns:[]};var I=i("VU/8")(P,k,!1,function(e){i("XIAg")},"data-v-79265f0f",null).exports,$={name:"focus",props:["actionType"],components:{image_choice:r.a},inject:["getPageInfoList","setFocus","getEditData"],data:function(){return{imagesBaseUrl:window.configs.static_IMAGES_BASEURL,focusTypeOptions:[{label:"跳转",value:"0"},{label:"兑换",value:"1"},{label:"保存手机",value:"2"},{label:"清除手机",value:"3"}],freeTypeOptions:[{label:"收费",value:"0"},{label:"免费",value:"1"},{label:"试玩",value:"2"}],pageOptions:[],freeTypeValue:"",focusTypeValue:"",formLabelWidth:"120px",form:{focusCName:"",recomendPic:[],recomendLabelPic:[],recommendShowPic:[],focusType:""}}},created:function(){this.getEditData()&&(this.form=this.getEditData()),this.$nextTick(function(){this.pageOptions=this.getPageInfoList(),console.log("focusCreated")})},methods:{removeRecome:function(e,t,i){var a=this;switch(i){case 0:this.form.recomendPic.forEach(function(t,i){t.id==e.id&&a.form.recomendPic.splice(i,1)});break;case 1:this.form.recomendLabelPic.forEach(function(t,i){t.id==e.id&&a.form.recomendLabelPic.splice(i,1)});break;case 2:this.form.recommendShowPic.forEach(function(t,i){t.id==e.id&&a.form.recommendShowPic.splice(i,1)})}},recomUploadSuccess:function(e,t){switch(e.url=this.imagesBaseUrl+e.picPath,e.checked=!1,t){case 0:this.form.recomendPic.push(e);break;case 1:this.form.recomendLabelPic.push(e);break;case 2:this.form.recommendShowPic.push(e)}},onSubmit:function(e){var t=this;return this.$refs[e].validate(function(e){e?(t.form.focusId=Math.floor(1e5*Math.random()+1),t.setFocus(JSON.parse(v()(t.form)))):t.$message.warning("信息未填写完整！")}),this.form}}},L={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"焦点名称",prop:"focusCName","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.focusCName,callback:function(t){e.$set(e.form,"focusCName",t)},expression:"form.focusCName"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"点击：",prop:"focusType","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.focusType,callback:function(t){e.$set(e.form,"focusType",t)},expression:"form.focusType"}},e._l(e.focusTypeOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),"0"==e.form.focusType?i("el-form-item",{attrs:{label:"跳转页面",prop:"jumpPage","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.jumpPage,callback:function(t){e.$set(e.form,"jumpPage",t)},expression:"form.jumpPage"}},e._l(e.pageOptions,function(e){return i("el-option",{key:e.pageEname,attrs:{label:e.pageCname,value:e.actiPageId}})}),1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"付费",prop:"freeType","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.freeType,callback:function(t){e.$set(e.form,"freeType",t)},expression:"form.freeType"}},e._l(e.freeTypeOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"未选中图",prop:"recomendPic","label-width":e.formLabelWidth}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"","file-list":e.form.recomendPic,"on-remove":function(t,i){return e.removeRecome(t,i,0)},"list-type":"picture"}},[i("el-popover",{attrs:{slot:"tip",placement:"right",width:"535",trigger:"hover"},slot:"tip"},[i("el-button",{attrs:{slot:"reference",size:"small",type:"primary",plain:""},slot:"reference"},[e._v("添 加")]),e._v(" "),i("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[i("div",{staticClass:"balnce"},[i("image_choice",{on:{getSelectImage:function(t){return e.recomUploadSuccess(t,0)}}})],1)])],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"选中图",prop:"recomendLabelPic","label-width":e.formLabelWidth}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"","file-list":e.form.recomendLabelPic,"on-remove":function(t,i){return e.removeRecome(t,i,1)},"list-type":"picture"}},[i("el-popover",{attrs:{slot:"tip",placement:"right",width:"535",trigger:"hover"},slot:"tip"},[i("el-button",{attrs:{slot:"reference",size:"small",type:"primary",plain:""},slot:"reference"},[e._v("添 加")]),e._v(" "),i("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[i("div",{staticClass:"balnce"},[i("image_choice",{on:{getSelectImage:function(t){return e.recomUploadSuccess(t,1)}}})],1)])],1)],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"选中显示",prop:"recommendShowPic","label-width":e.formLabelWidth}},[i("el-upload",{staticClass:"upload-demo",attrs:{action:"","file-list":e.form.recommendShowPic,"on-remove":function(t,i){return e.removeRecome(t,i,2)},"list-type":"picture"}},[i("el-popover",{attrs:{slot:"tip",placement:"right",width:"535",trigger:"hover"},slot:"tip"},[i("el-button",{attrs:{slot:"reference",size:"small",type:"primary",plain:""},slot:"reference"},[e._v("添 加")]),e._v(" "),i("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[i("div",{staticClass:"balnce"},[i("image_choice",{on:{getSelectImage:function(t){return e.recomUploadSuccess(t,2)}}})],1)])],1)],1)],1)],1)],1)},staticRenderFns:[]};var T=i("VU/8")($,L,!1,function(e){i("Kovg")},"data-v-579d87aa",null).exports,C=i("ipLJ"),V=i.n(C),S={name:"list",props:["actionType"],inject:["getPageInfo","setTabView","setList","getEditData"],data:function(){return{typeOptions:[{value:"1",label:"积分榜"},{value:"2",label:"排行榜"}],predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],form:{type:"",width:"",height:"",top:"",left:"",color:"",fontSize:""},formLabelWidth:"120px"}},created:function(){this.getEditData()&&(this.form=this.getEditData())},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.form.checked=!1,t.form.id=parseInt(1e4*Math.random()),t.form.uid="list_"+parseInt(1e4*Math.random()),t.form.url=V.a,t.form.picW=t.form.width,t.form.picH=t.form.height,t.form.xValue=t.form.top,t.form.yValue=t.form.left,t.setList(JSON.parse(v()(t.form)))):t.$message.warning("信息未填写完整！")})}}},E={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"类型",prop:"type","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.typeOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"宽",prop:"width","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.width,callback:function(t){e.$set(e.form,"width",t)},expression:"form.width"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"高",prop:"height","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.height,callback:function(t){e.$set(e.form,"height",t)},expression:"form.height"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Y",prop:"top","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.top,callback:function(t){e.$set(e.form,"top",t)},expression:"form.top"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"X",prop:"left","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.left,callback:function(t){e.$set(e.form,"left",t)},expression:"form.left"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字体颜色",prop:"color","label-width":e.formLabelWidth}},[i("div",{staticClass:"block"},[i("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"字体大小",prop:"fontSize","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.fontSize,callback:function(t){e.$set(e.form,"fontSize",t)},expression:"form.fontSize"}})],1)],1)],1)},staticRenderFns:[]};var U=i("VU/8")(S,E,!1,function(e){i("OLm5")},"data-v-310b6b51",null).exports,A={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{label:"归属焦点",prop:"belongFocus","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.form.belongFocus,callback:function(t){e.$set(e.form,"belongFocus",t)},expression:"form.belongFocus"}},e._l(e.focusOption,function(e){return i("el-option",{key:e.focusId,attrs:{label:e.focusCName,value:e.focusId}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"兑换限制",prop:"limit","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.limit,callback:function(t){e.$set(e.form,"limit",t)},expression:"form.limit"}})],1)],1)],1)},staticRenderFns:[]};var W=i("VU/8")({name:"exChange",props:["actionType"],inject:["getPageInfo","setTabView","setExChange","getPageFocus","getEditData"],data:function(){return{form:{},focusOption:[],formLabelWidth:"120px"}},created:function(){this.focusOption=this.getPageFocus(),this.getEditData()&&(this.form=this.getEditData())},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?t.setExChange(t.form):t.$message.warning("信息未填写完整！")})}}},A,!1,function(e){i("cp7W")},"data-v-6dae26a8",null).exports,F={name:"inputPhone",props:["actionType"],inject:["getPageInfo","setTabView","setInputPhone","getEditData"],data:function(){return{formLabelWidth:"120px",predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585","rgba(255, 69, 0, 0.68)","rgb(255, 120, 0)","hsv(51, 100, 98)","hsva(120, 40, 94, 0.5)","hsl(181, 100%, 37%)","hsla(209, 100%, 56%, 0.73)","#c7158577"],form:{phone:{width:"",height:"",top:"",left:"",color:"",fontSize:""},tip:{width:"",height:"",top:"",left:"",color:"",fontSize:""}}}},created:function(){this.getEditData()&&(this.form=this.getEditData())},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.form.tip.checked=!1,t.form.tip.id=parseInt(1e4*Math.random()),t.form.tip.uid="tip_"+parseInt(1e4*Math.random()),t.form.tip.url=V.a,t.form.tip.picW=t.form.tip.width,t.form.tip.picH=t.form.tip.height,t.form.tip.xValue=t.form.tip.top,t.form.tip.yValue=t.form.tip.left,t.form.phone.checked=!1,t.form.phone.id=parseInt(1e4*Math.random()),t.form.phone.uid="phone_"+parseInt(1e4*Math.random()),t.form.phone.url=V.a,t.form.phone.picW=t.form.phone.width,t.form.phone.picH=t.form.phone.height,t.form.phone.xValue=t.form.phone.top,t.form.phone.yValue=t.form.phone.left,t.setInputPhone(JSON.parse(v()(t.form)))):t.$message.warning("信息未填写完整！")})}}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-form",{ref:"form",attrs:{model:e.form}},[i("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[e._v("输入框")]),e._v(" "),i("el-form-item",{attrs:{label:"宽","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.phone.width,callback:function(t){e.$set(e.form.phone,"width",t)},expression:"form.phone.width"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"高","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.phone.height,callback:function(t){e.$set(e.form.phone,"height",t)},expression:"form.phone.height"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Y","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.phone.top,callback:function(t){e.$set(e.form.phone,"top",t)},expression:"form.phone.top"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"X","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.phone.left,callback:function(t){e.$set(e.form.phone,"left",t)},expression:"form.phone.left"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字体颜色","label-width":e.formLabelWidth}},[i("div",{staticClass:"block"},[i("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.form.phone.color,callback:function(t){e.$set(e.form.phone,"color",t)},expression:"form.phone.color"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"字体大小","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.phone.fontSize,callback:function(t){e.$set(e.form.phone,"fontSize",t)},expression:"form.phone.fontSize"}})],1),e._v(" "),i("el-form-item",{attrs:{"label-width":e.formLabelWidth}},[e._v("提示框")]),e._v(" "),i("el-form-item",{attrs:{label:"宽","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.tip.width,callback:function(t){e.$set(e.form.tip,"width",t)},expression:"form.tip.width"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"高","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.tip.height,callback:function(t){e.$set(e.form.tip,"height",t)},expression:"form.tip.height"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Y","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.tip.top,callback:function(t){e.$set(e.form.tip,"top",t)},expression:"form.tip.top"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"X","label-width":e.formLabelWidth}},[i("el-input-number",{attrs:{size:"mini"},model:{value:e.form.tip.left,callback:function(t){e.$set(e.form.tip,"left",t)},expression:"form.tip.left"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"字体颜色","label-width":e.formLabelWidth}},[i("div",{staticClass:"block"},[i("el-color-picker",{attrs:{"show-alpha":"",predefine:e.predefineColors},model:{value:e.form.tip.color,callback:function(t){e.$set(e.form.tip,"color",t)},expression:"form.tip.color"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:"字体大小","label-width":e.formLabelWidth}},[i("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.tip.fontSize,callback:function(t){e.$set(e.form.tip,"fontSize",t)},expression:"form.tip.fontSize"}})],1)],1)],1)},staticRenderFns:[]};var z={name:"activePageFn",props:["actionType","setTabView","fnType"],inject:["getPageInfo","setTabView","setFocus","setList","setInputPhone","setExChange","getEditData"],components:{focus:T,list:U,inputPhone:i("VU/8")(F,D,!1,function(e){i("8bjY")},"data-v-220cf944",null).exports,exChange:W},data:function(){return{fnOptions:[{label:"焦点功能",value:1},{label:"榜单功能",value:2},{label:"手机输入功能",value:3},{label:"兑换功能",value:4}],value:void 0,formLabelWidth:"120px"}},created:function(){this.actionType&&(this.form=this.getPageInfo(),this.value=this.fnType)},methods:{setFnType:function(e){this.value=e},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$refs.childSubmit.onSubmit("form"),t.setTabView("activePageInfo")):t.$message.warning("信息未填写完整！")})}},destroyed:function(){a.a.$off(["editFocus"])}},M={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("页面添加功能")]),e._v(" "),e.getEditData()?e._e():i("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提 交")])],1),e._v(" "),i("el-form",{ref:"form",attrs:{model:e.form}},[e.form.id?i("el-form-item",{attrs:{label:"页面ID",prop:"id","label-width":e.formLabelWidth}},[i("el-input",{attrs:{disabled:!0,autocomplete:"off"},model:{value:e.form.id,callback:function(t){e.$set(e.form,"id",t)},expression:"form.id"}})],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"功能","label-width":e.formLabelWidth}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.fnOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),1==e.value?i("div",[i("focus",{ref:"childSubmit",attrs:{actionType:e.actionType}})],1):2==e.value?i("div",[i("list",{ref:"childSubmit",attrs:{actionType:e.actionType}})],1):3==e.value?i("div",[i("inputPhone",{ref:"childSubmit",attrs:{actionType:e.actionType}})],1):4==e.value?i("div",[i("exChange",{ref:"childSubmit",attrs:{actionType:e.actionType}})],1):e._e()],1)],1)],1)},staticRenderFns:[]};var N=i("VU/8")(z,M,!1,function(e){i("Ufh+")},"data-v-7fcdbddd",null).exports,B={name:"createActive",components:{activeView:w.default,activeInfo:x,activePageInfo:I,activePageFn:N},data:function(){return{xValue:0,yValue:0,activeData:{},activePageInfoList:[],pageInfo:{},actionType:!1,tabView:"activeInfo",refreshForm:!0,listType:{1:"积分榜",2:"排行榜"},hasParentPage:!1,editData:void 0,formLabelWidth:"120px",fnType:0}},props:["activeId"],provide:function(){var e=this;return{checkUniquPageParent:function(){return e.hasParentPage},setUniquPageParent:function(t){return e.hasParentPage=t},setActiveData:function(t){return e.activeData=t,e.tabView=""},getActiveData:function(){return e.activeData},getPageInfo:function(){return e.pageInfo},getPageInfoList:function(){return e.activePageInfoList},getPageFocus:function(){return e.pageInfo.fn.focus},setTabView:function(t){return e.tabView=t},getEditData:function(){return e.editData},setEditData:function(t){return e.editData=t},reload:this.reLoadForm,setFocus:function(t){return e.addPageFocus(t)},setList:function(t){return e.addPageList(t)},setInputPhone:function(t){return e.addInputPhone(t)},setExChange:function(t){return e.addExChange(t)},setActionType:function(t){return e.actionType=t}}},computed:{formatEditActiveData:function(){var e=this;return this.activeData.activityPages.forEach(function(t){t.fn={},t.activityPageConfigs.forEach(function(e){t.fn[e.attrKey]=JSON.parse(e.attrJson)}),delete t.activityPageConfigs,e.addActivePage(t)}),this.activeData},formatActiveData:function(){return this.activeData.activityPages.forEach(function(e){e.activityPageConfigs=[],e.fn.focus&&e.activityPageConfigs.push({attrJson:e.fn.focus,attrKey:"focus",pageId:e.id}),e.fn.exChange&&e.activityPageConfigs.push({attrJson:e.fn.exChange,attrKey:"exChange",pageId:e.id}),e.fn.list&&e.activityPageConfigs.push({attrJson:e.fn.list,attrKey:"list",pageId:e.id}),e.fn.inputPhone&&e.activityPageConfigs.push({attrJson:e.fn.inputPhone,attrKey:"inputPhone",pageId:e.id})}),this.activeData}},methods:{changePisition:function(e,t,i){i?t.yValue=e:t.xValue=e},getFocusName:function(e){var t="";return this.pageInfo.fn.focus.forEach(function(i){i.focusId==e&&(t=i.focusCName)}),t},addActivePage:function(e){this.tabView="",this.activePageInfoList.unshift(e),this.activePageInfoList=this.filterPageList(this.activePageInfoList)},editPageInfo:function(e,t,i){this.actionType=t,this.$refs.renderView.resetView(),this.tabView=e,this.reLoadForm(),t?(this.pageInfo=i,this.$refs.renderView.renderViewImg()):this.editData=void 0},delPageInfo:function(e){this.activePageInfoList.splice(e,1),this.editPageInfo("activePageInfo",!1)},addPageFocus:function(e){this.reLoadForm(),this.$refs.renderView.resetView(),this.pageInfo.fn.focus.unshift(e),this.$refs.renderView.renderViewImg()},delPageFocus:function(e,t){this.$refs.renderView.resetView(),this.reLoadForm(),e.splice(t,1),this.$refs.renderView.renderViewImg()},addPageList:function(e){this.reLoadForm(),this.$refs.renderView.resetView(),this.pageInfo.fn.list=e,this.$refs.renderView.renderViewImg()},addInputPhone:function(e){this.$refs.renderView.resetView(),this.pageInfo.fn.inputPhone=e,this.$refs.renderView.renderViewImg()},addExChange:function(e){this.pageInfo.fn.exChange.unshift(e)},delPageExChange:function(e,t){e.splice(t,1)},delPageList:function(){this.$refs.renderView.resetView(),this.$refs.renderView.renderViewImg()},resetForm:function(e,t){this.actionType=t,this.tabView=e,this.reLoadForm()},editFn:function(e,t,i){this.pageInfo=i,this.reLoadForm(),this.actionType=!0,this.tabView="activePageFn",this.editData=t,this.fnType=e},goBack:function(){this.$emit("changeView","activeList")},reLoadForm:function(){this.refreshForm=!1,this.$nextTick(function(){this.refreshForm=!0})},filterPageList:function(e){var t={};return e.reduce(function(e,i){return!t[i.pageEname]&&(t[i.pageEname]=e.unshift(i)),e},[])},saveActive:function(){var e=this;this.activeData.activityPages=this.activePageInfoList;var t=void 0;t=this.activeId?"axios_edit_active":"axios_add_active",this.$store.dispatch(t,this.formatActiveData).then(function(t){e.$message.success("添加成功"),e.$emit("refreshActive")}).catch(function(t){e.$message.error("添加失败")})},deteleObject:function(e){for(var t=[],i={},a=0;a<e.length;a++){var n=b()(e[a]);n.sort(function(e,t){return Number(e)-Number(t)});for(var o="",r=0;r<n.length;r++)o+=v()(n[r]),o+=v()(e[a][n[r]]);i.hasOwnProperty(o)||(t.push(e[a]),i[o]=!0)}return t=t}},mounted:function(){var e=this;this.activeId&&this.$store.dispatch("axios_get_active_by_id",{activityId:this.activeId}).then(function(t){e.activeData=t.data.data,e.activeData=e.formatEditActiveData,e.resetForm("activeInfo",!0)}).catch(function(e){console.log(e)})}},O={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"theme_activ"},[i("div",{staticClass:"theme"},[i("activeView",{ref:"renderView"})],1),e._v(" "),i("div",{staticClass:"theme_info"},[i("el-form",{attrs:{"label-position":"left"}},[i("el-button",{style:{color:"#409EFF"},attrs:{type:"text",icon:"el-icon-arrow-left"},on:{click:e.goBack}},[e._v("上一页")]),e._v(" "),i("el-button",{staticStyle:{float:"right","margin-right":"20px"},attrs:{type:"text"},on:{click:function(t){return e.saveActive()}}},[e._v("保 存")]),e._v(" "),i("el-divider",[i("i",[e._v("活动信息")])]),e._v(" "),i("el-form-item",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{"label-width":"81px"}},[e.activeData.activityCname?e._e():i("el-button",{attrs:{type:"primary",size:"small",circle:""},on:{click:function(t){return e.resetForm("activeInfo",!1)}}},[e._v("新建")])],1),e._v(" "),e.activeData.activityCname?i("el-form-item",{staticStyle:{color:"#409EFF","margin-top":"20px","margin-left":"20px"},attrs:{label:"活动名："+e.activeData.activityCname,"label-width":"170px"}},[i("el-button",{attrs:{type:"warning",circle:"",size:"mini"},on:{click:function(t){return e.resetForm("activeInfo",!0)}}},[e._v("编辑")])],1):e._e(),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-connection"},[e._v("活动页面")])]),e._v(" "),i("el-form-item",{staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{"label-width":"81px"}},[i("el-button",{attrs:{type:"primary",size:"small",circle:""},on:{click:function(t){return e.editPageInfo("activePageInfo",!1)}}},[e._v("新增")])],1),e._v(" "),e._l(e.activePageInfoList,function(t,a){return i("el-form-item",{key:t.pageEname,staticStyle:{"margin-top":"20px","margin-left":"20px"},attrs:{label:"页面名："+t.pageCname,"label-width":"150px"}},[i("el-button",{attrs:{type:"success",size:"mini",circle:""},on:{click:function(i){return e.editPageInfo("activePageInfo",!0,t)}}},[e._v("查看")]),e._v(" "),i("el-button",{attrs:{type:"info",size:"mini",circle:""},on:{click:function(i){return e.delPageInfo(t,a)}}},[e._v("删除")]),e._v(" "),e._l(t.fn.focus,function(a,n){return i("div",{key:a.focusCName,style:{"margin-left":"-138px"}},[i("div",{staticClass:"fn_title"},[e._v("\n            焦点功能\n            "),i("el-button",{staticStyle:{margin:"2px 0 0 51px"},attrs:{type:"warning",size:"mini",circle:""},on:{click:function(i){return e.editFn(1,a,t)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{margin:"2px 0 0 9px"},attrs:{type:"info",size:"mini",circle:""},on:{click:function(i){return e.delPageFocus(t.fn.focus,n)}}},[e._v("删除")])],1),e._v(" "),i("span",{staticClass:"fn_name_title"},[e._v(e._s("焦点名 "+a.focusCName))]),e._v(" "),e._l(a.recomendPic,function(t){return i("div",{key:t.uid},[i("el-checkbox",{model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"recomend.checked"}},[e._v(e._s("未选中图："+t.picCname))]),e._v(" "),i("div",[e._v("\n              X ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!1)}},model:{value:t.xValue,callback:function(i){e.$set(t,"xValue",i)},expression:"recomend.xValue"}})],1),e._v(" "),i("div",[e._v("\n              Y ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!0)}},model:{value:t.yValue,callback:function(i){e.$set(t,"yValue",i)},expression:"recomend.yValue"}})],1)],1)}),e._v(" "),e._l(a.recomendLabelPic,function(t){return i("div",{key:t.uid},[i("el-checkbox",{model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"recomendLabel.checked"}},[e._v(e._s("选中图："+t.picCname))]),e._v(" "),i("div",[e._v("\n              X ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!1)}},model:{value:t.xValue,callback:function(i){e.$set(t,"xValue",i)},expression:"recomendLabel.xValue"}})],1),e._v(" "),i("div",[e._v("\n              Y ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!0)}},model:{value:t.yValue,callback:function(i){e.$set(t,"yValue",i)},expression:"recomendLabel.yValue"}})],1)],1)}),e._v(" "),e._l(a.recommendShowPic,function(t){return i("div",{key:t.uid},[i("el-checkbox",{model:{value:t.checked,callback:function(i){e.$set(t,"checked",i)},expression:"recommendShow.checked"}},[e._v(e._s("选中展示图："+t.picCname))]),e._v(" "),i("div",[e._v("\n              X ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!1)}},model:{value:t.xValue,callback:function(i){e.$set(t,"xValue",i)},expression:"recommendShow.xValue"}})],1),e._v(" "),i("div",[e._v("\n              Y ：\n              "),i("el-input-number",{attrs:{size:"mini"},on:{change:function(i){return e.changePisition(i,t,!0)}},model:{value:t.yValue,callback:function(i){e.$set(t,"yValue",i)},expression:"recommendShow.yValue"}})],1)],1)}),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-s-grid"})])],2)}),e._v(" "),t.fn.list?i("div",{style:{"margin-left":"-138px"}},[i("div",{staticClass:"fn_title"},[e._v("\n            榜单功能\n            "),i("el-button",{staticStyle:{margin:"2px 0 0 51px"},attrs:{type:"warning",size:"mini",circle:""},on:{click:function(i){return e.editFn(2,t.fn.list,t)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{margin:"2px 0 0 9px"},attrs:{type:"info",size:"mini",circle:""},on:{click:function(i){t.fn.list=void 0,e.delPageList()}}},[e._v("删除")])],1),e._v(" "),i("el-checkbox",{model:{value:t.fn.list.checked,callback:function(i){e.$set(t.fn.list,"checked",i)},expression:"item.fn.list.checked"}},[i("span",{staticClass:"fn_name_title"},[e._v(e._s(""+e.listType[t.fn.list.type]))])]),e._v(" "),i("div",[e._v("\n            X ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.list.xValue,callback:function(i){e.$set(t.fn.list,"xValue",i)},expression:"item.fn.list.xValue"}})],1),e._v(" "),i("div",[e._v("\n            Y ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.list.yValue,callback:function(i){e.$set(t.fn.list,"yValue",i)},expression:"item.fn.list.yValue"}})],1),e._v(" "),i("div",[e._v("\n            宽 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.list.picW,callback:function(i){e.$set(t.fn.list,"picW",i)},expression:"item.fn.list.picW"}})],1),e._v(" "),i("div",[e._v("\n            高 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.list.picH,callback:function(i){e.$set(t.fn.list,"picH",i)},expression:"item.fn.list.picH"}})],1),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-medal-1"})])],1):e._e(),e._v(" "),t.fn.inputPhone?i("div",{style:{"margin-left":"-138px"}},[i("div",{staticClass:"fn_title"},[e._v("\n            手机功能\n            "),i("el-button",{staticStyle:{margin:"2px 0 0 51px"},attrs:{type:"warning",size:"mini",circle:""},on:{click:function(i){return e.editFn(3,t.fn.inputPhone,t)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{margin:"2px 0 0 9px"},attrs:{type:"info",size:"mini",circle:""},on:{click:function(i){t.fn.inputPhone=void 0,e.delPageList()}}},[e._v("删除")])],1),e._v(" "),i("el-checkbox",{model:{value:t.fn.inputPhone.phone.checked,callback:function(i){e.$set(t.fn.inputPhone.phone,"checked",i)},expression:"item.fn.inputPhone.phone.checked"}},[e._v(e._s("输入框"))]),e._v(" "),i("div",[e._v("\n            X ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.phone.xValue,callback:function(i){e.$set(t.fn.inputPhone.phone,"xValue",i)},expression:"item.fn.inputPhone.phone.xValue"}})],1),e._v(" "),i("div",[e._v("\n            Y ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.phone.yValue,callback:function(i){e.$set(t.fn.inputPhone.phone,"yValue",i)},expression:"item.fn.inputPhone.phone.yValue"}})],1),e._v(" "),i("div",[e._v("\n            宽 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.phone.picW,callback:function(i){e.$set(t.fn.inputPhone.phone,"picW",i)},expression:"item.fn.inputPhone.phone.picW"}})],1),e._v(" "),i("div",[e._v("\n            高 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.phone.picH,callback:function(i){e.$set(t.fn.inputPhone.phone,"picH",i)},expression:"item.fn.inputPhone.phone.picH"}})],1),e._v(" "),i("el-checkbox",{model:{value:t.fn.inputPhone.tip.checked,callback:function(i){e.$set(t.fn.inputPhone.tip,"checked",i)},expression:"item.fn.inputPhone.tip.checked"}},[e._v(e._s("提示框"))]),e._v(" "),i("div",[e._v("\n            X ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.tip.xValue,callback:function(i){e.$set(t.fn.inputPhone.tip,"xValue",i)},expression:"item.fn.inputPhone.tip.xValue"}})],1),e._v(" "),i("div",[e._v("\n            Y ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.tip.yValue,callback:function(i){e.$set(t.fn.inputPhone.tip,"yValue",i)},expression:"item.fn.inputPhone.tip.yValue"}})],1),e._v(" "),i("div",[e._v("\n            宽 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.tip.picW,callback:function(i){e.$set(t.fn.inputPhone.tip,"picW",i)},expression:"item.fn.inputPhone.tip.picW"}})],1),e._v(" "),i("div",[e._v("\n            高 ：\n            "),i("el-input-number",{attrs:{size:"mini"},model:{value:t.fn.inputPhone.tip.picH,callback:function(i){e.$set(t.fn.inputPhone.tip,"picH",i)},expression:"item.fn.inputPhone.tip.picH"}})],1),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-mobile-phone"})])],1):e._e(),e._v(" "),e._l(t.fn.exChange,function(a,n){return i("div",{key:a.limit+parseInt(1e3*Math.random()),style:{"margin-left":"-138px"}},[i("div",{staticClass:"fn_title"},[e._v("\n            兑换功能\n            "),i("el-button",{staticStyle:{margin:"2px 0 0 51px"},attrs:{type:"warning",size:"mini",circle:""},on:{click:function(i){return e.editFn(4,a,t)}}},[e._v("编辑")]),e._v(" "),i("el-button",{staticStyle:{margin:"2px 0 0 9px"},attrs:{type:"info",size:"mini",circle:""},on:{click:function(i){return e.delPageExChange(t.fn.exChange,n)}}},[e._v("删除")])],1),e._v(" "),i("span",{staticClass:"fn_name_title"},[e._v(e._s("焦点ID:"+a.belongFocus+" 限制数:"+a.limit))]),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-present"})])],1)})],2)})],2),e._v(" "),i("el-divider",[i("i",{staticClass:"el-icon-upload"})]),e._v(" "),i("div",{staticClass:"dialog-footer"},[i("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){return e.saveActive()}}},[e._v("保存")])],1)],1),e._v(" "),i("div",{staticClass:"theme_config"},[e.refreshForm?i(e.tabView,{tag:"component",attrs:{actionType:e.actionType,fnType:e.fnType},on:{addActivePage:e.addActivePage}}):e._e()],1)])},staticRenderFns:[]};var R={name:"activeParent",inject:["getMenuId"],data:function(){return{currentTabComponent:"activeList",actionType:{contentId:"",action:""},activeId:"",menuId:this.getMenuId()}},components:{createActive:i("VU/8")(B,O,!1,function(e){i("UbU8")},"data-v-50e56b7e",null).exports,activeList:d},provide:function(){var e=this;return{setContentId:function(t){return e.actionType=t},getContentId:function(){return e.actionType}}},watch:{$route:function(e,t){}},methods:{changeView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.activeId=t.id,this.currentTabComponent=e},refreshActive:function(){this.currentTabComponent="activeList"}},mounted:function(){}},H={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[t(this.currentTabComponent,{tag:"component",attrs:{activeId:this.activeId},on:{changeView:this.changeView,refreshActive:this.refreshActive}})],1)],1)},staticRenderFns:[]};var j=i("VU/8")(R,H,!1,function(e){i("TACM")},"data-v-29895539",null);t.default=j.exports},HgDD:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});i("nfHz"),i("zL8q");var a={name:"activeView",inject:["getPageInfo","getPageFocus"],directives:{recomDrag:{bind:function(e,t){e.style.cursor="move";e.currentStyle||window.getComputedStyle(e,null);var i=t.value;e.onmousedown=function(t){var a=t.clientX-e.offsetLeft,n=t.clientY-e.offsetTop;document.onmousemove=function(t){var o=t.clientX-a,r=t.clientY-n;e.style.left=o+"px",e.style.top=r+"px",i.xValue=2*o,i.yValue=2*r},document.onmouseup=function(e){document.onmousemove=null,document.onmouseup=null}}}}},data:function(){return{imgArray:[],pageInfo:{},imagesBaseUrl:window.configs.static_IMAGES_BASEURL}},created:function(){},methods:{resetView:function(){this.imgArray=[],this.pageInfo={}},findPicById:function(e){var t=void 0;return this.imgArray.forEach(function(i,a){i.id==e&&(t=a)}),this.imgArray[t]},renderViewImg:function(){var e=this;this.pageInfo=this.getPageInfo(),this.pageInfo.fn.focus.forEach(function(t){t.recomendPic.length>0&&t.recomendPic.forEach(function(t){e.imgArray.push(t)}),t.recomendLabelPic.length>0&&t.recomendLabelPic.forEach(function(t){e.imgArray.push(t)}),t.recommendShowPic.length>0&&t.recommendShowPic.forEach(function(t){e.imgArray.push(t)})}),this.pageInfo.fn.inputPhone&&(this.imgArray.push(this.pageInfo.fn.inputPhone.tip),this.imgArray.push(this.pageInfo.fn.inputPhone.phone)),this.pageInfo.fn.list&&this.imgArray.push(this.pageInfo.fn.list)}}},n={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"theme_el"},[e.pageInfo.pageBigpicUrl?i("img",{staticClass:"page_background_img",attrs:{src:e.imagesBaseUrl+e.pageInfo.pageBigpicUrl}}):e._e(),e._v(" "),e._l(e.imgArray,function(t){return i("div",{directives:[{name:"recomDrag",rawName:"v-recomDrag",value:t,expression:"item"}],key:t.uid,staticClass:"img_connect",style:{width:t.picW/2+"px",height:t.picH/2+"px",top:t.yValue/2+"px",left:t.xValue/2+"px"},attrs:{id:t.uid}},[t.checked?i("img",{staticClass:"recommends",style:{width:t.picW/2+"px",height:t.picH/2+"px"},attrs:{src:t.url}}):e._e(),e._v(" "),i("div",{staticClass:"img_cover",attrs:{id:t.id}})])})],2)},staticRenderFns:[]};var o=i("VU/8")(a,n,!1,function(e){i("FuWJ")},"data-v-0bf84cff",null);t.default=o.exports},JelD:function(e,t){},Kovg:function(e,t){},MzRM:function(e,t){},OLm5:function(e,t){},TACM:function(e,t){},UbU8:function(e,t){},"Ufh+":function(e,t){},XIAg:function(e,t){},cp7W:function(e,t){},ipLJ:function(e,t,i){e.exports=i.p+"static/img/phone_num.e754a11.png"},n1I5:function(e,t){}});