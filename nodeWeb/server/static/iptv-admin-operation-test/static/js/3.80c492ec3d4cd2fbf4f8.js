webpackJsonp([3],{"KJ/r":function(e,t,a){"use strict";a("lzQ2");var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-popover",{attrs:{placement:"top",width:"170",trigger:"click"}},[a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){return e.batchIsFree(0)}}},[e._v("免费")]),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"primary",plain:""},on:{click:function(t){return e.batchIsFree(1)}}},[e._v("收费")]),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"primary",plain:""},slot:"reference"},[e._v("批量免费")])],1)},staticRenderFns:[]},r=a("VU/8")({name:"Pagination",methods:{batchIsFree:function(e){var t=this;this.$confirm("确定全部修改吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$emit("batchIsFree",e)}).catch(function(){t.$message({type:"info",message:"已取消操作"})})}}},i,!1,null,null,null);t.a=r.exports},MjcL:function(e,t){},Tuci:function(e,t){},XfGB:function(e,t){},ZPWI:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-button",{style:{float:"right",margin:"0 30px 0 0"},attrs:{icon:"el-icon-search",size:"mini",circle:""},on:{click:e.clickSearch}}),e._v(" "),a("el-input",{staticClass:"header-search-select",style:{float:"right"},attrs:{placeholder:"搜索节目名"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitSearch(t)}},model:{value:e.searchConfig.searchValue,callback:function(t){e.$set(e.searchConfig,"searchValue",t)},expression:"searchConfig.searchValue"}}),e._v(" "),a("el-drawer",{attrs:{size:"50%",visible:e.dialog,direction:"ttb"},on:{"update:visible":function(t){e.dialog=t}}},[a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.onSubmitSearch()}}},[e._v("搜 索")])],1),e._v(" "),a("div",{staticClass:"filterDiv"},[a("el-form",{attrs:{model:e.searchConfig,inline:!0}},[a("el-form-item",{attrs:{label:"版权开始时间","label-width":"120px"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.searchConfig.startTime,callback:function(t){e.$set(e.searchConfig,"startTime",t)},expression:"searchConfig.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版权结束时间","label-width":"120px"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.searchConfig.endTime,callback:function(t){e.$set(e.searchConfig,"endTime",t)},expression:"searchConfig.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"支持中文名，英文名","label-width":"160px"}},[a("el-input",{attrs:{placeholder:"输入关键字"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmitSearch(t)}},model:{value:e.searchConfig.searchValue,callback:function(t){e.$set(e.searchConfig,"searchValue",t)},expression:"searchConfig.searchValue"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否免费","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchConfig.booleanFree,callback:function(t){e.$set(e.searchConfig,"booleanFree",t)},expression:"searchConfig.booleanFree"}},e._l(e.booleanFree,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上架","label-width":"120px"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.searchConfig.booleanUp,callback:function(t){e.$set(e.searchConfig,"booleanUp",t)},expression:"searchConfig.booleanUp"}},e._l(e.booleanUp,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1)],1)],1)])],1)},staticRenderFns:[]};var r=a("VU/8")({data:function(){return{dialog:!1,searchConfig:{searchValue:"",booleanUp:"",booleanFree:"",startTime:"",endTime:""},booleanFree:[{name:"无",id:""},{name:"免费",id:0},{name:"收费",id:1}],booleanUp:[{name:"无",id:""},{name:"下架",id:0},{name:"上架",id:2}]}},methods:{clickSearch:function(){this.dialog=!0},onSubmitSearch:function(){this.dialog=!1,this.$emit("getTypeInfo",this.searchConfig)}},computed:{getSearchValue:function(){return this.searchConfig.searchValue}},watch:{dialog:function(e){e?(this.searchConfig.booleanFree="",this.searchConfig.booleanUp=""):(this.searchConfig.booleanFree="",this.searchConfig.booleanUp="",this.searchConfig.startTime="",this.searchConfig.endTime="")},getSearchValue:function(e){this.searchConfig.searchValue=e,this.$emit("getTypeInfo",this.searchConfig)}}},i,!1,function(e){a("Tuci")},"data-v-ca00ab92",null);t.a=r.exports},bvog:function(e,t){},i9oJ:function(e,t,a){"use strict";var i={name:"OnlineBatches",data:function(){return{dialogVisible:!1,radio:1,form:{booleanUpAll:1},booleanUpAll:1,rules:{booleanUpAll:[{required:!0,message:"请选择范围",trigger:"blur"}]}}},methods:{All:function(e){this.booleanUpAll=e},switchOnline:function(e){this.action=e,this.dialogVisible=!0},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$emit("batchOnLine",t.action,t.booleanUpAll),t.dialogVisible=!1})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-popover",{attrs:{placement:"top",width:"190",trigger:"click"}},[a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"info",plain:""},on:{click:function(t){return e.switchOnline(0)}}},[e._v("下架")]),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"success",plain:""},on:{click:function(t){return e.switchOnline(2)}}},[e._v("上架")]),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"success",plain:""},slot:"reference"},[e._v("批量上架")])],1),e._v(" "),a("el-dialog",{attrs:{title:"操作",visible:e.dialogVisible,"modal-append-to-body":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("span",[e._v("请选择为接下来勾选的节目子集选择全部上架或部分上架")]),e._v(" "),a("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"范围",prop:"booleanUpAll"}},[a("el-radio-group",{on:{change:e.All},model:{value:e.form.booleanUpAll,callback:function(t){e.$set(e.form,"booleanUpAll",t)},expression:"form.booleanUpAll"}},[a("el-radio",{attrs:{label:1}},[e._v("全部")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("部分")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("立即创建")]),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]},o=a("VU/8")(i,r,!1,null,null,null);t.a=o.exports},o7ru:function(e,t){},"oJ/i":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("mvHQ"),r=a.n(i),o=a("woOf"),n=a.n(o),s=a("bOdI"),l=a.n(s),c=a("zL8q"),d=a("nfHz"),m=a("oudX"),u=a.n(m),f=a("QoLB"),h={name:"programForm",data:function(){var e,t=this;return e={searchKeyWord:"",iconView:!1,dialogFormVisible:!1,action:"",menuId:"",detailPicUrl:u.a,labelPicUrl:u.a,iconPicUrl:u.a,typeValue:"",formLabelWidth:"120px",value:[1,4],parentData:[],tagsData:[],preBtn:!0,nextBtn:!1,pageTotle:0,currentPage:1,form:{cspInfo:{id:""}}},l()(e,"dialogFormVisible",!1),l()(e,"imagesBaseUrl",window.configs.static_IMAGES_BASEURL),l()(e,"action",""),l()(e,"cpData",[]),l()(e,"booleanUp",[{id:"0",name:"未上线"},{id:"1",name:"测试"},{id:"2",name:"上线"}]),l()(e,"imgData",[]),l()(e,"rules",{cartoonCname:[{required:!0,message:"必填项",trigger:"blur"}],cspInfo:[{required:!0,message:"必填项",trigger:"blur"}]}),l()(e,"props",{multiple:!0,lazy:!0,lazyLoad:function(e,a){var i=e.level;if(0==i){var r=t.parentData.map(function(e){return{value:e.id,label:e.typeCname,leaf:i>=1}});a(r)}else 1==i&&t.$store.dispatch("axios_get_tagList",{productId:e.value,pageNum:1,pageSize:100}).then(function(e){var t=e.data.data.list.records.map(function(e){return{value:e.id,label:e.typeCname,leaf:i>=1}});a(t)})}}),e},inject:["getClassifyData","getMenuId","getTagsData"],beforeCreate:function(){},components:{image_choice:f.a},computed:{getCpList:function(){var e=this;this.$store.dispatch("axios_get_cp",{pageNum:1,pageSize:100}).then(function(t){"1000"==t.data.errorCode&&(e.cpData=t.data.data.list.records)})},filterData:function(){var e=this.getClassifyData();return e.forEach(function(e){e.childrenList instanceof Array&&e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList instanceof Array&&e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList instanceof Array&&e.childrenList.length>0?e.childrenList.forEach(function(e){delete e.childrenList}):delete e.childrenList}):delete e.childrenList}):delete e.childrenList}),e}},methods:{setImg:function(e,t){0==t?(this.labelPicUrl=this.imagesBaseUrl+e.picPath,this.form.labelPic={},this.form.labelPic.id=e.id):1==t?(this.detailPicUrl=this.imagesBaseUrl+e.picPath,this.form.detailPic={},this.form.detailPic.id=e.id):(this.iconPicUrl=this.imagesBaseUrl+e.picPath,this.form.iconPic={},this.form.iconPic.id=e.id)},showIconPanel:function(e){this.iconView=e},addProgram:function(e){this.dialogFormVisible=!0,this.parentData=this.getClassifyData(),this.tagsData=this.getTagsData(),this.form={cspInfo:{id:""}},this.detailPicUrl=u.a,this.labelPicUrl=u.a,this.iconPicUrl=u.a},editProgram:function(e){this.dialogFormVisible=!0,this.parentData=this.getClassifyData(),this.tagsData=this.getTagsData(),this.form=e,!e.cspInfo&&(this.form.cspInfo={id:""}),e.detailPic?this.detailPicUrl=this.imagesBaseUrl+e.detailPic.picPath:this.detailPicUrl=u.a,e.labelPic?this.labelPicUrl=this.imagesBaseUrl+e.labelPic.picPath:this.labelPicUrl=u.a,e.iconPic?this.iconPicUrl=this.imagesBaseUrl+e.iconPic.picPath:this.iconPicUrl=u.a},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;if("add"==t.action){t.form.cspInfo={id:t.form.cspInfo.id};t.form.visible?"1":"0",t.$store.dispatch("axios_add_seriesList",t.form).then(function(e){d.a.$emit("refreshProgramList"),t.$message.success("添加成功")}).catch(function(e){t.$message.error("添加失败")})}else t.form.cspInfo={id:t.form.cspInfo.id},t.$store.dispatch("axios_edit_seriesList",t.form).then(function(e){d.a.$emit("refreshProgramList"),t.$message.success("修改成功")}).catch(function(e){t.$message.error("修改成功")});t.dialogFormVisible=!1})},handleNodeClick:function(e,t,a){this.form.parentId=e.id,this.mtBtn=e.menuName}},created:function(){this.getTagList,this.getCpList},mounted:function(){var e=this;d.a.$on("addProgram",function(t){e.action="add",e.addProgram(t),e.parentData=e.filterData}),d.a.$on("editProgram",function(t){e.action="edit",e.editProgram(t),e.parentData=e.filterData})},beforeDestroy:function(){d.a.$off(["addProgram","editProgram"])}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{width:"50vw",height:"50",title:"添加节目集",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"归属类型","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{placeholder:"搜索",options:e.parentData,props:{multiple:!0,children:"childrenList",label:"typeCname",value:"id"},filterable:"",size:"medium"},model:{value:e.form.typeParentPath,callback:function(t){e.$set(e.form,"typeParentPath",t)},expression:"form.typeParentPath"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节目名称",prop:"cartoonCname","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.cartoonCname,callback:function(t){e.$set(e.form,"cartoonCname",t)},expression:"form.cartoonCname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节目标签","label-width":e.formLabelWidth}},[a("el-cascader",{attrs:{filterable:"",options:e.tagsData,props:{multiple:!0,children:"childrenList",label:"typeCname",value:"id"}},model:{value:e.form.tagParentPath,callback:function(t){e.$set(e.form,"tagParentPath",t)},expression:"form.tagParentPath"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CP/SP信息",prop:"cspInfo","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.cspInfo.id,callback:function(t){e.$set(e.form.cspInfo,"id",t)},expression:"form.cspInfo.id"}},e._l(e.cpData,function(e){return a("el-option",{key:e.id,attrs:{label:e.cpCname,value:e.id}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.cartoonEname,callback:function(t){e.$set(e.form,"cartoonEname",t)},expression:"form.cartoonEname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标签图片","label-width":e.formLabelWidth}},[a("el-popover",{attrs:{placement:"right",width:"535",trigger:"hover"}},[a("img",{staticClass:"flagImage",attrs:{slot:"reference",src:e.labelPicUrl},slot:"reference"}),e._v(" "),a("image_choice",{on:{getSelectImage:function(t){return e.setImg(t,0)}}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"详情图片","label-width":e.formLabelWidth}},[a("el-popover",{attrs:{placement:"right",width:"535",trigger:"hover"}},[a("img",{staticClass:"flagImage",attrs:{slot:"reference",src:e.detailPicUrl},slot:"reference"}),e._v(" "),a("image_choice",{on:{getSelectImage:function(t){return e.setImg(t,1)}}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"卡通图","label-width":e.formLabelWidth}},[a("el-popover",{attrs:{placement:"right",width:"535",trigger:"hover"}},[a("img",{staticClass:"flagImage",attrs:{slot:"reference",src:e.iconPicUrl},slot:"reference"}),e._v(" "),a("image_choice",{on:{getSelectImage:function(t){return e.setImg(t,2)}}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"版权开始时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.cartoonProprietorsStarttime,callback:function(t){e.$set(e.form,"cartoonProprietorsStarttime",t)},expression:"form.cartoonProprietorsStarttime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版权结束时间","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:e.form.cartoonProprietorsEndtime,callback:function(t){e.$set(e.form,"cartoonProprietorsEndtime",t)},expression:"form.cartoonProprietorsEndtime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"视频集数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{type:"text"},model:{value:e.form.cartoonSumvideonum,callback:function(t){e.$set(e.form,"cartoonSumvideonum",t)},expression:"form.cartoonSumvideonum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"版权方","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.cartoonProprietors,callback:function(t){e.$set(e.form,"cartoonProprietors",t)},expression:"form.cartoonProprietors"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"介质类型","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.cartoonMediatype,callback:function(t){e.$set(e.form,"cartoonMediatype",t)},expression:"form.cartoonMediatype"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"单集平均时长","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{type:"text"},model:{value:e.form.cartoonAveragetime,callback:function(t){e.$set(e.form,"cartoonAveragetime",t)},expression:"form.cartoonAveragetime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总时长","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{type:"text"},model:{value:e.form.cartoonSumvideotime,callback:function(t){e.$set(e.form,"cartoonSumvideotime",t)},expression:"form.cartoonSumvideotime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"卡通介绍","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.form.cartoonIntroduction,callback:function(t){e.$set(e.form,"cartoonIntroduction",t)},expression:"form.cartoonIntroduction"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"导演","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.actorDisplay,callback:function(t){e.$set(e.form,"actorDisplay",t)},expression:"form.actorDisplay"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"主演","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.writerDisplay,callback:function(t){e.$set(e.form,"writerDisplay",t)},expression:"form.writerDisplay"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年份","label-width":e.formLabelWidth}},[a("el-date-picker",{attrs:{"value-format":"yyyy",type:"year",placeholder:"选择年"},model:{value:e.form.cartoonYears,callback:function(t){e.$set(e.form,"cartoonYears",t)},expression:"form.cartoonYears"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"语言","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.language,callback:function(t){e.$set(e.form,"language",t)},expression:"form.language"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"地区","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.cartoonProducingarea,callback:function(t){e.$set(e.form,"cartoonProducingarea",t)},expression:"form.cartoonProducingarea"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排行ID","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.form.rankId,callback:function(t){e.$set(e.form,"rankId",t)},expression:"form.rankId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上架","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-value":2,"inactive-value":0,"active-color":"#13ce66"},model:{value:e.form.booleanUp,callback:function(t){e.$set(e.form,"booleanUp",t)},expression:"form.booleanUp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否免费","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.isFree,callback:function(t){e.$set(e.form,"isFree",t)},expression:"form.isFree"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"more1","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.more1,callback:function(t){e.$set(e.form,"more1",t)},expression:"form.more1"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"more2","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.more2,callback:function(t){e.$set(e.form,"more2",t)},expression:"form.more2"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"more3","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.more3,callback:function(t){e.$set(e.form,"more3",t)},expression:"form.more3"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"more4","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.more4,callback:function(t){e.$set(e.form,"more4",t)},expression:"form.more4"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提 交")])],1)],1)],1)},staticRenderFns:[]};var g=a("VU/8")(h,p,!1,function(e){a("bvog")},"data-v-315f11f4",null).exports,v=a("RcBM"),b=a("ZPWI"),_=a("i9oJ"),y=a("KJ/r"),P=a("sjnz"),w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"info",plain:""},on:{click:e.showDialog},slot:"reference"},[e._v("批量免费")]),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{title:"批量免费卡通集",width:"250px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.freeNum,callback:function(t){e.freeNum=t},expression:"freeNum"}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.batchUpdate}},[e._v("确认")])],1)],1)],1)},staticRenderFns:[]},C=a("VU/8")({name:"ClassBatches",props:["classifyData","tagsData","selectedIDs"],data:function(){return{dialogFormVisible:!1,freeNum:""}},computed:{filterData:function(){var e=this.classifyData;return e.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){delete e.childrenList}):delete e.childrenList}):delete e.childrenList}):delete e.childrenList}),e}},methods:{batchUpdate:function(){var e=this;this.$confirm("确定免费吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("batchSingleFree",e.freeNum),e.dialogFormVisible=!1}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},showDialog:function(){this.selectedIDs.length>0?this.dialogFormVisible=!0:this.$message({type:"warning",message:"请勾选"})}}},w,!1,null,null,null).exports,x={name:"programForm",data:function(){return{dialogPictureMatchForm:!1,form:{matchRule:"",matchRange:""},formLabelWidth:"120px",picSize:"",rules:{matchRule:[{required:!0,message:"请选择匹配规则",trigger:"change"}],matchRange:[{required:!0,message:"请选择匹配范围",trigger:"change"}]},props:{}}},beforeCreate:function(){},components:{image_choice:f.a},computed:{},methods:{onSubmit:function(e){var t=this,a={isMatchedByCName:this.form.matchRule,isMatchedAll:this.form.matchRange,levelId:this.form.levelId},i=this.form.levelId;a[i]=this.picSize,this.$refs[e].validate(function(e){e&&t.$store.dispatch("axios_get_autoMatchPic",a).then(function(e){"1000"==e.data.errorCode?t.$message.success("匹配完成"):t.$message.error("匹配失败")}).catch(function(e){t.$message.error("匹配失败")}),t.dialogPictureMatchForm=!1})},pictureMatch:function(){this.dialogPictureMatchForm=!0},sourceRule:function(){console.log(this.form.matchRule)},sourceRange:function(){console.log(this.form.matchRange)}},created:function(){},mounted:function(){var e=this;d.a.$on("pictureMatch",function(t){e.pictureMatch()})},beforeDestroy:function(){d.a.$off(["pictureMatch"])}},I={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{width:"45%",height:"50",title:"节目集图片匹配",visible:e.dialogPictureMatchForm},on:{"update:visible":function(t){e.dialogPictureMatchForm=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"匹配规则 :",prop:"matchRule","label-width":e.formLabelWidth}},[a("el-radio-group",{on:{change:function(t){return e.sourceRule()}},model:{value:e.form.matchRule,callback:function(t){e.$set(e.form,"matchRule",t)},expression:"form.matchRule"}},[a("el-radio",{attrs:{label:"1"}},[e._v("节目集中文名称")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("节目集英文名称")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配范围 :",prop:"matchRange","label-width":e.formLabelWidth}},[a("el-radio-group",{on:{change:function(t){return e.sourceRange()}},model:{value:e.form.matchRange,callback:function(t){e.$set(e.form,"matchRange",t)},expression:"form.matchRange"}},[a("el-radio",{attrs:{label:"1"}},[e._v("全部替换")]),e._v(" "),a("el-radio",{attrs:{label:"0"}},[e._v("只匹配缺失图片的节目集")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配图库类型 :",prop:"matchRange","label-width":e.formLabelWidth}},[a("el-radio-group",{on:{change:function(t){return e.sourceRange()}},model:{value:e.form.levelId,callback:function(t){e.$set(e.form,"levelId",t)},expression:"form.levelId"}},[a("el-radio",{attrs:{label:"iconPicW"}},[e._v("详情页")]),e._v(" "),a("el-radio",{attrs:{label:"labelPicW"}},[e._v("标签图")]),e._v(" "),a("el-radio",{attrs:{label:"detailPicW"}},[e._v("详情卡通图")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"匹配图片尺寸 :","label-width":e.formLabelWidth}},[a("el-input",{attrs:{placeholder:"请输入图片尺寸"},model:{value:e.picSize,callback:function(t){e.picSize=t},expression:"picSize"}})],1),e._v(" "),a("p",[e._v("匹配说明：")]),e._v(" "),a("p",[e._v("1.请先使用批量上传图片功能，上传图片到服务器；")]),e._v(" "),a("p",[e._v("2.图片的名称必须是节目集的中文或者英文名称；")]),e._v(" "),a("p",[e._v("3.文件名称不要使用特殊符号，会导致匹配不成功。")]),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var $=a("VU/8")(x,I,!1,function(e){a("MjcL")},"data-v-68b2b361",null).exports,k={name:"programForm",data:function(){return{cartoonId:"",dialogProgramInfo:!1,formLabelWidth:"120px",pageTotle:0,id:"",currentPage:1,titleE:{add:"添加",edit:"编辑"},form:{videoCname:"",videoEname:"",videoTime:"",rankId:"",booleanUp:"",isFree:""},action:"",rules:{videoCname:[{required:!0,message:"请输入中文名",trigger:"blur"}],videoEname:[{required:!0,message:"请输入英文名",trigger:"blur"}]}}},beforeCreate:function(){},components:{image_choice:f.a},computed:{getCpList:function(){var e=this;this.$store.dispatch("axios_get_cp",{pageNum:1,pageSize:100}).then(function(t){"1000"==t.data.errorCode&&(e.cpData=t.data.data.list.records)})}},methods:{addProgram:function(){this.form.id="",this.form.videoCname="",this.form.videoEname="",this.form.videoTime="",this.form.rankId="",this.form.booleanUp="",this.form.isFree=""},editProgram:function(e){this.form.id=e.id,this.form.videoCname=e.videoCname,this.form.videoEname=e.videoEname,this.form.videoTime=e.videoTime,this.form.rankId=e.rankId,this.form.booleanUp=e.booleanUp,this.form.isFree=e.isFree},onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;var a=void 0;a=t.form.id?"axios_get_programUpdate":"axios_get_programInsert",t.$store.dispatch(a,{id:t.id,cartoonId:t.cartoonId,videoCname:t.form.videoCname,videoEname:t.form.videoEname,videoTime:t.form.videoTime,rankId:t.form.rankId,booleanUp:t.form.booleanUp,isFree:t.form.isFree}).then(function(e){"1000"==e.data.errorCode?(t.$message.success("操作成功"),d.a.$emit("refreshProgramList2")):t.$message.error("操作失败")}).catch(function(e){t.$message.error("操作失败")}),t.dialogProgramInfo=!1})}},created:function(){this.getCpList},mounted:function(){var e=this;d.a.$on("addProgramInfo",function(t){console.log("卡通ID:"+t),e.cartoonId=t,e.action="add",e.addProgram(),e.dialogProgramInfo=!0}),d.a.$on("editProgramInfo",function(t){e.action="edit",e.editProgram(t),e.dialogProgramInfo=!0,e.id=t.id})},beforeDestroy:function(){d.a.$off(["addProgramInfo","editProgramInfo"])}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{width:"50vw",height:"50",title:e.titleE[e.action],visible:e.dialogProgramInfo},on:{"update:visible":function(t){e.dialogProgramInfo=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"中文名称",prop:"videoCname","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.videoCname,callback:function(t){e.$set(e.form,"videoCname",t)},expression:"form.videoCname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"英文名称",prop:"videoEname","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.videoEname,callback:function(t){e.$set(e.form,"videoEname",t)},expression:"form.videoEname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"排行ID","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{min:0,"controls-position":"right"},model:{value:e.form.rankId,callback:function(t){e.$set(e.form,"rankId",t)},expression:"form.rankId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"时长",prop:"videoTime","label-width":e.formLabelWidth}},[a("el-input",{attrs:{type:"text"},model:{value:e.form.videoTime,callback:function(t){e.$set(e.form,"videoTime",t)},expression:"form.videoTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否上架",prop:"booleanUp","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-value":2,"inactive-value":0,"active-color":"#13ce66"},model:{value:e.form.booleanUp,callback:function(t){e.$set(e.form,"booleanUp",t)},expression:"form.booleanUp"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否免费",prop:"isFree","label-width":e.formLabelWidth}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.form.isFree,callback:function(t){e.$set(e.form,"isFree",t)},expression:"form.isFree"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")])],1)],1)],1)},staticRenderFns:[]};var D=a("VU/8")(k,L,!1,function(e){a("whH2")},"data-v-7bb87d14",null).exports,S=a("Dd8w"),U=a.n(S),F=a("+zHA"),E=(a("7t+N"),{name:"ProgramManageForm",data:function(){return{downloadSeriesUrl:window.configs.downloadSeriesUrl,downloadProgramUrl:window.configs.downloadProgramUrl,downloadProgressUrl:window.configs.downloadProgressUrl,dialogProgramManageForm:!1,imagesBaseUrl:window.configs.axios_BASEURL,tipProgramInfo:[],tipSeriesInfo:[],process:!1,form:{fileList:[]},formLabelWidth:"120px",props:{},percentage:0,taskName:""}},beforeCreate:function(){},created:function(){this.initWebSocket()},destroyed:function(){this.websocketclose()},components:{image_choice:f.a},methods:{initWebSocket:function(){this.websock=new WebSocket(this.downloadProgressUrl),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功")},websocketonerror:function(e){console.log("WebSocket连接发生错误")},websocketonmessage:function(e){var t=JSON.parse(e.data);this.percentage=t.percentage,this.taskName=t.msg,0==t.status&&this.tipProgramInfo.push(t.msg),100==this.percentage&&(this.process=!1),console.log(t)},websocketclose:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 2 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},submitUpload:function(){var e=this;if(0!=this.form.fileList.length){var t={headers:U()({"Content-Type":"multipart/form-data"},this.head)},a=new FormData;this.form.fileList.forEach(function(e,t){"ready"==e.status&&a.append("file",e.raw)}),this.saveing=!0,this.process=!0,F.a.post(this.imagesBaseUrl+"content/series/importExcelMedia",a,t).then(function(t){"1000"==t.data.errorCode?(e.$message.success("上传成功！"),e.dialogProgramManageForm=!1):"1019"==t.data.errorCode?(e.$message.warning("资源已存在！"),e.dialogProgramManageForm=!1):"1001"==t.data.errorCode?(e.$message.error(t.data.errorMsg),console.log(e.tipProgramInfo)):e.$message.error(t.data.errorMsg)}).catch(function(e){console.log(e)})}else this.$message.warning("请添加上传文件")},addPic:function(e,t){this.curLength=t.length,this.form.fileList=t},programManage:function(){this.tipProgramInfo=[],this.dialogProgramManageForm=!0,this.form={fileList:[]}},handleRemove:function(e,t){this.form.fileList=t}},mounted:function(){var e=this;d.a.$on("programManage",function(t){e.programManage()})},beforeDestroy:function(){d.a.$off(["programManage"])}}),T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{height:"50",title:"内容导入",visible:e.dialogProgramManageForm},on:{"update:visible":function(t){e.dialogProgramManageForm=t}}},[a("div",[a("el-upload",{ref:"upload",attrs:{"auto-upload":!1,action:"","on-change":e.addPic,"file-list":e.form.fileList,"on-remove":e.handleRemove,accept:"application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",limit:2,"show-file-list":"",multiple:"","on-exceed":e.handleExceed}},[a("el-button",{attrs:{plain:"",icon:"el-icon-upload",size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传xls/xlsx文件")])],1),e._v(" "),a("div",[a("a",{attrs:{href:e.downloadSeriesUrl}},[e._v("下载节目集模版")]),e._v(" "),a("a",{attrs:{href:e.downloadProgramUrl}},[e._v("下载节目模版")])]),e._v(" "),a("p",[e._v("导入说明：")]),e._v(" "),a("p",[e._v("1.请先下载模版，请严格按模版要求填充数据；")]),e._v(" "),a("p",[e._v("2.不要使用自己的模版或者更改模版的格式。")]),e._v(" "),a("p",[e._v("3.最多只能上传2个文件。")]),e._v(" "),a("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.process,expression:"process"}],attrs:{type:"circle",percentage:e.percentage}}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.process,expression:"process"}]},[e._v(e._s(this.taskName))]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitUpload()}}},[e._v("提交")])],1),e._v(" "),a("div",{staticStyle:{position:"absolute",top:"30px",left:"50%"}},[a("div",{staticStyle:{"font-size":"18px"}},[e._v("提示")]),e._v(" "),a("div",{staticStyle:{overflow:"auto",height:"350px",margin:"5px 10px 20px 0px"}},[a("ul",[a("li",[e._v("节目集:")]),e._v(" "),e._l(e.tipProgramInfo,function(t){return a("li",{key:t+Math.random()},[e._v(e._s(t))])})],2),e._v(" "),a("ul",[a("li",[e._v("节目子集:")]),e._v(" "),e._l(e.tipSeriesInfo,function(t){return a("li",{key:t+Math.random()},[e._v(e._s(t))])})],2)])])])],1)},staticRenderFns:[]};var B,V=a("VU/8")(E,T,!1,function(e){a("o7ru")},"data-v-6f1a6b38",null).exports,M={name:"programList",inject:["getMenuId"],provide:function(){var e=this;return{setClassifyData:function(t){return e.classifyData=t},getClassifyData:function(){return e.classifyData},getTagsData:function(){return e.tagsData}}},components:{programForm:g,Pagination:v.a,pictureForm:$,programInfoForm:D,programManageForm:V,singleFree:C,"self-button-search":b.a,"self-button-batch-online":_.a,"self-button-batch-free":y.a,"self-button-batch-class":P.a},data:function(){var e;return e={isSearchBtn:!0,value:"",seriesIds:"",isCheckCopyright:0,isBatchSearch:0,searchConfig:{searchValue:""},form:{},dialog:!1,menuId:this.getMenuId(),breadcrumb:[],breadcrumb_child:[],activeName:"first",dialogVisible:!1,dialogVisible2:!1,currentPage:1,pageSize:10,total:1,total2:0,classifyData:[],curProgram:{iconPic:{},labelPic:{},detailPic:{}},curProductId:"",programData:[],seriesListData:[],tagsData:[],imagesBaseUrl:window.configs.static_IMAGES_BASEURL,classData:{},programDataList:[]},l()(e,"form",""),l()(e,"program",{}),l()(e,"search",""),l()(e,"selectedIDs",[]),l()(e,"loadingProgramList",!0),l()(e,"loadingProgram",!0),l()(e,"loadingMove",!0),l()(e,"tableHeight",void 0),l()(e,"formLabelWidth","120px"),l()(e,"moveData",[]),l()(e,"curCspInfo",{}),l()(e,"curTypeInfoList",[]),l()(e,"userPermission",{select:!1,delete:!1,insert:!1,update:!1}),l()(e,"defaultProps",{children:"childrenList",label:"typeCname",value:"id",checkStrictly:!0,expandTrigger:"hover",emitPath:!1}),l()(e,"inState",{0:"未注入",1:"注入中",2:"注入成功",3:"注入失败"}),l()(e,"isFree",{0:"免费",1:"收费"}),l()(e,"booleanUp",{0:"未上线",1:"测试",2:"上线"}),l()(e,"online",{0:"下架",2:"上架"}),l()(e,"isSearch",{0:"不可搜",1:"可搜"}),l()(e,"booleanUpValue",""),l()(e,"search",""),l()(e,"formLabelWidth","80px"),l()(e,"formprogramInsert",{videoCname:"",videoEname:""}),e},watch:{isCheckCopyright:function(e){this.isCheckCopyright=e,this.getTypeInfo()}},created:function(){var e=this;this.selectAllCartoonSimpleInfo(),this.getClassifyList(),this.getTagList(),d.a.$on("refreshProgramList",function(){e.getTypeInfo(e.curProductId)}),d.a.$on("refreshProgramList2",function(t){e.getProgramListBySeriesId(e.curProgram.id)})},mounted:function(){this.isAuth("system:series:list")&&(this.tableHeight=window.innerHeight-this.$refs.multipleTable.$el.offsetTop-200),this.loadingProgramList=!0},destroyed:function(){d.a.$off(["refreshProgramList","refreshProgramList2"])},methods:(B={setBatchSearch:function(e){var t=this,a=void 0;this.selectedIDs.length<1?a={searchFlag:e.more1,seriesIds:e.id}:a={searchFlag:e,seriesIds:this.selectedIDs};this.$store.dispatch("axios_set_batchUpdateSearchFlag",n()(a,this.search)).then(function(e){"1000"==e.data.errorCode?(t.$message.success("设置成功"),t.getTypeInfo()):t.$message.error(e.data.errorMsg,"未生效")}).catch(function(e){t.$message.error("设置失败")})},handleExport:function(){var e=this,t=c.Loading.service({text:"导出中",fullscreen:!0,lock:!0,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$store.dispatch("axios_get_export",n()({typeId:this.curProductId,isCheckCopyright:this.isCheckCopyright,seriesIds:this.selectedIDs},this.search)).then(function(a){t=c.Loading.service({fullscreen:!0}),e.$message.success("导出成功"),t.close()}).catch(function(a){e.$message.error("导出失败"),t.close()})},msgBox:function(e){this.$notify({title:"警告",message:e,type:"warning"})},submitRank:function(e,t){var a=this;this.$store.dispatch("axios_update_seriesRankId",{rankId:e,contentId:t,typeId:this.curProductId}).then(function(e){"1000"==e.data.errorCode?a.$message.success("修改成功"):a.$message.error("修改失败,请联系管理员")}).catch(function(e){a.$message.error("修改失败")})},handleCommand:function(e,t){"add"==e?this.addProgramSingle(this.programData[t]):"edit"==e?this.handleEdit(t,this.programData):"view"==e?this.detailList(this.programData[t]):"del"==e&&this.delList(this.programData[t])},handleSelectionChange:function(e,t){console.log(e),this.selectVal=e.length,this.multipleSelection=e;var a=[];this.multipleSelection.map(function(e){a.push(e.id)});var i=[];t&&e.forEach(function(e){i.push(e.cspInfo.id)}),console.log(i),this.seriesIds=i.join(","),this.selectedIDs=a.join(","),console.log("sid:"+this.selectedIDs),this.selectedIDs.length>0&&(this.isDisabled=!1)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},selectAllCartoonSimpleInfo:function(){var e=this;this.$store.dispatch("axios_get_selectAllCartoonSimpleInfo",{pageSize:1e4}).then(function(t){e.programDataList=t.data.data.records}).catch()},handleBatchDel:function(e,t){var a=this,i=e.split(",");console.log(i);var r=[],o=[];i.forEach(function(e,a){t.forEach(function(t){e==t.id&&0==t.booleanUp&&(r.push(t.cartoonCname),o.push(t.id))})}),console.log("可删"+o),this.$confirm("确定删除已下架的："+r.join()+"吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$store.dispatch("axios_del_seriesDel",{ids:o.join()}).then(function(e){"1000"==e.data.errorCode?(d.a.$emit("refreshProgramList"),a.$message.success("批量操作成功！")):a.$message.error("批量操作失败，请联系管理员")}).catch(function(e){a.$message.error("批量操作失败，请联系管理员")})}).catch(function(){a.$message({type:"info",message:"已取消该操作！"})})},delList:function(e){var t=this;0==e.booleanUp?this.$confirm("确定删除吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("axios_del_seriesDel",{ids:e.id}).then(function(e){"1000"==e.data.errorCode?t.$message.success("删除成功"):"1001"==e.data.errorCode?t.$message.error(e.data.data[0]):t.$message.error("删除失败"),d.a.$emit("refreshProgramList")}).catch(function(e){t.$message.error("删除失败")}),t.dialogVisible2=!1}).catch(function(){t.$message({type:"info",message:"已取消该操作！"})}):this.$message.error("当前为上架状态，不可删除！")},handleBatchDelP:function(e,t){var a=this,i=e.split(",");console.log(i);var r=[],o=[];i.forEach(function(e,a){t.forEach(function(t){e==t.id&&0==t.booleanUp&&(r.push(t.cartoonCname),o.push(t.id))})}),console.log("可删"+o),this.$confirm("确定删除已下架的："+r.join()+"吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$store.dispatch("axios_del_programDel",{ids:o.join()}).then(function(e){"1000"==e.data.errorCode?(d.a.$emit("refreshProgramList2"),a.$message.success("批量操作成功！")):a.$message.error("批量操作失败，请联系管理员")}).catch(function(e){a.$message.error("批量操作失败，请联系管理员")})}).catch(function(){a.$message({type:"info",message:"已取消该操作！"})})},delListP:function(e){var t=this;0==e.booleanUp?this.$confirm("确定删除吗, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$store.dispatch("axios_del_programDel",{ids:e.id}).then(function(e){t.$message.success("删除成功"),d.a.$emit("refreshProgramList2")}).catch(function(e){t.$message.error("删除失败")}),t.dialogVisible2=!1}).catch(function(){t.$message({type:"info",message:"已取消该操作！"})}):this.$message.error("当前为上架状态，不可删除！")},batchUpdateClass:function(e){var t=this;this.$store.dispatch("axios_update_tag",{contentId:this.selectedIDs,typeParentPath:e.typeParentPath||[],tagParentPath:e.tagParentPath||[]}).then(function(e){"1000"==e.data.errorCode?(d.a.$emit("refreshProgramList"),t.$message.success("批量操作成功！")):t.$message.error("批量操作失败，请联系管理员")}).catch(function(e){t.$message.error("批量操作失败，请联系管理员")})}},l()(B,"batchUpdateClass",function(e){var t=this;this.$store.dispatch("axios_update_tag",{contentId:this.selectedIDs,typeParentPath:e.typeParentPath||[],tagParentPath:e.tagParentPath||[]}).then(function(e){"1000"==e.data.errorCode?(d.a.$emit("refreshProgramList"),t.$message.success("批量操作成功！")):t.$message.error("批量操作失败，请联系管理员")}).catch(function(e){t.$message.error("批量操作失败，请联系管理员")})}),l()(B,"batchSingleFree",function(e){var t=this;this.selectedIDs.length>0?this.$store.dispatch("axios_update_seriesIsFree",{videoNum:e,seriesId:this.selectedIDs,isFree:0}).then(function(e){"1000"==e.data.errorCode?(t.$message.success("批量操作成功！"),d.a.$emit("refreshProgramList")):t.$message.error("批量操作失败，请联系管理员")}).catch(function(e){t.$message.error("批量操作失败，请联系管理员")}):this.$message.warning("请勾选内容")}),l()(B,"batchIsFree",function(e){var t=this;this.selectedIDs.length>0?this.$store.dispatch("axios_update_seriesIsFree",{seriesId:this.selectedIDs,isFree:e}).then(function(e){"1000"==e.data.errorCode?(t.$message.success("批量操作成功！"),d.a.$emit("refreshProgramList")):t.$message.error("批量操作失败，请联系管理员")}).catch(function(e){t.$message.error("批量操作失败，请联系管理员")}):this.$message.warning("请勾选内容")}),l()(B,"batchOnLine",function(e,t){var a=this;this.selectedIDs.length>0?this.$store.dispatch("axios_update_BooleanUp",{seriesId:this.selectedIDs,booleanUp:e,booleanUpAll:t}).then(function(e){"1000"==e.data.errorCode?(a.$message.success("批量操作成功！"),d.a.$emit("refreshProgramList")):a.$message.error("批量操作失败，请联系管理员")}).catch(function(e){}):this.$message.warning("请勾选节目")}),l()(B,"changeIsFreeVod",function(e,t){this.$store.dispatch("axios_update_seriesIsFree",{videoId:t.id,isFree:e}).then().catch()}),l()(B,"changeIsFree",function(e,t){this.$store.dispatch("axios_update_seriesIsFree",{seriesId:t.id,isFree:e}).then().catch()}),l()(B,"changeOnLineVideo",function(e,t){this.$store.dispatch("axios_update_BooleanUp",{videoId:t.id,booleanUp:e}).then(function(e){}).catch(function(e){})}),l()(B,"changeOnLine",function(e,t){this.$store.dispatch("axios_update_BooleanUp",{seriesId:t.id,booleanUp:e}).then(function(e){}).catch(function(e){})}),l()(B,"changeOnSearch",function(){}),l()(B,"showMove",function(e){this.getMovieListByProgramId(e)}),l()(B,"nodeClick",function(e,t,a){this.loading=!0,this.currentPage=1,this.curProductId=e.id,this.search={},this.getTypeInfo(e.id),this.findRoad(e.id)}),l()(B,"findRoad",function(e){var t=this;this.breadcrumb=[],this.classifyData.forEach(function(a){a.id==e?t.breadcrumb.push(a.typeCname):a.childrenList.forEach(function(i){i.id==e?(t.breadcrumb.push(a.typeCname),t.breadcrumb.push(i.typeCname)):i.childrenList.forEach(function(r){r.id==e?(t.breadcrumb.push(a.typeCname),t.breadcrumb.push(i.typeCname),t.breadcrumb.push(r.typeCname)):r.childrenList.forEach(function(o){o.id==e&&(t.breadcrumb.push(a.typeCname),t.breadcrumb.push(i.typeCname),t.breadcrumb.push(r.typeCname),t.breadcrumb.push(o.typeCname))})})})})}),l()(B,"formateClass",function(e){var t=[];return e.forEach(function(e){t.push(e.typeCname)}),t.join()}),l()(B,"getClassifyList",function(){var e=this;this.menuId=this.getMenuId(),this.$store.dispatch("axios_get_classify",{menuId:this.menuId}).then(function(t){"undefined"!=t&&(e.classifyData=t.data.data,e.btns=t.data.data.btns,t.data.data.length>0&&(e.curProductId=e.classifyData[0].id,e.getTypeInfo(e.curProductId))),e.loadingProgramList=!1}).catch(function(t){e.loadingProgramList=!1})}),l()(B,"addProgramSingle",function(e){this.program={},this.program.cartoonId=e.id,this.dialogVisible2=!0}),l()(B,"onSubmitProgram",function(){var e=this;this.$store.dispatch("axios_add_batchInsert",this.program).then(function(t){e.$message.success("添加成功")}).catch(function(t){e.$message.error("添加成功")}),this.dialogVisible2=!1}),l()(B,"detailList",function(e){this.activeName="first",this.breadcrumb_child=[],this.dialogVisible=!0,this.curProgram=e,null==this.curProgram.iconPic&&(this.curProgram.iconPic={}),null==this.curProgram.labelPic&&(this.curProgram.labelPic={}),null==this.curProgram.detailPic&&(this.curProgram.detailPic={}),this.curCspInfo=e.cspInfo,this.curTypeInfoList=e.typeInfoList,this.breadcrumb_child=this.breadcrumb_child.concat(this.breadcrumb),this.breadcrumb_child.push(e.cartoonCname)}),l()(B,"getTypeInfoBySearch",function(e,t){this.search=JSON.parse(r()(t)),this.getTypeInfo(e)}),l()(B,"getTypeInfo",function(e){var t=this;this.loadingProgramList=!0,this.$store.dispatch("axios_get_seriesList",n()({typeId:e,pageNum:this.currentPage,pageSize:this.pageSize,isCheckCopyright:this.isCheckCopyright},this.search)).then(function(e){t.programData=e.data.data.list.records,t.loadingProgramList=!1,t.total=e.data.data.list.total,console.log(e.data.data.list.records)}).catch(function(e){t.loadingProgramList=!1})}),l()(B,"getTagList",function(){var e=this;this.$store.dispatch("axios_get_productTagList").then(function(t){e.tagsData=e.filterDataChildren(t.data.data)}).catch(function(e){})}),l()(B,"filterDataChildren",function(e){return e.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList>0?e.childrenList.forEach(function(e){e.childrenList.length<=0&&delete e.childrenList}):delete e.childrenList}):delete e.childrenList}):delete e.childrenList}),e}),l()(B,"getProgramListBySeriesId",function(e){var t=this;this.$store.dispatch("axios_get_programListBySeriesId",{seriesId:e,pageNum:this.currentPage,pageSize:this.pageSize}).then(function(e){t.dialogVisible=!0,t.seriesListData=e.data.data.records,t.total2=e.data.data.total,t.loadingProgram=!1}).catch(function(e){t.loadingProgram=!1})}),l()(B,"getMovieListByProgramId",function(e){var t=this;this.$store.dispatch("axios_get_movieListByProgramId",{programId:e}).then(function(e){t.dialogVisible=!0,t.moveData=e.data.data,t.loadingMove=!1}).catch(function(e){t.loadingMove=!1})}),l()(B,"handleUpdate",function(e){d.a.$emit("editProgramInfo",e)}),l()(B,"handleAdd",function(){d.a.$emit("addProgramInfo",this.curProgram.id)}),l()(B,"handleClick",function(e){"first"==e.name||("second"==e.name?this.getProgramListBySeriesId(this.curProgram.id):(e.name="third")&&this.getMovieListByProgramId())}),l()(B,"handleCreate",function(){d.a.$emit("addProgram"),d.a.$emit("refreshProgramList")}),l()(B,"handlePicture",function(){d.a.$emit("pictureMatch")}),l()(B,"handleContent",function(){d.a.$emit("programManage"),d.a.$emit("refreshProgramList")}),l()(B,"handleEmail",function(){var e=this;this.$store.dispatch("axios_get_checkCopyrightPeriod").then(function(t){e.$message.success("操作成功")}).catch(function(t){e.$message.error("操作失败")})}),l()(B,"handleEdit",function(e,t){d.a.$emit("editProgram",t[e])}),B)},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:4}},[a("div",{staticClass:"grid-content bg-purple"},[a("p",[e._v("产品/节目")]),e._v(" "),a("el-tree",{attrs:{data:e.classifyData,"node-key":"id","expand-on-click-node":!1,props:e.defaultProps,"highlight-current":!0,accordion:""},on:{"node-click":e.nodeClick}})],1)]),e._v(" "),a("el-col",{attrs:{span:20}},[a("div",[a("div",{style:{"line-height":"50px",height:"50px",margin:"20px 0 0 0"}},[a("el-switch",{style:{float:"right",margin:"0 10px 0 0"},attrs:{"active-text":"过期数据","inactive-text":"全部数据","active-value":"1","inactive-value":"0"},model:{value:e.isCheckCopyright,callback:function(t){e.isCheckCopyright=t},expression:"isCheckCopyright"}}),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.setBatchSearch(1)}}},[e._v("可搜索")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.setBatchSearch(0)}}},[e._v("不可搜")]),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"success",plain:""},slot:"reference"},[e._v("是否可搜索")])],1),e._v(" "),e.isAuth("system:series:insert")?a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleCreate()}}},[e._v("新增")]):e._e(),e._v(" "),e.isAuth("system:series:insert")?a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handlePicture()}}},[e._v("节目集图片匹配")]):e._e(),e._v(" "),a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"发送过期邮件",placement:"top-start"}},[e.isAuth("system:series:insert")?a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleEmail()}}},[e._v("邮件")]):e._e()],1),e._v(" "),a("self-button-batch-class",{attrs:{tagsData:e.tagsData,classifyData:e.classifyData,selectedIDs:e.selectedIDs},on:{batchUpdateClass:e.batchUpdateClass}}),e._v(" "),a("singleFree",{attrs:{tagsData:e.tagsData,classifyData:e.classifyData,selectedIDs:e.selectedIDs},on:{batchSingleFree:e.batchSingleFree}}),e._v(" "),a("el-popover",{attrs:{placement:"top",width:"250",trigger:"click"}},[e.isAuth("system:series:export")?a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleExport()}}},[e._v("内容导出")]):e._e(),e._v(" "),e.isAuth("system:series:insert")?a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleContent()}}},[e._v("内容导入")]):e._e(),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"success",plain:""},slot:"reference"},[e._v("导入or导出")])],1),e._v(" "),a("el-popover",{style:{float:"right",margin:"0 10px 0 0"},attrs:{placement:"top",width:"350",trigger:"click"}},[e.isAuth("system:series:insert")?a("el-button",{attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleBatchDel(e.selectedIDs,e.programData)}}},[e._v("批量删除")]):e._e(),e._v(" "),a("self-button-batch-online",{style:{float:"right",margin:"0 10px 0 0"},on:{batchOnLine:e.batchOnLine}}),e._v(" "),a("self-button-batch-free",{style:{float:"right",margin:"0 10px 0 0"},on:{batchIsFree:e.batchIsFree}}),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"success",plain:""},slot:"reference"},[e._v("批量操作")])],1),e._v(" "),a("self-button-search",{on:{getTypeInfo:function(t){return e.getTypeInfoBySearch(e.curProductId,t)}}}),e._v(" "),a("el-breadcrumb",{style:{margin:"10px 0 20px 20px"},attrs:{"separator-class":"el-icon-d-arrow-right"}})],1),e._v(" "),e.isAuth("system:series:list")?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingProgramList,expression:"loadingProgramList"}],ref:"multipleTable",style:{"font-size":"13px"},attrs:{data:e.programData,height:e.tableHeight},on:{"selection-change":function(t){return e.handleSelectionChange(t,1)}}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{prop:"id",align:"center",width:"50",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cartoonCname",sortable:"",align:"center",label:"中文名",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cartoonEname",sortable:"",label:"英文名",width:"90"}}),e._v(" "),a("el-table-column",{attrs:{prop:"tagsInfoList",align:"center",label:"标签名",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.tagsInfoList.length>0?a("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[e._l(t.row.tagsInfoList,function(t,i){return a("el-tag",{key:i,style:{margin:"0 0 5px 5px"},attrs:{type:"success"}},[e._v(e._s(t.typeCname))])}),e._v(" "),a("el-button",{attrs:{slot:"reference",size:"mini"},slot:"reference"},[e._v(e._s(t.row.tagsInfoList[0].typeCname))])],2):e._e()]}}],null,!1,4129773163)}),e._v(" "),a("el-table-column",{attrs:{label:"CP信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.cspInfo?a("span",[e._v(e._s(t.row.cspInfo.cpCname))]):e._e()]}}],null,!1,1431652128)}),e._v(" "),a("el-table-column",{attrs:{prop:"cartoonProprietorsStarttime",label:"版权开始",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cartoonProprietorsEndtime",label:"版权结束",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.copyrightWarning?a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.row.cartoonProprietorsEndtime))]):e._e(),e._v(" "),1!=t.row.copyrightWarning?a("span",{staticStyle:{color:"#000"}},[e._v(e._s(t.row.cartoonProprietorsEndtime))]):e._e()]}}],null,!1,3580351404)}),e._v(" "),a("el-table-column",{attrs:{prop:"cspInfo.cpCname",label:"版权方"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cartoonSumvideonum",label:"集数"}}),e._v(" "),e.breadcrumb.length>3?a("el-table-column",{attrs:{prop:"rankId",align:"center",sortable:"",label:"排行"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{on:{blur:function(a){return e.submitRank(t.row.rankId,t.row.id)}},nativeOn:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.submitRank(t.row.rankId,t.row.id)}},model:{value:t.row.rankId,callback:function(a){e.$set(t.row,"rankId",a)},expression:"scope.row.rankId"}})]}}],null,!1,163434758)}):e._e(),e._v(" "),a("el-table-column",{attrs:{label:"详情图"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.detailPic?a("img",{style:{width:"50px"},attrs:{src:e.imagesBaseUrl+t.row.detailPic.picPath}}):e._e()]}}],null,!1,2913518360)}),e._v(" "),a("el-table-column",{attrs:{label:"卡通图"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.iconPic?a("img",{style:{width:"50px"},attrs:{src:e.imagesBaseUrl+t.row.iconPic.picPath}}):e._e()]}}],null,!1,4047160536)}),e._v(" "),a("el-table-column",{attrs:{label:"标签图"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.labelPic?a("img",{style:{width:"50px"},attrs:{src:e.imagesBaseUrl+t.row.labelPic.picPath}}):e._e()]}}],null,!1,2392934424)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"免费状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.isFree[t.row.isFree],placement:"top"}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.changeIsFree(a,t.row)}},model:{value:t.row.isFree,callback:function(a){e.$set(t.row,"isFree",a)},expression:"scope.row.isFree"}})],1)]}}],null,!1,563317496)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"上架状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.online[t.row.booleanUp],placement:"top"}},[a("el-switch",{attrs:{"active-value":2,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(a){return e.changeOnLine(a,t.row)}},model:{value:t.row.booleanUp,callback:function(a){e.$set(t.row,"booleanUp",a)},expression:"scope.row.booleanUp"}})],1)]}}],null,!1,3010006678)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"搜索状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.isSearch[t.row.more1],placement:"top"}},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0","active-color":"#13ce66"},on:{change:function(a){return e.setBatchSearch(t.row)}},model:{value:t.row.more1,callback:function(a){e.$set(t.row,"more1",a)},expression:"scope.row.more1"}})],1)]}}],null,!1,1910494815)}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{on:{command:function(a){return e.handleCommand(a,t.$index)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v("\n                  选择操作\n                  "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e.isAuth("system:series:insert")?a("el-dropdown-item",{attrs:{command:"add"}},[e._v("新增节目")]):e._e(),e._v(" "),e.isAuth("system:series:list")?a("el-dropdown-item",{attrs:{command:"view"}},[e._v("查 看")]):e._e(),e._v(" "),e.isAuth("system:series:update")?a("el-dropdown-item",{attrs:{command:"edit"}},[e._v("编 辑")]):e._e(),e._v(" "),a("el-dropdown-item",{attrs:{command:"del"}},[e._v("删 除")])],1)],1)]}}],null,!1,2502229356)})],1):e._e(),e._v(" "),e.isAuth("system:series:list")?e._e():a("div",{staticClass:"msg"},[e._v("暂无权限")]),e._v(" "),e.isAuth("system:series:list")?a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:function(t){return e.getTypeInfo(e.curProductId)}}}):e._e()],1)])],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"批量增加节目",visible:e.dialogVisible2,width:"40%"},on:{"update:visible":function(t){e.dialogVisible2=t}}},[a("el-form",{attrs:{model:e.program}},[a("el-form-item",{attrs:{label:"卡通名称","label-width":e.formLabelWidth}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.program.cartoonId,callback:function(t){e.$set(e.program,"cartoonId",t)},expression:"program.cartoonId"}},e._l(e.programDataList,function(e){return a("el-option",{key:e.recommendDisplayValue,attrs:{label:e.recommendDisplayName,value:e.recommendDisplayValue}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"集数","label-width":e.formLabelWidth}},[a("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:e.program.start,callback:function(t){e.$set(e.program,"start",t)},expression:"program.start"}}),e._v("到\n        "),a("el-input-number",{attrs:{size:"mini","controls-position":"right",min:0},model:{value:e.program.end,callback:function(t){e.$set(e.program,"end",t)},expression:"program.end"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"视频文件前缀","label-width":e.formLabelWidth}},[a("el-input",{model:{value:e.program.prefix,callback:function(t){e.$set(e.program,"prefix",t)},expression:"program.prefix"}})],1),e._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmitProgram}},[e._v("提 交")])],1)],1)],1),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"节目集详情",visible:e.dialogVisible,width:"80%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-breadcrumb",{style:{margin:"10px 0 20px 0px"},attrs:{"separator-class":"el-icon-d-arrow-right"}},e._l(e.breadcrumb_child,function(t,i){return a("el-breadcrumb-item",{key:i},[e._v(e._s(t))])}),1),e._v(" "),a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"节目集信息",name:"first"}},[a("div",{staticClass:"program_content"},[a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("归属类型")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s("炫佳乐园"))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("节目名称")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonCname))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("节目标签")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonCname))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("英文名称")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonEname))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("详情图片")]),e._v(" "),a("div",{staticClass:"pro_value"},[e.curProgram.detailPic.picPath?a("img",{staticStyle:{width:"60px"},attrs:{src:e.imagesBaseUrl+e.curProgram.detailPic.picPath}}):e._e()]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("卡通图片")]),e._v(" "),a("div",{staticClass:"pro_value"},[e.curProgram.iconPic.picPath?a("img",{staticStyle:{width:"60px"},attrs:{src:e.imagesBaseUrl+e.curProgram.iconPic.picPath}}):e._e()])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("标签图片")]),e._v(" "),a("div",{staticClass:"pro_value"},[e.curProgram.labelPic.picPath?a("img",{staticStyle:{width:"60px"},attrs:{src:e.imagesBaseUrl+e.curProgram.labelPic.picPath}}):e._e()]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("视频集数")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonSumvideonum))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("版权方")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonProprietors))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("介质类型")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonMediatype))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("单集平均时长")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonAveragetime))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("总时长")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonSumvideotime))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("授权地区")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonProducingarea))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("排行ID")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.rankId))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("导演")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.rankId))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("主演")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.rankId))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("年份")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.rankId))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("语言")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.rankId))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("地区")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.curProgram.cartoonProducingarea))]),e._v(" "),a("div",{staticClass:"pro_name"},[e._v("是否上线")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(e.booleanUp[e.curProgram.booleanUp]))])]),e._v(" "),a("div",{staticClass:"pro_line"},[a("div",{staticClass:"pro_name"},[e._v("卡通介绍")]),e._v(" "),a("div",{staticClass:"pro_value"},[e._v(e._s(""+e.curProgram.cartoonIntroduction))])])])]),e._v(" "),a("el-tab-pane",{attrs:{label:"节目信息",name:"second"}},[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(t){return e.handleAdd()}}},[e._v("新增")]),e._v(" "),a("el-popover",{style:{float:"right",margin:"0 10px 0 0"},attrs:{placement:"top",width:"350",trigger:"click"}},[e.isAuth("system:series:insert")?a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{size:"mini",type:"warning",plain:""},on:{click:function(t){return e.handleBatchDelP(e.selectedIDs,e.seriesListData)}}},[e._v("批量删除")]):e._e(),e._v(" "),a("self-button-batch-online",{style:{float:"right",margin:"0 10px 0 0"},on:{batchOnLine:e.batchOnLine}}),e._v(" "),a("self-button-batch-free",{style:{float:"right",margin:"0 10px 0 0"},on:{batchIsFree:e.batchIsFree}}),e._v(" "),a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"success",plain:""},slot:"reference"},[e._v("批量操作")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingProgram,expression:"loadingProgram"}],ref:"multipleTable",attrs:{data:e.seriesListData},on:{"selection-change":function(t){return e.handleSelectionChange(t,0)}}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"id",label:"ID"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"中文名"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"right",width:"1000",trigger:"click"},on:{show:function(a){return e.showMove(t.row.id)}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingMove,expression:"loadingMove"}],ref:"multipleTable",attrs:{data:e.moveData}},[a("el-table-column",{attrs:{prop:"playUrl",label:"播放地址"}})],1),e._v(" "),a("a",{style:{color:"#409eff"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.videoCname))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"videoEname",label:"英文名"}}),e._v(" "),e.curCspInfo?a("el-table-column",{attrs:{label:"CP/SP信息"}},[e._v(e._s(e.curCspInfo.cpCname))]):e._e(),e._v(" "),a("el-table-column",{attrs:{prop:"booleanUp",label:"是否上架"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":2,"inactive-value":0,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.changeOnLineVideo(a,t.row)}},model:{value:t.row.booleanUp,callback:function(a){e.$set(t.row,"booleanUp",a)},expression:"scope.row.booleanUp"}}),e._v("\n              "+e._s(e.online[t.row.booleanUp])+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"免费状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){return e.changeIsFreeVod(a,t.row)}},model:{value:t.row.isFree,callback:function(a){e.$set(t.row,"isFree",a)},expression:"scope.row.isFree"}}),e._v("\n              "+e._s(e.isFree[t.row.isFree])+"\n            ")]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.delListP(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total2>0,expression:"total2>0"}],attrs:{total:e.total2,page:e.currentPage,limit:e.pageSize},on:{"update:page":function(t){e.currentPage=t},"update:limit":function(t){e.pageSize=t},pagination:function(t){return e.getProgramListBySeriesId(e.curProgram.id)}}})],1)],1)],1),e._v(" "),a("programForm"),e._v(" "),a("pictureForm"),e._v(" "),a("programInfoForm"),e._v(" "),a("programManageForm")],1)},staticRenderFns:[]};var W=a("VU/8")(M,z,!1,function(e){a("XfGB")},"data-v-1462e428",null);t.default=W.exports},sjnz:function(e,t,a){"use strict";var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("el-button",{style:{float:"right",margin:"0 10px 0 0"},attrs:{slot:"reference",size:"mini",type:"info",plain:""},on:{click:e.showDialog},slot:"reference"},[e._v("批量分类")]),e._v(" "),a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],ref:"dialog__wrapper",attrs:{title:"批量选择分类标签",width:"250px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-cascader",{attrs:{"collapse-tags":"",placeholder:"分类",options:e.filterData,props:{multiple:!0,children:"childrenList",label:"typeCname",value:"id"},filterable:"",size:"medium"},model:{value:e.form.typeParentPath,callback:function(t){e.$set(e.form,"typeParentPath",t)},expression:"form.typeParentPath"}}),e._v(" "),a("el-cascader",{attrs:{placeholder:"标签",options:e.tagsData,filterable:"",props:{multiple:!0,children:"childrenList",label:"typeCname",value:"id"}},model:{value:e.form.tagParentPath,callback:function(t){e.$set(e.form,"tagParentPath",t)},expression:"form.tagParentPath"}}),e._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-edit"},on:{click:e.batchUpdate}})],1)],1)],1)},staticRenderFns:[]},r=a("VU/8")({name:"ClassBatches",props:["classifyData","tagsData","selectedIDs"],data:function(){return{dialogFormVisible:!1,form:{}}},computed:{filterData:function(){var e=this.classifyData;return e.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){e.childrenList.length>0?e.childrenList.forEach(function(e){delete e.childrenList}):delete e.childrenList}):delete e.childrenList}):delete e.childrenList}),e}},methods:{batchUpdate:function(){var e=this;this.$confirm("确定全部修改吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$emit("batchUpdateClass",e.form),e.dialogFormVisible=!1}).catch(function(){e.$message({type:"info",message:"已取消操作"})})},showDialog:function(){this.selectedIDs.length>0?this.dialogFormVisible=!0:this.$message({type:"warning",message:"请勾选"})}}},i,!1,null,null,null);t.a=r.exports},whH2:function(e,t){}});