ajaxConf=ajaxConf||{webApiUrl:document.URL.match(/(https?)(:\/\/)[^\/]+/g)[0]+"/webapi/",logApiUrl:document.URL.match(/(https?)(:\/\/)[^\/]+/g)[0]+"/logapi/",imgUrl:document.URL.match(/(https?)(:\/\/)[^\/]+/g)[0]};var AjaxConfig={origin:document.URL.match(/(https?)(:\/\/)[^\/]+/g)[0],PORT:document.URL.match(/(:)(\d)+/g)[0].substr(1),IP:document.URL.match(/(https?)(:\/\/)[^\:]+/g)[0],imgUrl:ajaxConf.imgUrl||document.URL.match(/(https?)(:\/\/)[^\/]+/g)[0],projectUrl:document.URL.match(/(https?\:\/\/)([0-9a-zA-Z\_\.\:\-]*\/){2}/g)[0],interfaceUrl:ajaxConf.webApiUrl+"web/",actInterfaceUrl:ajaxConf.webApiUrl+"activity/",bobyfaceUrl:ajaxConf.webApiUrl+"baby/",loggerUrl:ajaxConf.logApiUrl+"log/",insertUserUrl:ajaxConf.webApiUrl+"web/insertUserInfo",defaultMainUrl:"/commPage?contentId=31&contentEName=newmain&contentCName=新版首页",commonPageInfo:null,isAutoFindFocus:!1,saveCommonLog:ajaxConf.logApiUrl+"log/saveCommonLog",saveCommonOrderLog:ajaxConf.logApiUrl+"log/saveCommonOrderLog",bigDataRecCartoonUrl:ajaxConf.bigApiUrl+"movie/",hostname:document.URL.match(/(https?)(:\/\/)[^\:]+/g)[0].split("://")[1],gamePort:28080};function AjaxFun(option){var _this=this;this.option=null,this.url=null,this.Async=null,this.method=null,this.beforeSend=null,this.formatParams=function(data){var arr=[];for(var name in data)arr.push(encodeURIComponent(name)+"="+encodeURIComponent(data[name]));return arr.join("&")},this.jsonToString=function(obj){function format(val,cb){var type=typeof val;return val&&/^(string)$/.test(type)?'"'+val+'"':val+""&&/^(number)$/.test(type)?val:cb(val)}var arr=[];if(obj&&obj instanceof Array){for(var i=0,len=obj.length;i<len;i++)arr.push(format(obj[i],_this.jsonToString));return"["+arr.join(",")+"]"}if(obj&&obj instanceof Object){for(var key in obj)arr.push('"'+key+'":'+format(obj[key],_this.jsonToString));return"{"+arr.join(",")+"}"}return'""'},this.params=null,this.contentType=null,this.timeoutTimer=null,this.timeout=null,this.init=function(option){var xhr,dataStr,p,p;this.option=option||{},this.url=this.option.url,this.Async=0!=this.option.async,this.method=this.option.method.toUpperCase(),this.params=this.formatParams(this.option.params),this.contentType=this.option.ContentType||"",this.beforeSend=this.option.beforeSend||null,this.timeout=this.option.timeout||1e4,xhr=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),xhr.onreadystatechange=function(){var data,data;4==xhr.readyState&&(200<=xhr.status&&xhr.status<300||304==xhr.status?(data=xhr.responseText,data=-1<data.indexOf("{")?eval("("+xhr.responseText+")"):xhr.responseText.replace(/[\W]+/g,""),clearTimeout(this.timeoutTimer),option.success&&option.success(data)):option.fail&&option.fail(status))},"POST"==this.method?(xhr.open(this.method,this.url,this.Async),dataStr=this.params,""==this.contentType?xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"):-1<this.contentType.indexOf("json")?(xhr.setRequestHeader("Content-type","application/json"),dataStr=this.jsonToString(this.option.params)):xhr.setRequestHeader("Content-type",this.contentType),this.beforeSend&&this.beforeSend(xhr),xhr.send(dataStr)):"GET"==this.method&&(p="{}"==this.jsonToString(this.params)||""==this.params?"":"?"+this.params,xhr.open(this.method,this.url+p,this.Async),this.beforeSend&&this.beforeSend(xhr),xhr.send(null)),this.timeout&&0<this.timeout&&(this.timeoutTimer=setTimeout(function(){xhr.abort("timeout"),this.fail&&this.fail()},this.timeout))}}var ajax=new AjaxFun;function JSONP(url,config){var paraString,urlArr,callbackName,script,head,supportLoad,onEvent,data=config.data||[],paraArr=[],timeout=config.timeout||0;for(var i in data)data.hasOwnProperty(i)&&paraArr.push(encodeURIComponent(i)+"="+encodeURIComponent(data[i]));1<(urlArr=url.split("?")).length&&paraArr.push(urlArr[1]),callbackName="callback"+(new Date).getTime(),paraArr.push("callback="+callbackName),paraString=paraArr.join("&"),url=urlArr[0]+"?"+paraString,(script=document.createElement("script")).loaded=!1,window[callbackName]=function(arg){(0,config.callback)(arg),script.loaded=!0},(head=document.getElementsByTagName("head")[0]).insertBefore(script,head.firstChild),script.src=url,supportLoad="onload"in script,script[onEvent=supportLoad?"onload":"onreadystatechange"]=function(){script.readyState&&"loaded"!=script.readyState||("loaded"!=script.readyState||0!=script.loaded?(script.parentNode&&script.parentNode.removeChild(script)&&head.removeNode&&head.removeNode(this),script=script[onEvent]=script.onerror=window[callbackName]=null):script.onerror())},script.onerror=function(){null==window[callbackName]&&console.log("请求超时，请重试！"),config.error&&config.error(),script.parentNode&&script.parentNode.removeChild(script)&&head.removeNode&&head.removeNode(this),script=script[onEvent]=script.onerror=window[callbackName]=null},0!=timeout&&setTimeout(function(){script&&0==script.loaded&&(window[callbackName]=null,script.onerror())},timeout)}var CT=null,TE=!0;!function(){function b2(){this.isRoute=!(-1<window.location.href.indexOf(".html")),this.getEpgDomain=function(isAllUrl){var mainURL="";return"isAllUrl"===isAllUrl&&("HUAWEI"==this.BoosPlatForm?mainURL+="Category.jsp":"ZTE"==this.BoosPlatForm&&(mainURL+="portal.jsp")),mainURL},this.version=function(){return"1.0"},this.$=function(id){var dom;if(void 0===id||""==id||null==id||null==id)return null;try{dom=document.getElementById(id)||null}catch(e){dom=null}return dom},this.getBrowser=function(){var b3="";try{var b4=navigator.appName}catch(e){b4=""}return-1!=b4.indexOf("iPanel")?b3="iPanel":-1!=b4.indexOf("Microsoft")?b3="Miscrosoft":-1!=b4.indexOf("Google")?b3="Google":-1!=b4.indexOf("Netscape")?b3="Netscape":-1!=b4.indexOf("Opera")&&(b3="Opera"),b3},this.browser=this.getBrowser(),this.getBrowVersion=function(str){var bl=!1;if(this.isnull(str))return bl;try{var usa=navigator.userAgent}catch(e){usa=""}return-1!=usa.indexOf(str)&&(bl=!0),bl},this.setCookie=function(name,value,timestr){if(window.localStorage){window.localStorage.setItem(name,value);try{var exp2=new Date,id=0==this.isnull(timestr)?timestr:"D1",t=this.getSec(id);exp2.setTime(exp2.getTime()+t),document.cookie=name+("="+escape(value)+";expires="+exp2.toGMTString())+";path=/;"}catch(e){}}else{exp2=new Date,id=0==this.isnull(timestr)?timestr:"D1",t=this.getSec(id);exp2.setTime(exp2.getTime()+t),document.cookie=name+("="+escape(value)+";expires="+exp2.toGMTString())+";path=/;"}},this.getCookie=function(name){if(name=name||"middle_user_info",!window.localStorage)return null!=(arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)")))?unescape(arr[2]):null;var arr,value=window.localStorage.getItem(name);return value?value=""===value?value:decodeURIComponent(value):null!=(arr=document.cookie.match(new RegExp("(^| )"+name+"=([^;]*)(;|$)")))?unescape(arr[2]):void 0},this.delCookie=function(name){if(window.localStorage){localStorage.removeItem(name);try{(exp=new Date).setTime(exp.getTime()-1),null!=(cval=this.getCookie(name))&&(document.cookie=name+"="+cval+";expires="+exp.toGMTString()+";path=/;")}catch(e){}}else{var exp,cval;(exp=new Date).setTime(exp.getTime()-1),null!=(cval=this.getCookie(name))&&(document.cookie=name+"="+cval+";expires="+exp.toGMTString()+";path=/;")}},this.clearAllCookie=function(){var date=new Date;date.setTime(date.getTime()-1e4);var keys=document.cookie.match(/[^ =;]+(?=\=)/g);if(keys)for(var i=keys.length;i--;)document.cookie=keys[i]+"=0; expire="+date.toGMTString()+"; path=/"},this.getSec=function(sec){var str1=+sec.substring(1,sec.length),str2=sec.substring(0,1);return"S"==str2?1e3*str1:"M"==str2?60*str1*1e3:"H"==str2?60*str1*60*1e3:"D"==str2?24*str1*60*60*1e3:864e5},this.timeFormat=function(t1){return t1<0&&(sing="-",t1=0-t1),(Math.floor(t1/3600)%24+1e3).toString().substring(2)+":"+(Math.floor(t1%3600/60)+100).toString().substring(1)+":"+(t1%60+100).toString().substring(1)},this.trim=function(str){for(var i=(str=str.replace(/^(\s|\u00A0)+/,"")).length-1;0<=i;i--)if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break}return str},this.dataType=function(obj){var type,dataType=typeof obj;return"object"==dataType&&(null==obj?dataType="null":"[object Array]"==(type=Object.prototype.toString.call(obj))?dataType="array":"[object Object]"==type&&(dataType="object")),dataType},this.requestValue=function(d,url){var b=url||window.location.href;if(d){for(var f=b.indexOf("?"),c=b.substr(f+1).split("&"),a=0;a<c.length;a++){var g=c[a].split("=");if(g[0].toUpperCase()==d.toUpperCase())return decodeURIComponent(g[1])}return""}return""},this.keyCode=function(evt){return null!=(evt=null!=evt&&null!=evt?evt:window.event).which&&null!=evt.which&&0!=evt.which?evt.which:evt.keyCode},this.hasOwnProperty=function(obj,key){return!(!(obj=obj||{})instanceof Object)&&key in obj},this.changeImg=function(id,imgurl){id&&(id.src=imgurl)},this.isnull=function(obj){return"0"!=""+obj&&("object"==typeof obj&&""==obj||(void 0===obj||null==obj||null==obj||""==obj))},this.isNotNull=function(obj){return"0"==""+obj||("object"==typeof obj&&""==obj||void 0!==obj&&null!=obj&&null!=obj&&""!=obj)},this.isNullErrorMsg=function(obj,msg_){if(this.isnull(obj)){try{1==this.debug&&(this.alertInfo("text",msg_),console.log(msg_))}catch(e){}return!0}return!1},this.getText=function(dom){var text="";return dom&&(text=this.isNull(dom.textContent)?dom.innerText:dom.textContent),text},this.setText=function(dom,text){dom&&(this.isNull(text)||(this.isNull(dom.innerText)?dom.textContent=text:dom.innerText=text))},this.getDomInfo=function(dom,key){if(dom){var val=dom.style[key];return-1<val.indexOf("px")?parseInt(val.match(/[\d]+/g)[0]):val}alert("dom 不存在")},this.getCurClassObjInfo=function(dom){if(dom)return{width:this.getDomInfo(dom,"width"),height:this.getDomInfo(dom,"height"),top:this.getDomInfo(dom,"top"),left:this.getDomInfo(dom,"left"),zIndex:-1==this.getDomInfo(dom,"z-index")?99:0,selectedImg:this.getDomInfo(dom.childNodes[1],"background-image")}},this.alertTip=function(msg,args){var str="";if((args=args||{}).time=args.time||1e3,args["font-size"]=args["font-size"]||"25px",args.color=args.color||"red",args.background=args.background||"#ddd",args["z-index"]=args["z-index"]||1e3,!CT.$("alertTip")){for(var key in args)str+=key+":"+args[key]+";";var elm=document.createElement("div");elm.style.cssText="position:absolute;top:360px;left:640px;-webkit-transform:translate(-50%,-50%);padding:20px;text-align:center;font-weight:bold; -webkit-border-radius:10px;border-radius: 10px;"+str,elm.id="alertTip",elm.innerHTML=msg,document.body.appendChild(elm),setTimeout(function(){elm.parentNode.removeChild(elm)},args.time)}},this.call=function(fn,args){if("string"==typeof fn)return eval("("+fn+")");if("function"==typeof fn){if(!this.isArray(args)){for(var arr=[],i=1;i<arguments.length;i++)arr.push(arguments[i]);args=arr}return fn.apply(window,args)}},this.isArray=function(obj){return obj instanceof Array},this.hide=function(dom){dom&&(dom.style.visibility="hidden")},this.show=function(dom){dom&&(dom.style.visibility="visible")},this.getContextPath=function(){var s1,intLength,a=window.location.href;return 0<(a=-1!=a.indexOf("http://")?(s1=(a=a.replace("http://","")).indexOf(":"),a=a.substring(s1+1,a.length),intLength=(parseInt(a,10)+"").length,(a=a.substring(intLength+1,a.length)).substring(0,a.indexOf("/"))):"").length&&(a+="/"),a},this.getHostPath=function(){var href=location.href,pathname=location.pathname;return href.substr(0,href.lastIndexOf(pathname))},this.hostPath=this.getHostPath(),this.getRootPath=function(){var result=this.hostPath,pathname=location.pathname;if(-1<pathname.indexOf("/")){for(var paths=pathname.split("/"),temps=new Array,i=0;i<paths.length;i++)0<paths[i].length&&temps.push(paths[i]);for(i=0;i<0&&i<temps.length;i++)result+="/"+temps[i]}return result},this.rootPath=this.getRootPath(),this.getPath=function(){var pathname=location.pathname,t1=pathname.indexOf("/",0),sname="";return-1<pathname.indexOf("/",t1+1)&&(sname=pathname.substring(t1+1,pathname.indexOf("/",t1+1)),sname=this.hostPath+"/"+sname+"/"),sname},this.path=this.getPath(),this.html=function(dom,html){if(!html||""==html||null==html)return dom.innerHTML;dom.innerHTML=html},this.params=function(data,encode){if(this.isnull(data))return"";var arr=[];for(var i in data)1==encode?arr.push(encodeURIComponent(i)+"="+encodeURIComponent(data[i])):arr.push(i+"="+data[i]);return arr.join("&")},this.addEvent=function(obj,type,func){obj.addEventListener?obj.addEventListener(type,func,!1):obj.attachEvent&&obj.attachEvent("on"+type,func)},this.isDebug=!1,this.isMsg=!0,this.writeInfo=function(msg){var el;if(this.isDebug){if(this.isMsg)return(el=document.createElement("div")).style.position="absolute",el.style.top="200px",el.style.width="600px",el.style.left="100px",el.style.color="red",el.style.fontSize="20px",el.style.background="rgba(0,0,0,0.8)",el.style.zIndex="9999",el.innerHTML=msg,el.id="msg",document.body.appendChild(el),void(this.isMsg=!1);(el=document.getElementById("msg")).innerHTML=el.innerHTML+"；"+msg,interface.loggerInfo(msg,"post")}},this.alertInfo=function(msg){msg&&this.isDebug&&alert(msg)},this.hasClass=function(obj,cls){return obj.className.match(new RegExp("(\\s+|^)"+cls+"(\\s+|$)"))},this.addClass=function(obj,cls){this.hasClass(obj,cls)||(obj.className+=" "+cls)},this.removeClass=function(obj,cls){this.hasClass(obj,cls)&&(obj.className=obj.className.replace(new RegExp("(\\s+|^)"+cls+"(\\s+|$)")," "))},this.jsonToString=function(obj){switch(typeof obj){case"string":return'"'+obj.replace(/(["\\])/g,"\\$1")+'"';case"array":return"["+obj.map(CT.jsonToString).join(",")+"]";case"object":if(obj instanceof Array){for(var strArr=[],len=obj.length,i=0;i<len;i++)strArr.push(CT.jsonToString(obj[i]));return"["+strArr.join(",")+"]"}if(null==obj)return"null";var string=[];for(var property in obj)string.push(CT.jsonToString(property)+":"+CT.jsonToString(obj[property]));return"{"+string.join(",")+"}";case"number":case"boolean":return obj}},this.stringToJson=function(data){var json={},json="string"==typeof data&&-1<data.indexOf("{")?eval("("+data+")"):"object"==typeof data?eval(data):data;return json},this.strToJson=function(data){var json={};if("string"==typeof data)for(var arr=data.split("&"),i=0,len=arr.length;i<len;i++){var array=arr[i].split("=");json[array[0]]=array[1]}return json},this.setStyle=function(elm,obj){if(obj&&"object"==typeof obj)for(var key in obj)elm.style[key]=obj[key];else CT.writeInfo("对象写法错误或不存在")},this.setLogger=function(logUrl,params){if(params instanceof Object){var args="";for(var i in params)""!=args&&(args+="&"),args+=i+"="+encodeURIComponent(params[i]);new Image(0,0).src=logUrl+"?"+args}},this.outObj={},this.setMarquee=function(str,len,time){if("string"==typeof str&&"number"==typeof len)return time=time||2,this.getStrLen(str)>len?"<marquee scrollamount="+time+">"+str+"</marquee>":str},this.getStrLen=function(str){if("string"!=typeof str)return-1;for(var len=0,i=0;i<str.length;i++)127<str.charCodeAt(i)||94==str.charCodeAt(i)?len+=2:len++;return len},this.querySearchUrlKey=function(url,name){var search,reg,value;if(url?search=url.substring(url.indexOf("?")+1):this.writeInfo("querySearchUrlKey 中URL 地址错误"),name){reg=new RegExp("(^|&)"+name+"=([^&]*)($|&)");try{value=search.match(reg)[2]}catch(e){value=null,this.writeInfo("querySearchUrlKey 中未查询到该key值")}}else this.writeInfo("querySearchUrlKey 中name 为空");return value},this.isLoading=!0,this.setLoading=function(imgsrc){if(imgsrc){this.outObj.loadNumber=0;var loadingImg=imgsrc;if(this.isLoading){var el=document.createElement("div");el.id="loadImg";var childDiv=document.createElement("div"),img=new Image;img.src=loadingImg,childDiv.appendChild(img),el.appendChild(childDiv),document.body.appendChild(el);var loadImg,childBox=(loadImg=this.$("loadImg")).firstElementChild,childImg=childBox.firstElementChild;this.setStyle(loadImg,{width:"1280px",height:"720px",background:"#000",position:"absolute",top:"0",left:"0",zIndex:10}),this.setStyle(childBox,{width:"1280px",height:"720px",backgroundColor:"#000000",position:"relative"}),this.setStyle(childImg,{display:"block",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",webkitTransform:"translate(-50%,-50%)"}),this.isLoading=!1}else try{(loadImg=CT.$("loadImg")).parentNode.removeChild(loadImg)}catch(e){}}},this.setLabelFun=function(obj){for(var elem="\x3c!--"+obj.name+"--\x3e",i=0;i<obj.len;i++){elem+=' <div class="post" style="width:'+obj.width+"px;height:"+obj.height+'px;">  <img id = "'+obj.name+"FocusPic"+i+'" src="" alt="'+obj.name+'图片"/> </div> <div id="hands_x0_y0_'+obj.name+"Focus"+i+'_" class="post" style="width:'+obj.width+"px;height:"+obj.height+'px;"> <img src="" id = "'+obj.name+"Focus"+i+'" style="width:'+obj.width+"px;height:"+obj.height+'px;visibility: hidden;" alt="'+obj.name+'选框"/> </div>'}var label=document.createElement("div");label.innerHTML+=elem,label.id=obj.name,obj.parentId?document.getElementById(obj.parentId).appendChild(label):document.body.appendChild(label)},this.setLabel=function(elemsObj,option,labelArray){var len=labelArray.length;elemsObj.len=len||0,this.setLabelFun(elemsObj);for(var startIndex=elemsObj.startIndex||0,isVertical=elemsObj.vertical||!1,i=0;i<len;i++){var index=i,labelImg=CT.$(elemsObj.name+"FocusPic"+(index+startIndex)),labelChoose=CT.$(elemsObj.name+"Focus"+(index+startIndex));labelArray[index].recommendPic?labelImg.src=imgUrl+labelArray[index].recommendPic:alert(elemsObj.name+">>>recommendPic不存在"),labelArray[index].recommendLabelpic?labelChoose.src=imgUrl+labelArray[index].recommendLabelpic:alert(elemsObj.name+">>>recommendLabelpic不存在"),isVertical?(CT.setStyle(labelImg.parentNode,{left:elemsObj.left+"px",top:elemsObj.top+index*elemsObj.step+"px"}),CT.setStyle(labelChoose.parentNode,{left:elemsObj.left+"px",top:elemsObj.top+index*elemsObj.step+"px"})):(CT.setStyle(labelImg.parentNode,{left:index*elemsObj.step+elemsObj.left+"px",top:elemsObj.top+"px"}),CT.setStyle(labelChoose.parentNode,{left:index*elemsObj.step+elemsObj.left+"px",top:elemsObj.top+"px"}));var button,curIndex2=elemsObj.otherObj?elemsObj.otherObj[index].index2:"-1";option&&0<option.length&&(button={id:"hands_x0_y0_"+elemsObj.name+"Focus"+(index+startIndex)+"_",clickHandler:"javascript:toJumpUrl("+CT.jsonToString(labelArray[index])+',"'+elemsObj.name+'",'+curIndex2+")",left:"hands_x0_y0_"+elemsObj.name+"Focus"+(index+startIndex-1)+"_",right:"hands_x0_y0_"+elemsObj.name+"Focus"+(index+startIndex+1)+"_",up:"hands_x0_y0_"+elemsObj.name+"Focus"+(index+startIndex-1)+"_",down:"hands_x0_y0_"+elemsObj.name+"Focus"+(index+startIndex+1)+"_",focusType:7},0==index?button.left="disable":index===len-1&&(button.right="disable"),option&&option[index]&&option instanceof Array&&(button=checkObj(button,option[index])),buttons.push(button))}},this.getPageArrayByPageNo=function(pageNo,pageSize,array,needCover){var result=new Array,start=(pageNo-1)*pageSize,end=start+pageSize;if(start>array.length&&start<0)return result;end>=array.length&&(end=array.length);for(var i=start;i<end;i++)result[i-start]=array[i];if(needCover&&result.length<pageSize)for(i=result.length;i<pageSize;i++)result[i]=null;return result},this.getPageArrayByIndex=function(startIndex,pageSize,array,needCover){var result=new Array,end=startIndex+pageSize;end>=array.length&&(end=array.length);for(var i=startIndex;i<end;i++)result[i-startIndex]=array[i];if(needCover&&result.length<pageSize)for(i=result.length;i<pageSize;i++)result[i]=null;return result},this.checkObj=function(targetObj,modelObj){if(null!=modelObj&&null!=modelObj)for(var p in modelObj)targetObj[p]=modelObj[p];return targetObj},this.checkClickValid=function(distanceTime){distanceTime=distanceTime||100;var lastTime=this.getCookie("lastTime"),dt=(new Date).getTime();return(dt-lastTime<distanceTime||!lastTime)&&(this.setCookie("lastTime",dt),!0)},this.commonJumpUrl=function(obj,isBack){var _this=this;if(1!=_this.commonJumpUrl_flag){_this.commonJumpUrl_flag=!0,clearTimeout(_this.commonJumpUrl_flag_timer),_this.commonJumpUrl_flag_timer=setTimeout(function(){_this.commonJumpUrl_flag=!1},6e3);var defaultFocus="",userId="";try{curFocus&&curFocus.FocusID&&(defaultFocus+=curFocus.FocusID),userId=xjDataLog.getUserId("userId")}catch(error){}if("string"==typeof obj)return window.isKey_log=!0,void(window.location.href=obj+"&defaultFocus="+defaultFocus+"&isback=1&userId="+userId);else if("object"==typeof obj){return}}},this.goPage=function(){var _this=this,currentUrl=this.getCurrentUrl(),mainPathname=this.getColumnCode(AjaxConfig.defaultMainUrl);-1<currentUrl.indexOf(mainPathname)&&CT.delCookie("backUrlList"),""!==PAGE.otherPageParam&&"null"!==PAGE.otherPageParam&&null!==PAGE.otherPageParam&&void 0!==PAGE.otherPageParam&&"undefined"!==PAGE.otherPageParam&&(_this.isRoute&&(currentUrl=currentUrl.split("?")[0]+"?"),0!=PAGE.otherPageParam.indexOf("?")&&0!=PAGE.otherPageParam.indexOf("&")||(PAGE.otherPageParam=PAGE.otherPageParam.substring(1)),currentUrl+=PAGE.otherPageParam);var backUrlList=CT.getCookie("backUrlList"),backUrlList=decodeURIComponent(backUrlList);backUrlList=eval("("+backUrlList+")")||[];var jStr="",length=backUrlList.length,pathname=location.href;backUrlList[length-1]&&-1<backUrlList[length-1].indexOf(this.getColumnCode(pathname))&&backUrlList.pop(),backUrlList.push(currentUrl),length=backUrlList.length;for(var i=0;i<length;i++)jStr+='"'+backUrlList[i]+'",';jStr="["+jStr.slice(0,-1)+"]",jStr=encodeURIComponent(jStr),CT.delCookie("backUrlList"),CT.setCookie("backUrlList",jStr)},this.getCurrentUrl=function(){var url=window.location.href;if(this.isRoute)return document.URL.replace(/(https?\:\/\/)([0-9a-zA-Z\_\.\:\-]*\/){2}/g,"/");var end=-1<url.indexOf("?")?url.indexOf("?"):url.length,arr=url.substr(0,end).split("/"),currentUrl="/"+arr.slice(4,arr.length).join("/"),times=new Date;return currentUrl+(0<currentUrl.indexOf("?")?"":"?1="+times.getTime())},this.backPage=function(){var _this=this;if(!_this.backPageLock){_this.backPageLock=!0,_this.backPage_timer=setTimeout(function(){_this.BackPortalMainPage()},1e4);var backUrlStr=CT.getCookie("backUrlList"),backUrlList,backUrlList,backUrlStr=backUrlStr&&decodeURIComponent(backUrlStr);backUrlList=backUrlStr?eval("("+backUrlStr+")"):[];for(var backUrl=backUrlList.pop()||AjaxConfig.defaultMainUrl,jStr="",length=backUrlList.length,i=0;i<length;i++)jStr+='"'+backUrlList[i]+'",';jStr="["+jStr.slice(0,-1)+"]",jStr=encodeURIComponent(jStr),CT.setCookie("backUrlList",jStr),backUrl=backUrl.substring(1),_this.commonJumpUrl(AjaxConfig.projectUrl+backUrl,!0)}},this.getPreMemoryPage=function(index){index=index||1;var backUrlStr=CT.getCookie("backUrlList"),backUrlList,backUrlList,backUrlStr=backUrlStr&&decodeURIComponent(backUrlStr);backUrlList=backUrlStr?eval("("+backUrlStr+")"):[];var memoryPageIndex=backUrlList.length-index,lastBackUrl=backUrlList[memoryPageIndex];return lastBackUrl},this.delPreMemoryPage=function(){var backUrlStr=CT.getCookie("backUrlList"),backUrlList,backUrlList,backUrlStr=backUrlStr&&decodeURIComponent(backUrlStr);backUrlList=backUrlStr?eval("("+backUrlStr+")"):[];for(var lastBackUrl=backUrlList.pop(),jStr="",length=backUrlList.length,i=0;i<length;i++)jStr+='"'+backUrlList[i]+'",';return jStr="["+jStr.slice(0,-1)+"]",jStr=encodeURIComponent(jStr),CT.setCookie("backUrlList",jStr),lastBackUrl},this.getColumnCode=function(pathname){return pathname?this.isRoute?this.requestValue("contentName",pathname)||this.requestValue("contentEName",pathname):pathname.substr(pathname.lastIndexOf("/")+0).replace(/\..*$/g,""):basePageInfo&&basePageInfo.commonPageInfo&&basePageInfo.commonPageInfo.pageInfo&&basePageInfo.commonPageInfo.pageInfo.commPageEname?basePageInfo.commonPageInfo.pageInfo.commPageEname:(pathname=window.location.href,this.isRoute?this.requestValue("contentName",pathname)||this.requestValue("contentEName",pathname):pathname.substr(pathname.lastIndexOf("/")+0).replace(/\..*$/g,""))},this.deepClone=function(target){var result;if("object"==typeof target)if(Array.isArray(target))for(var i in result=[],target)result.push(deepClone(target[i]));else if(null===target)result=null;else if(target.constructor===RegExp)result=target;else for(var i in result={},target)result[i]=deepClone(target[i]);else result=target;return result},this.transObjDataToRec=function(transInfo){if("object"==this.dataType(transInfo)&&transInfo.transObj&&transInfo.transType){var tempKeyName,commPageEname=basePageInfo.commonPageInfo.pageInfo.pageTrackName||basePageInfo.commonPageInfo.pageInfo.commPageEname,recIndex=transInfo.recIndex||"0",recCartoonId=transInfo.transObj.id||"-1",recCartoonCname=transInfo.transObj.recommendDisplayName||"未获取到",templateDataObj=transInfo.targetObj||{animation:null,booleanFree:1,booleanUp:2,commpageId:3,commpageName:"cartoon_detail_2019v1",createTime:"2020-11-19 15:03:08",filemTime:null,id:36545,isFree:1,more1:"",more2:null,more3:null,more4:null,movedown:null,moveleft:null,moveright:null,movetop:null,onfocus:1,pageRecommendConfigTabVos:null,rankId:2,recommendCornerpic:null,recommendDisplayName:null,recommendDisplayType:null,recommendDisplayValue:null,recommendFocuspic:null,recommendLabelpic:null,recommendPic:null,recommendTrackName:null};switch(+transInfo.transType){case 1:for(var keyName in transInfo.transObj)transInfo.transObj.hasOwnProperty(keyName)&&(templateDataObj[keyName]=transInfo.transObj[keyName]);if(transInfo.transDiffKeys)for(var keyName in transInfo.transDiffKeys){transInfo.transDiffKeys.hasOwnProperty(keyName)&&(tempKeyName=transInfo.transDiffKeys[keyName],templateDataObj[keyName]=transInfo.transObj[tempKeyName])}if(transInfo.transSpecialKeys)for(var keyName in transInfo.transSpecialKeys)transInfo.transSpecialKeys.hasOwnProperty(keyName)&&(templateDataObj[keyName]=transInfo.transSpecialKeys[keyName]);var intelligentParams=["intelligent",commPageEname,recIndex,recCartoonId,recCartoonCname];templateDataObj.recommendTrackName=intelligentParams.join("&")}return templateDataObj}},this.toAnterRecommendUrl=function(outJson,recommend,index){var recommendmap=outJson;recommend&&outJson[recommend]&&(recommendmap=outJson[recommend][index]);var __params,params=void 0;switch(+recommendmap.recommendDisplayType){case 0:params={contentId:recommendmap.commpageId||14,gameId:recommendmap.recommendDisplayValue,contentType:"game",action:"gameDetail",contentName:recommendmap.commpageName||recommendmap.commPageEname};break;case 1:params={contentId:recommendmap.commpageId||3,cartoonId:recommendmap.recommendDisplayValue,contentType:"page",action:"videoDetail",contentName:recommendmap.commpageName||recommendmap.commPageEname||"cartoon_detail_2019v1"};break;case 2:params={contentId:15,cartoonId:recommendmap.cartoonId,videoId:recommendmap.recommendDisplayValue||recommendmap.id,contentType:"video",action:"playVideo",contentName:recommendmap.commpageName||recommendmap.commPageEname};break;case 3:var aUrl=recommendmap.recommendDisplayValue;this.commonJumpUrl(aUrl);break;case 4:var prePageFocusID=CT.getCookie("prePageFocusID");prePageFocusID&&CT.delCookie("prePageFocusID"),params={contentId:recommendmap.commpageId,curFocusId:prePageFocusID,contentType:"page",contentName:recommendmap.commpageName||recommendmap.commPageEname};break;case 5:var activityId=recommendmap.recommendDisplayValue;CT.getActivityUrl(activityId);break;case 6:params={contentId:recommendmap.commpageId,contentName:recommendmap.commpageName||recommendmap.commPageEname,contentType:"column",action:"column"};break;case 7:params={contentId:recommendmap.commpageId,parentId:recommendmap.recommendDisplayValue,contentType:"page",action:"category",contentName:recommendmap.commpageName||recommendmap.commPageEname};break;case 8:break;case 88:CT.backPage();break;default:this.BackPortalMainPage()}try{params&&(params.contentId||0==params.contentId)&&recommendmap.recommendDisplayValue&&recommendmap.recommendTrackName&&-1<(recommendmap.recommendTrackName+"").indexOf("intelligent")&&(5<=(__params=recommendmap.recommendTrackName.split("&")).length&&(contentId=CT.querySearchUrlKey(window.location.href,"contentId")||(params.contentId+"").split("&")[0]||"",CT.setCookie("intelligent",contentId+"&"+__params[2]+"&"+recommendmap.recommendDisplayValue)))}catch(err){}null!=params&&CT.getAnterByIdOrAction(params)},this.getAnterByIdOrAction=function(params){var paramsObj={};params.contentId&&(paramsObj.contentId=params.contentId),params.contentName&&(paramsObj.contentName=params.contentName);var jumpArr=[];for(var key in paramsObj)paramsObj[key]&&jumpArr.push(key+"="+paramsObj[key]);var url=AjaxConfig.projectUrl+"commPage?"+jumpArr.join("&");if(url+=params.contentType?"&contentType="+params.contentType:"",url+=params.cartoonId?"&cartoonId="+params.cartoonId:"",url+=params.parentId?"&parentId="+params.parentId:"",url+=params.gameId?"&gameId="+params.gameId:"",url+=params.videoId?"&videoId="+params.videoId:"",url+=params.curFocusId?"&curFocusId="+params.curFocusId:"",url+=params.action?"&action="+params.action:"",1<arguments.length&&"object"==typeof arguments[arguments.length-1]){var _maps=arguments[arguments.length-1];for(var key in _maps){var val=_maps[key];val&&(url+="&"+key+"="+val)}}CT.commonJumpUrl(url)},this.getActivityUrl=function(activityId){var userId=CT.requestValue("userId")||xjDataLog.getUserId("userId"),pid=CT.getCookie("pid")||xjDataLog.getFromPortal("pid"),actiLoginUrl=AjaxConfig.projectUrl+"HD/web/column/activity/actiCommonPage/actiCommonLoginPage.html";this.commonJumpUrl(actiLoginUrl+"?userId="+userId+"&activityId="+activityId+"&pid="+pid)},this.isBooleanUp=function(booleanUp,focusID,parentId){var curFocusDiv,curClassDomInfo,booleanUpEle;0==booleanUp&&(CT.$(focusID).style.background='url("../../../images/vip.png")',curFocusDiv=CT.$(focusID),curClassDomInfo=this.getCurClassObjInfo(curFocusDiv),(booleanUpEle=document.createElement("div")).style.position="absolute",booleanUpEle.style.top="6px",booleanUpEle.style.left="6px",booleanUpEle.style.width=curClassDomInfo.width-12+"px",booleanUpEle.style.height=curClassDomInfo.height-12+"px",booleanUpEle.style.backgroundColor="black",booleanUpEle.style.color="white",booleanUpEle.style.fontSize="24px",booleanUpEle.style.lineHeight=curClassDomInfo.height-10+"px",booleanUpEle.style.textAlign="center",booleanUpEle.innerHTML="已下线",curFocusDiv.appendChild(booleanUpEle))},this.exitPlatformPre=function(obj){obj=obj||{},CT.exitPlatform(obj)},this.exitPlatform=function(obj){var exitObj=obj||{};exitObj.callback&&exitObj.callback();var pageName=exitObj.pageName||xjDataLog.getCommPageEname(),loginOutPageUrl=AjaxConfig.defaultMainUrl,loginOutPageNameInfo=-1;try{var lastPageUrl=CT.getPreMemoryPage();window.document.referrer&&(lastPageUrl=window.document.referrer),lastPageUrl&&(loginOutPageUrl=lastPageUrl),loginOutPageNameInfo=CT.requestValue("contentEName",loginOutPageUrl)}catch(error){}xjDataLog.uploadLoginOut({pageCname:"拦截页面",pageEname:pageName,loginType:2,page:loginOutPageNameInfo}),interface.loggerInfo("退出方法，exit method，curURL1："+encodeURIComponent(window.location.href));try{var p=new logCollParam;p.contentType="loginOut",xjDataLog.logCollection(p)}catch(error){}try{decodeURIComponent(CT.getCookie("mainBackUrl"));CT.delCookie("mainBackUrl");try{if(returnUrl=Utility.getEnv("PORTAL_ADDR"))return interface.loggerInfo("exit our item, throw window.history.go, "+returnUrl),void(location.href=returnUrl);try{JSEngine.ioctl("exit"),interface.loggerInfo("exit our item, throw window.history.go222,")}catch(error){}Utility.ioctlWrite("EnReach","ExitBrowser"),interface.loggerInfo("exit our item, throw window.history.go333,")}catch(error){}try{var platFormStartHisLen=CT.getCookie("platFormStartHisLen"),goHisLen=window.history.length-platFormStartHisLen+1;interface.loggerInfo("exit our item, throw window.history.go, num: "+goHisLen),CT.clearAllCookie(),goHisLen=0<goHisLen?goHisLen:-goHisLen,window.history.go(-goHisLen)}catch(error){}var returnUrl,agent=window.navigator.userAgent;return void(0<=agent.indexOf("Skyworth")||0<=agent.indexOf("advacend webkit")?(returnUrl=Utility.getEnv("PORTAL_ADDR"),window.location.href=returnUrl):0<=agent.indexOf("compatible:Android Skyworth")&&Utility.ioctlWrite("EnReach","ExitBrowser"))}catch(e){if(returnUrl=Utility.getEnv("PORTAL_ADDR"))return interface.loggerInfo("exit our item, throw window.history.go, "+returnUrl),void(location.href=returnUrl);interface.loggerInfo("exit our item, throw history.go mothed(catch).","post");platFormStartHisLen=CT.getCookie("platFormStartHisLen"),goHisLen=window.history.length-platFormStartHisLen+1;interface.loggerInfo("exit our item, throw window.history.go(catch), num: "+goHisLen),window.history.go(platFormStartHisLen-window.history.length-1)}},this.BackPortalMainPage=function(){this.commonJumpUrl(AjaxConfig.projectUrl+AjaxConfig.defaultMainUrl)},this.flagChannel=null,this.channelNum="",this.changeNum=function(num){},this.showChannelNum=function(){var div,channelNumDiv=this.$("channelNum");channelNumDiv?this.channelNum.length<4&&(channelNumDiv.innerHTML=this.channelNum):((div=document.createElement("div")).style.cssText="position:absolute; left:1110px; top:50px; width:60px; height:30px; font-size:36px; color:#00FF00; text-align:right;",div.id="channelNum",div.innerHTML=this.channelNum,document.body.appendChild(div))},this.stopJump=function(){},this.jumpChannelHtml=function(num){},this.changeTheme=function(e,type){e&&interface.getUserTheme({params:{userId:xjDataLog.getUserId()},ajaxConfig:{async:!0}},function(res){res.data&&(e.pageInfo.themeInfo=res.data);var bgPic,pageInfo=e.pageInfo,commPageEname=pageInfo.commPageEname.split("_")[0],imgUrl=document.URL.match(/(http|https)(:\/\/)[\w\.:]+/g)[0]||"http://180.96.20.178:28080/",keys={newmain:"THEME_INDEX_BIGPIC",main:"THEME_INDEX_BIGPIC",category:"THEME_CATEGORY_BIGPIC",personalCenter:"THEME_HISTORY_BIGPIC",personal:"THEME_HISTORY_BIGPIC",gkjlym:"THEME_HISTORY_BIGPIC",wdscym:"THEME_HISTORY_BIGPIC",jzzxym:"THEME_SEARCH_BIGPIC",search:"THEME_SEARCH_BIGPIC",cartoon:"THEME_DETAIL_BIGPIC",apk:"THEME_APK_BOOT_IMAGE",yjzbym:"THEME_YJBF_BIGPIC",hbzbj:"THEME_HBZBJ_BIGPIC",xhbknj:"THEME_XHBKNJ_BIGPIC",chslym:"THEME_CHSL_BIGPIC",sojym:"THEME_SOJ_BIGPIC",mfxtym:"THEME_MFXT_BIGPIC",njdst:"THEME_NJDST_BIGPIC",logo:"THEME_LOGO",interceptePage:"THEME_INTERCEPTE_BIGPIC",main_patch:"THEME_PATCH",nav:"THEME_HEAD_PIC_",navRight:"THEME_HEAD_RIGHT_PIC_",navBelow:"THEME_HEAD_BELOW_PIC",train:"THEME_INDEX_TRAIN",jzzxym_keyboard:"THEME_personalCenter_keyboardPic"};if(keys[commPageEname]){if(1==type&&pageInfo.themeInfo+""!="null"&&pageInfo.themeInfo.themeAttrMap){var logoPics,navMid={},navRight={},navMidArr=[],navRightArr=[];for(var key in pageInfo.themeInfo.themeAttrMap){var keyArr=key.split("_");-1<key.indexOf("THEME_HEAD_PIC")?(navMid[keyArr[3]]=pageInfo.themeInfo.themeAttrMap[key],navMidArr.push(pageInfo.themeInfo.themeAttrMap[key])):(key.indexOf("THEME_HEAD_RIGHT"),-1<key.indexOf("THEME_HEAD_BELOW")&&(navRight[keyArr[4]]=pageInfo.themeInfo.themeAttrMap[key],navRightArr.push(pageInfo.themeInfo.themeAttrMap[key])))}if(0<navMidArr.length)for(var i in navMid)navMidArr[i-1]=navMid[i];if(0<navRightArr.length)for(var i in navRight)navRightArr[i-1]=navRight[i];if(0<navMidArr.length&&pageInfo.commonPageInfo&&pageInfo.commonPageInfo.recommend_2&&0<pageInfo.commonPageInfo.recommend_2.length)for(var i=-1,j=0;j<navMidArr.length;j++)try{try{if(basePageInfo&&basePageInfo.findUserCustomByUserId&&ajaxConf.navMustExistRankIdArr.indexOf(basePageInfo.commonPageInfo.recommend_2[j].rankId)<0&&-1<basePageInfo.findUserCustomByUserId.indexOf(basePageInfo.commonPageInfo.recommend_2[j].rankId+""))continue}catch(e){}var pics=navMidArr[j].split(",");i++,pageInfo.commonPageInfo.recommend_2[i].recommendPic.picPath=pics[0],pageInfo.commonPageInfo.recommend_2[i].recommendLabelpic.picPath=pics[1],pageInfo.commonPageInfo.recommend_2[i].recommendFocuspic.picPath=pics[2];try{CT.$("DMSYDH"+i+"Img").src=AjaxConfig.imgUrl+pics[0],CT.$("DMSYDHSelectedImg"+i).src=AjaxConfig.imgUrl+pics[1],CT.$("DMSYDH"+i).src=AjaxConfig.imgUrl+pics[2]}catch(error){}}catch(error){}if(0<navRightArr.length&&pageInfo.commonPageInfo&&pageInfo.commonPageInfo.recommend_3&&0<pageInfo.commonPageInfo.recommend_3.length)for(var len=navRightArr.length>pageInfo.commonPageInfo.recommend_3.length?pageInfo.commonPageInfo.recommend_3.length:navRightArr.length,i=0;i<len;i++){var picArr=navRightArr[i].split(",");pageInfo.commonPageInfo.recommend_3[i].recommendPic.picPath=picArr[0],pageInfo.commonPageInfo.recommend_3[i].recommendLabelpic&&(pageInfo.commonPageInfo.recommend_3[i].recommendLabelpic.picPath=picArr[1]),pageInfo.commonPageInfo.recommend_3[i].recommendFocuspic.picPath=picArr[2];try{CT.$("DMSYGN"+i+"Img").src=AjaxConfig.imgUrl+picArr[0],CT.$("DMSYGNSelectedImg"+i).src=AjaxConfig.imgUrl+picArr[1],CT.$("DMSYGN"+i).src=AjaxConfig.imgUrl+picArr[2]}catch(error){}}pageInfo.themeInfo+""!="null"&&pageInfo.themeInfo.themeAttrMap&&pageInfo.themeInfo.themeAttrMap[keys.logo]&&pageInfo.commonPageInfo&&pageInfo.commonPageInfo.recommend_1&&(logoPics=pageInfo.themeInfo.themeAttrMap[keys.logo].split(","),pageInfo.commonPageInfo.recommend_1[0].recommendPic.picPath=logoPics[0]),AjaxConfig.commonPageInfo.pageInfo=pageInfo}switch(type){case 1:try{bgPic=pageInfo.themeInfo&&pageInfo.themeInfo.themeAttrMap&&pageInfo.themeInfo.themeAttrMap[keys[commPageEname]]?pageInfo.themeInfo.themeAttrMap[keys[commPageEname]].split(",")[0]:pageInfo.pageTemplateBgpic.picPath}catch(e){bgPic=pageInfo.pageTemplateBgpic.picPath}if(CT.$("BJ").src=imgUrl+bgPic,"main"==commPageEname||"newmain"==commPageEname){try{bgPic=pageInfo.themeInfo+""!="null"&&pageInfo.themeInfo.themeAttrMap&&pageInfo.themeInfo.themeAttrMap[keys.main_patch]?pageInfo.themeInfo.themeAttrMap[keys.main_patch].split(",")[0]:pageInfo.pageTemplatePic.picPath}catch(e){bgPic=pageInfo.pageTemplatePic.picPath}CT.$("videoImg").src=AjaxConfig.imgUrl+bgPic}if("jzzxym"==commPageEname)try{pageInfo.themeInfo+""!="null"&&pageInfo.themeInfo.themeAttrMap&&pageInfo.themeInfo.themeAttrMap[keys.jzzxym_keyboard]&&(CT.$("lockbg").style.background="url("+AjaxConfig.imgUrl+pageInfo.themeInfo.themeAttrMap[keys.jzzxym_keyboard].split(",")[0]+") no-repeat")}catch(e){}}}})},this.getMoresObj=function(moreValueStr){if(!moreValueStr)return{};for(var obj={},arr=moreValueStr.split("&"),index=0;index<arr.length;index++){var kayValArr=arr[index].split("=");obj[kayValArr[0]]=kayValArr[1]}return obj},this.createDom=function(initDomObj){if(initDomObj)try{var dom=document.createElement(initDomObj.domTag);for(var keyName in initDomObj.domAttribute=initDomObj.domAttribute||{},initDomObj.domAttribute)dom[keyName]=initDomObj.domAttribute[keyName];for(var keyName in initDomObj.cssStyle=initDomObj.cssStyle||{},initDomObj.cssStyle)dom.style[keyName]=initDomObj.cssStyle[keyName];return dom}catch(error){}},this.undercarriageTip=function(){var bDElement=CT.$("bDPop");bDElement||((bDElement=document.createElement("div")).id="bDPop",bDElement.style.width="502px",bDElement.style.height="320px",bDElement.style.position="absolute",bDElement.style.zIndex="9999",bDElement.style.left="389px",bDElement.style.top="0px",bDElement.innerHTML="<img src='"+AjaxConfig.projectUrl+"HD/images/booleandownPop.png'>",bDElement.innerHTML+="<div style='position:absolute;left:0px;top:140px;line-height: 42px;height:320px;width:502px; color:red;font-size:24px;text-align:center;font-weight: bold;'>因版权到期，该内容已经下线，</br>小编正在快马加鞭为你替换新内容！</div>",document.getElementsByTagName("body")[0].appendChild(bDElement)),bDElement.style.display="block",clearTimeout(window.popTimer),window.popTimer=setTimeout(function(){bDElement.style.display="none"},3e3)}}CT=new b2}();try{!function(){"use strict";function t(t){var r;t?(d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d,this.buffer8=l):a?(r=new ArrayBuffer(68),this.buffer8=new Uint8Array(r),this.blocks=new Uint32Array(r)):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}var r="input is invalid type",e="object"==typeof window,i=e?window:{};i.JS_MD5_NO_WINDOW&&(e=!1);var s=!e&&"object"==typeof self,h=!i.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;h?i=global:s&&(i=self);var f=!i.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,o="function"==typeof define&&define.amd,a=!i.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,n="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],y=[0,8,16,24],c=["hex","array","digest","buffer","arrayBuffer","base64"],p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),d=[],l,A,l,d;a&&(A=new ArrayBuffer(68),l=new Uint8Array(A),d=new Uint32Array(A)),!i.JS_MD5_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!a||!i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var b=function(r){return function(e){return new t(!0).update(e)[r]()}},v=function(){var r=b("hex");h&&(r=w(r)),r.create=function(){return new t},r.update=function(t){return r.create().update(t)};for(var e=0;e<c.length;++e){var i=c[e];r[i]=b(i)}return r},w=function(t){var e=eval("require('crypto')"),i=eval("require('buffer').Buffer"),s=function(s){if("string"==typeof s)return e.createHash("md5").update(s,"utf8").digest("hex");if(null==s)throw r;return s.constructor===ArrayBuffer&&(s=new Uint8Array(s)),Array.isArray(s)||ArrayBuffer.isView(s)||s.constructor===i?e.createHash("md5").update(new i(s)).digest("hex"):t(s)};return s};t.prototype.update=function(t){if(!this.finalized){var e,i=typeof t;if("string"!=i){if("object"!=i)throw r;if(null===t)throw r;if(a&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||a&&ArrayBuffer.isView(t)))throw r;e=!0}for(var s,h,f=0,o=t.length,n=this.blocks,u=this.buffer8;f<o;){if(this.hashed&&(this.hashed=!1,n[0]=n[16],n[16]=n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=0),e)if(a)for(h=this.start;f<o&&h<64;++f)u[h++]=t[f];else for(h=this.start;f<o&&h<64;++f)n[h>>2]|=t[f]<<y[3&h++];else if(a)for(h=this.start;f<o&&h<64;++f)(s=t.charCodeAt(f))<128?u[h++]=s:(s<2048?u[h++]=192|s>>6:(s<55296||57344<=s?u[h++]=224|s>>12:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++f)),u[h++]=240|s>>18,u[h++]=128|s>>12&63),u[h++]=128|s>>6&63),u[h++]=128|63&s);else for(h=this.start;f<o&&h<64;++f)(s=t.charCodeAt(f))<128?n[h>>2]|=s<<y[3&h++]:(s<2048?n[h>>2]|=(192|s>>6)<<y[3&h++]:(s<55296||57344<=s?n[h>>2]|=(224|s>>12)<<y[3&h++]:(s=65536+((1023&s)<<10|1023&t.charCodeAt(++f)),n[h>>2]|=(240|s>>18)<<y[3&h++],n[h>>2]|=(128|s>>12&63)<<y[3&h++]),n[h>>2]|=(128|s>>6&63)<<y[3&h++]),n[h>>2]|=(128|63&s)<<y[3&h++]);this.lastByteIndex=h,this.bytes+=h-this.start,64<=h?(this.start=h-64,this.hash(),this.hashed=!0):this.start=h}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){var t,r;this.finalized||(this.finalized=!0,(t=this.blocks)[(r=this.lastByteIndex)>>2]|=u[3&r],56<=r&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash())},t.prototype.hash=function(){var t,e,i,s,h,f=this.blocks,r=this.first?((r=((t=((t=f[0]-680876937)<<7|t>>>25)-271733879<<0)^(e=((e=(-271733879^(i=((i=(-1732584194^2004318071&t)+f[1]-117830708)<<12|i>>>20)+t<<0)&(-271733879^t))+f[2]-1126478375)<<17|e>>>15)+i<<0)&(i^t))+f[3]-1316259209)<<22|r>>>10)+e<<0:(t=this.h0,r=this.h1,e=this.h2,((r+=((t=((t+=((i=this.h3)^r&(e^i))+f[0]-680876936)<<7|t>>>25)+r<<0)^(e=((e+=(r^(i=((i+=(e^t&(r^e))+f[1]-389564586)<<12|i>>>20)+t<<0)&(t^r))+f[2]+606105819)<<17|e>>>15)+i<<0)&(i^t))+f[3]-1044525330)<<22|r>>>10)+e<<0);r=((r+=((t=((t+=(i^r&(e^i))+f[4]-176418897)<<7|t>>>25)+r<<0)^(e=((e+=(r^(i=((i+=(e^t&(r^e))+f[5]+1200080426)<<12|i>>>20)+t<<0)&(t^r))+f[6]-1473231341)<<17|e>>>15)+i<<0)&(i^t))+f[7]-45705983)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(i^r&(e^i))+f[8]+1770035416)<<7|t>>>25)+r<<0)^(e=((e+=(r^(i=((i+=(e^t&(r^e))+f[9]-1958414417)<<12|i>>>20)+t<<0)&(t^r))+f[10]-42063)<<17|e>>>15)+i<<0)&(i^t))+f[11]-1990404162)<<22|r>>>10)+e<<0,r=((r+=((t=((t+=(i^r&(e^i))+f[12]+1804603682)<<7|t>>>25)+r<<0)^(e=((e+=(r^(i=((i+=(e^t&(r^e))+f[13]-40341101)<<12|i>>>20)+t<<0)&(t^r))+f[14]-1502002290)<<17|e>>>15)+i<<0)&(i^t))+f[15]+1236535329)<<22|r>>>10)+e<<0,r=((r+=((i=((i+=(r^e&((t=((t+=(e^i&(r^e))+f[1]-165796510)<<5|t>>>27)+r<<0)^r))+f[6]-1069501632)<<9|i>>>23)+t<<0)^t&((e=((e+=(t^r&(i^t))+f[11]+643717713)<<14|e>>>18)+i<<0)^i))+f[0]-373897302)<<20|r>>>12)+e<<0,r=((r+=((i=((i+=(r^e&((t=((t+=(e^i&(r^e))+f[5]-701558691)<<5|t>>>27)+r<<0)^r))+f[10]+38016083)<<9|i>>>23)+t<<0)^t&((e=((e+=(t^r&(i^t))+f[15]-660478335)<<14|e>>>18)+i<<0)^i))+f[4]-405537848)<<20|r>>>12)+e<<0,r=((r+=((i=((i+=(r^e&((t=((t+=(e^i&(r^e))+f[9]+568446438)<<5|t>>>27)+r<<0)^r))+f[14]-1019803690)<<9|i>>>23)+t<<0)^t&((e=((e+=(t^r&(i^t))+f[3]-187363961)<<14|e>>>18)+i<<0)^i))+f[8]+1163531501)<<20|r>>>12)+e<<0,r=((r+=((i=((i+=(r^e&((t=((t+=(e^i&(r^e))+f[13]-1444681467)<<5|t>>>27)+r<<0)^r))+f[2]-51403784)<<9|i>>>23)+t<<0)^t&((e=((e+=(t^r&(i^t))+f[7]+1735328473)<<14|e>>>18)+i<<0)^i))+f[12]-1926607734)<<20|r>>>12)+e<<0,r=((r+=((h=(i=((i+=((s=r^e)^(t=((t+=(s^i)+f[5]-378558)<<4|t>>>28)+r<<0))+f[8]-2022574463)<<11|i>>>21)+t<<0)^t)^(e=((e+=(h^r)+f[11]+1839030562)<<16|e>>>16)+i<<0))+f[14]-35309556)<<23|r>>>9)+e<<0,r=((r+=((h=(i=((i+=((s=r^e)^(t=((t+=(s^i)+f[1]-1530992060)<<4|t>>>28)+r<<0))+f[4]+1272893353)<<11|i>>>21)+t<<0)^t)^(e=((e+=(h^r)+f[7]-155497632)<<16|e>>>16)+i<<0))+f[10]-1094730640)<<23|r>>>9)+e<<0,r=((r+=((h=(i=((i+=((s=r^e)^(t=((t+=(s^i)+f[13]+681279174)<<4|t>>>28)+r<<0))+f[0]-358537222)<<11|i>>>21)+t<<0)^t)^(e=((e+=(h^r)+f[3]-722521979)<<16|e>>>16)+i<<0))+f[6]+76029189)<<23|r>>>9)+e<<0,r=((r+=((h=(i=((i+=((s=r^e)^(t=((t+=(s^i)+f[9]-640364487)<<4|t>>>28)+r<<0))+f[12]-421815835)<<11|i>>>21)+t<<0)^t)^(e=((e+=(h^r)+f[15]+530742520)<<16|e>>>16)+i<<0))+f[2]-995338651)<<23|r>>>9)+e<<0,r=((r+=((i=((i+=(r^((t=((t+=(e^(r|~i))+f[0]-198630844)<<6|t>>>26)+r<<0)|~e))+f[7]+1126891415)<<10|i>>>22)+t<<0)^((e=((e+=(t^(i|~r))+f[14]-1416354905)<<15|e>>>17)+i<<0)|~t))+f[5]-57434055)<<21|r>>>11)+e<<0,r=((r+=((i=((i+=(r^((t=((t+=(e^(r|~i))+f[12]+1700485571)<<6|t>>>26)+r<<0)|~e))+f[3]-1894986606)<<10|i>>>22)+t<<0)^((e=((e+=(t^(i|~r))+f[10]-1051523)<<15|e>>>17)+i<<0)|~t))+f[1]-2054922799)<<21|r>>>11)+e<<0,r=((r+=((i=((i+=(r^((t=((t+=(e^(r|~i))+f[8]+1873313359)<<6|t>>>26)+r<<0)|~e))+f[15]-30611744)<<10|i>>>22)+t<<0)^((e=((e+=(t^(i|~r))+f[6]-1560198380)<<15|e>>>17)+i<<0)|~t))+f[13]+1309151649)<<21|r>>>11)+e<<0,r=((r+=((i=((i+=(r^((t=((t+=(e^(r|~i))+f[4]-145523070)<<6|t>>>26)+r<<0)|~e))+f[11]-1120210379)<<10|i>>>22)+t<<0)^((e=((e+=(t^(i|~r))+f[2]+718787259)<<15|e>>>17)+i<<0)|~t))+f[9]-343485551)<<21|r>>>11)+e<<0,this.first?(this.h0=t+1732584193<<0,this.h1=r-271733879<<0,this.h2=e-1732584194<<0,this.h3=i+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+r<<0,this.h2=this.h2+e<<0,this.h3=this.h3+i<<0)},t.prototype.hex=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,i=this.h3;return n[t>>4&15]+n[15&t]+n[t>>12&15]+n[t>>8&15]+n[t>>20&15]+n[t>>16&15]+n[t>>28&15]+n[t>>24&15]+n[r>>4&15]+n[15&r]+n[r>>12&15]+n[r>>8&15]+n[r>>20&15]+n[r>>16&15]+n[r>>28&15]+n[r>>24&15]+n[e>>4&15]+n[15&e]+n[e>>12&15]+n[e>>8&15]+n[e>>20&15]+n[e>>16&15]+n[e>>28&15]+n[e>>24&15]+n[i>>4&15]+n[15&i]+n[i>>12&15]+n[i>>8&15]+n[i>>20&15]+n[i>>16&15]+n[i>>28&15]+n[i>>24&15]},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,r=this.h1,e=this.h2,i=this.h3;return[255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&e,e>>8&255,e>>16&255,e>>24&255,255&i,i>>8&255,i>>16&255,i>>24&255]},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),r=new Uint32Array(t);return r[0]=this.h0,r[1]=this.h1,r[2]=this.h2,r[3]=this.h3,t},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.base64=function(){for(var t,r,e,i="",s=this.array(),h=0;h<15;)t=s[h++],r=s[h++],e=s[h++],i+=p[t>>>2]+p[63&(t<<4|r>>>4)]+p[63&(r<<2|e>>>6)]+p[63&e];return t=s[h],i+(p[t>>>2]+p[t<<4&63]+"==")};var _=v();f?module.exports=_:(i.md5=_,o&&define(function(){return _}));try{CT.md5=md5}catch(error){}}()}catch(error){}function C(){return null!=CT&&null!=CT&&void 0!==CT}try{CT.delCookie("lastTime")}catch(e){}var NCT={getVal:function(str,key,val){for(var newArr=[],arr=str.split("&"),i=0,len=arr.length;i<len;i++){var array=arr[i].split("=");key==array[0]&&(array[1]=val);str=array.join("=");newArr.push(str)}return newArr.join("&")},setCookie:function(name,key,val){var arr,test=CT.getCookie(name)+"";null!=test&&""!=test&&"null"!=test?test=this.getCookie(name,key)?this.getVal(test,key,val):((arr=test.split("&")).push(key+"="+val),arr.join("&")):(test="",test+=key+"="+val),CT.setCookie(name,test)},getCookie:function(name,key){for(var arr=CT.getCookie(name).split("&"),obj={},i=0,len=arr.length;i<len;i++){var a=arr[i],index=a.indexOf("=");-1<index&&(obj[a.substr(0,index)]=a.substr(index+1))}return obj[key]}};function AddEvent(){this.lister=[],this.on=function(key,event){this.lister.hasOwnProperty(key)||(this.lister[key]=[]),this.lister[key].push(event)},this.emit=function(key,args){var _this=this;_this.lister.hasOwnProperty(key)?_this.lister[key].forEach(function(func){var type=_this.type(func);switch(type){case"Function":func&&func(args);break;default:return console.log(func),func||console.log(key,type,"不存在")}}):console.log("未注册"+key+"事件")},this.removeEvent=function(key){this.lister.hasOwnProperty(key)?delete this.lister[key]:console.log("未注册该事件")},this.type=function(params){var paramsStr=Object.prototype.toString.call(params),reg=new RegExp("(\\s+)(\\w+)(])"),typeArr=paramsStr.match(reg);return typeArr&&typeArr instanceof Array?typeArr[2]:""},this.isEmpty=function(params){switch(this.type(params)){case"Null":case"Undefined":return!0;case"Object":case"Array":for(var key in params)return!1;return!0;case"String":return params?!1:!0;case"Number":return!1}}}var addEvent=new AddEvent,interface={interfaceUrl:AjaxConfig.interfaceUrl,actInterfaceUrl:AjaxConfig.actInterfaceUrl,bobyfaceUrl:AjaxConfig.bobyfaceUrl,tokenUrl:AjaxConfig.tokenUrl,origin:AjaxConfig.origin,pointsActUrl:ajaxConf.webPointApiUrl,changeThemeSwitch:!0,isDebug:!0,ajax:function(data,callback,cb){var url=data.url,params=data.params||{};params.times=(new Date).getTime();var ajaxConfig=data.ajaxConfig||{},method=ajaxConfig.method||"get",async=0!=ajaxConfig.async,ContentType=ajaxConfig.ContentType||"json",beforeSend=ajaxConfig.beforeSend||"";ajax.init({url:url,method:method,params:params,async:async,ContentType:ContentType,beforeSend:beforeSend,success:function(e){cb&&cb(e),callback&&callback(e)},fail:function(status){var dataType=CT.dataType(status);"string"==dataType?status="请求接口失败："+status:"object"==dataType?status.request="请求接口失败!":"array"==dataType?status.push("请求接口失败!"):status="请求接口失败："+CT.jsonToString(status),callback&&callback(status)}})},findPageBasePageInfo:function(callback){xjDataLog.getUserId();this.ajax({url:document.URL,params:{},ajaxConfig:{async:!0,ContentType:"json",beforeSend:function(xhr){xhr.setRequestHeader("Accept","application/json")}}},callback)},findPlayUrlByMediaCode:function(data,callback){var param={spCode:"SP1N02A00_08_030",targetSystemID:"30-S",devicetype:6,userCode:xjDataLog.getUserId(),assetID:data.assetID};this.ajax({url:AjaxConfig.origin+"/jsyx/order/jsyxInterfaceForward",params:param,ajaxConfig:data.ajaxConfig||{}},callback)},findCommonPageInfo:function(data,callback){var _this=this,params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:_this.interfaceUrl+"findCommonPageInfo",params:params,ajaxConfig:ajaxConfig};_this.ajax(ajaxData,callback,function(e){AjaxConfig.commonPageInfo=e.data||e,_this.changeThemeSwitch&&CT.changeTheme(e,1),setLoggerInfo.pageInfoLog=e,window.curPageInfo={commPageCname:e.data.pageInfo.commPageCname,commPageEname:e.data.pageInfo.commPageEname,contentId:"",contentType:xjDataLog.getPageType1(),userId:xjDataLog.getUserId()},CT.getCookie("logCollParam")||CT.setCookie("logCollParam",ajax.jsonToString(curPageInfo))})},findTemplateInfo:function(params,callback){var ajaxConfig=(params=params||{}).ajaxConfig||{};callback=callback||function(){};var data={url:this.interfaceUrl+"findTemplateInfo",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},findUserDetailByUserId:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findUserDetailByUserId",params:params};this.ajax(data,callback)},updateUserInfo:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"updateUserInfo",params:params};this.ajax(data,callback)},findGameDetailById:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findGameDetailById",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},findVideoListByCartoonId:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findVideoListByCartoonId",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},findVideoDetailById:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findVideoDetailById",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},findCartoonDetailById:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findCartoonDetailById",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},findActivityDetailById:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.actInterfaceUrl+"findActivityDetailById",params:params};this.ajax(data,callback)},findPrizeById:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findPrizeById",params:params};this.ajax(data,callback)},findMissionById:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findMissionById",params:params};this.ajax(data,callback)},findWhithBlackDetailById:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findWhithBlackDetailById",params:params};this.ajax(data,callback)},findUserLockById:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findUserLockById",params:params};this.ajax(data,callback)},updateUserLock:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"updateUserLock",params:params};this.ajax(data,callback)},insertUserLock:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"insertUserLock",params:params};this.ajax(data,callback)},clearUserLock:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"clearUserLock",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},findVideosByCartoonId:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findVideosByCartoonId",params:params};this.ajax(data,callback)},findTypesByParentId:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findTypesByParentId",params:params};this.ajax(data,callback)},findContentsByTypeId:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findContentsByTypeId",params:params};this.ajax(data,callback)},findCollectsByUserId:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findCollectsByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},findMediaCollectStatus:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"findMediaCollectStatus",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},saveUserCollect:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"saveUserCollect",params:params};this.ajax(data,callback)},deleteUserCollect:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"deleteUserCollect",params:params};this.ajax(data,callback)},deleteBatchUserCollect:function(params,callback){(params=params||{}).booleanCollect=1,callback=callback||function(){};var data={url:this.interfaceUrl+"deleteBatchUserCollect",params:params};this.ajax(data,callback)},findHistoryList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var ajaxData={url:this.interfaceUrl+"view/history",params:params,ajaxConfig:ajaxConfig};this.ajax(ajaxData,callback)},insertHistoryList:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"view/history/insert",params:params};this.ajax(data,callback)},deleteHistoryList:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"view/history/delete",params:params};this.ajax(data,callback)},findMissionList:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findMissionList",params:params};this.ajax(data,callback)},findMissionStatus:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findMissionStatus",params:params};this.ajax(data,callback)},findPrizeList:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findPrizeList",params:params};this.ajax(data,callback)},findUserPrize:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findUserPrize",params:params};this.ajax(data,callback)},uploadUserPrize:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"uploadUserPrize",params:params};this.ajax(data,callback)},findRecCommonPageInfo:function(params,callback){(params=params||{}).isRecommend="false",callback=callback||function(){};var data={url:this.interfaceUrl+"findRecCommonPageInfo",params:params};this.ajax(data,callback)},findSignStatusByUserId:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"findSignStatusByUserId",params:params};this.ajax(data,callback)},userSign:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"userSign",params:params};this.ajax(data,callback)},search:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"search",params:params};this.ajax(data,callback)},topSearch:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"topSearch",params:params};this.ajax(data,callback)},uploadSearchRecord:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"uploadSearchRecord",params:params};this.ajax(data,callback)},getSystemDate:function(callback){callback=callback||function(){};var data={url:this.interfaceUrl+"getSystemDate",params:{}};this.ajax(data,callback)},getSystemIP:function(callback){callback=callback||function(){};var data={url:this.interfaceUrl+"getSystemIP",params:{}};this.ajax(data,callback)},insertUserInfo:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.interfaceUrl+"insertUserInfo",params:params};this.ajax(data,callback)},checkUserBlackWhiteList:function(params,callback){params=params||{};var data={url:this.interfaceUrl+"checkUserBlackWhiteList",params:params};this.ajax(data,callback)},insertBaby:function(params,callback){params=params||{};var data={url:this.bobyfaceUrl+"insertBaby",params:params};this.ajax(data,callback)},updateBaby:function(params,callback){params=params||{};var data={url:this.bobyfaceUrl+"updateBabyByUserId",params:params};this.ajax(data,callback)},findBabyInfo:function(params,callback){params=params||{};var data={url:this.bobyfaceUrl+"findBabyByUserId",params:params};this.ajax(data,callback)},getCurUserNavItem:function(params,callback){params=params||{};var data={url:this.interfaceUrl+"findUserCustomByUserId",params:params};this.ajax(data,callback)},getThemeList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"selectThemeDetail",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserTheme:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"selectThemeDetailByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},updateExtraUserInfo:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"updateExtraUserInfo",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},updateForbiddenTime:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"updateForbiddenTime",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},updateCustomThemeInfo:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"updateCustomThemeInfo",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},findUserForbiddenTime:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"findUserForbiddenTimeByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},jumpUrl:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};var url=this.interfaceUrl+"jumpUrl";(ajaxConfig.method&&"get"==ajaxConfig.method.toLowerCase()||!ajaxConfig.method)&&(params.params=ajax.formatParams(params.params));data={url:url,params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getToken:function(params,callback){params=params||{},callback=callback||function(){};var data={url:this.tokenUrl+"WebUserToken",params:params};this.ajax(data,callback)},findCityCode:function(){var params=(void 0).params||{},ajaxConfig=(void 0).ajaxConfig||{};callback=callback||function(){};var data={url:this.origin+"/order_gzgd/auth/getCityCode",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},findAuth:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||new Function;var url=this.origin+"/jsyx_auth_cloud/too/auth";0<CT.getPath().indexOf("-test")&&(url=this.origin+"/jsyx_auth_cloud_test/too/auth");var authParams={url:url,params:params,ajaxConfig:ajaxConfig};this.ajax(authParams,callback)},toOrder:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||new Function;var authParams={url:this.origin+"/order_gzgd/auth/confirmOrder",params:params,ajaxConfig:ajaxConfig};this.ajax(authParams,callback)},getSystemConfigByKey:function(callback,key){callback=callback||function(){};var data={url:this.interfaceUrl+"/getSystemConfigByKey",params:{key:key=key||"sys_default_cartoon_ids"}};this.ajax(data,callback)},clearNodeCache:function(data,callback){var paramsDefault,params,ajaxConfig,nodeUrl,keyWord=(data=data||{}).keyWord;keyWord&&(paramsDefault={userId:xjDataLog.getUserId()},params=data.params||paramsDefault,ajaxConfig=data.ajaxConfig||{},callback=callback||function(){},nodeUrl="/nodeApi/",0<AjaxConfig.projectUrl.indexOf("iptv-nodeweb-test")&&(nodeUrl="/nodeApi-test/"),data={url:AjaxConfig.origin+nodeUrl+keyWord,params:params,ajaxConfig:ajaxConfig},this.ajax(data,callback))},loggerInfo:function(args,method){!function(args,method){var url=AjaxConfig.projectUrl+"/log?",userId="";try{userId=(userId=Utility.getSystemInfo("UID"))||CITV.loginInfo.userId}catch(e){try{stbId=hardware.STB.serialNumber}catch(e){}}if(method&&"POST"==method.toLocaleUpperCase()){var params={log:""};if("object"==typeof args?(args.userId=userId,params.log=JSON.stringify(args)):params.log="userId:"+userId+"---"+args,!args)return;try{oAjax=new XMLHttpRequest}catch(e){oAjax=new ActiveXObject("Microsoft.XMLHTTP")}oAjax.open("POST",url,!0),oAjax.setRequestHeader("Content-type","application/json;charset=utf-8"),oAjax.withCredentials=!0,oAjax.send(JSON.stringify(params)),oAjax.onreadystatechange=function(){4==oAjax.readyState&&oAjax.status}}else{(new Image).src=url+"log=userId:"+userId+"---"+args+"---v="+(new Date).getTime()}}(args,method)},getBigDataRecCartoon_byUserId:function(data,callback){params=(data=data||{}).params||{},params.isFree=1,params.booleanUp=2,params.contentId=CT.requestValue("contentId");var ajaxConfig=params.ajaxConfig||{};callback=callback||function(){};data={url:AjaxConfig.bigDataRecCartoonUrl+"getRecommendMovieByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getBigDataRecCartoon_byMovieId:function(data,callback){params=(data=data||{}).params||{},params.isFree=1,params.booleanUp=2,params.contentId=CT.requestValue("contentId");var ajaxConfig=params.ajaxConfig||{};callback=callback||function(){};data={url:AjaxConfig.bigDataRecCartoonUrl+"getRecommendMovieByMovieId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getAccesstokenStr:function(tokenObj){tokenObj=tokenObj||{};var userId,reqUserId,pp,params,accessToken="";!accessToken||(accessToken+"").length<20?(userId=xjDataLog.getUserId(),reqUserId=interface.getReqUserId(),pp={deviceno:userId,devicetype:1,businessplatform:0,accounttype:1,account:reqUserId,accesstoken:"",pwd:"96e79218965eb72c92a549dd5a330112"},params={url:AjaxConfig.loginUrl,method:"get",params:pp,ContentType:"json",async:!1,success:function(res){if(0==res.ret){accessToken=res.access_token,CT.setCookie("accesstokenStr",accessToken),tokenObj.accessToken=accessToken,tokenObj.getTokenSucCallback&&tokenObj.getTokenSucCallback(tokenObj);try{xjDataLog.uploadOrderSuccess({orderState:4,orderMessage:res.ret_msg||"",more1:userId+"_"+res.ret,more2:userId||"",more3:ajax.jsonToString(pp),more4:"获取token:"+ajax.jsonToString(res)})}catch(error){}}else{CT.alertTip("您的机顶盒获取token失败！");try{xjDataLog.uploadOrderSuccess({orderState:5,orderMessage:res.ret_msg||"",more1:res.ret,more2:userId||"",more3:"request:"+AjaxConfig.loginUrl+ajax.jsonToString(pp),more4:ajax.jsonToString(res)})}catch(error){}}},fail:function(status){}},0<=window.navigator.userAgent.indexOf("Coship")&&(params.async=!0),ajax.init(params)):(tokenObj.accessToken=accessToken,tokenObj.getTokenSucCallback&&tokenObj.getTokenSucCallback(tokenObj))},getDeviceId:function(){var deviceId=CT.getCookie("userDeviceId");return deviceId&&"undefined"!=deviceId&&"null"!=deviceId?deviceId:(interface.getDeviceIdFamilyMemberList(),deviceId=CT.getCookie("userDeviceId"))},getReqUserId:function(){var deviceId=CT.getCookie("userReqUserId");return deviceId&&"undefined"!=deviceId&&"null"!=deviceId?deviceId:(interface.getDeviceIdFamilyMemberList(),deviceId=CT.getCookie("userReqUserId"))},getDeviceIdFamilyMemberList:function(familyInfoParams){familyInfoParams=familyInfoParams||{};var pp={deviceno:xjDataLog.getUserId(),devicetype:1,pageidx:1,pagenum:6};ajax.init({url:AjaxConfig.familyMemberListUrl,method:"get",params:pp,ContentType:"json",async:!1,success:function(res){var success,userReqUserId,fail;0==res.ret?(success=familyInfoParams.sucCallback)?success(res.device_id):(CT.setCookie("userDeviceId",res.device_id),userReqUserId=res.bind_user_id,CT.setCookie("userReqUserId",userReqUserId)):(fail=familyInfoParams.failCallback)&&fail(res.device_id);try{var logObj={reqParams:pp,reqResult:res,orderState:12},orderLogObj=orderJs.getUploadOrderLogParams(logObj);xjDataLog.uploadOrderSuccess(orderLogObj)}catch(error){}},fail:function(status){loggerInfo("请求userId的ajax失败")}})},changePrizeByPoints:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"prize/changePrizeByPoints",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getPrizeListByUserId:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"prize/getPrizeListByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getTaskDetailList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"task/detail/getTaskDetailList",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},insertPoints:function(data,callback){var params=data.params||{};data.ajaxConfig;callback=callback||function(){};data={url:this.pointsActUrl+"log/user/points/insertPoints",params:params,ajaxConfig:{method:"post"}};this.ajax(data,callback)},pointsUpdateUserInfo:function(data,callback){var params=data.params||{};data.ajaxConfig;callback=callback||function(){};data={url:this.pointsActUrl+"user/info/updateUserInfo",params:params,ajaxConfig:{method:"post"}};this.ajax(data,callback)},getTaskByUserId:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"task/detail/getTaskByUserId",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserHeadInfoList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"head/info/userHeadInfoList",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},addUserInfo:function(data,callback){var params=data.params||{};data.ajaxConfig;callback=callback||function(){};data={url:this.pointsActUrl+"user/info/addUserInfo",params:params,ajaxConfig:{method:"post"}};this.ajax(data,callback)},getLogUserPoints:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"log/user/points/getLogUserPoints",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserSumPoints:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"sum/points/getUserSumPoints",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getPrizeList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"prize/getPrizeList",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserInfoList:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"user/info/userInfoList",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserPrizeInfo:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.pointsActUrl+"log/user/prize/list",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},commitPhoneNum:function(data,callback){var params=data.params||{};data.ajaxConfig;callback=callback||function(){};data={url:this.pointsActUrl+"log/user/prize/updateById",params:params,ajaxConfig:{method:"post"}};this.ajax(data,callback)},insertActivityGainRecord:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:ajaxConf.webApiUrl+"activity/insertActivityGainRecord",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getUserState:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:this.interfaceUrl+"getUserState",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)},getOldUserState:function(data,callback){var params=data.params||{},ajaxConfig=data.ajaxConfig||{};callback=callback||function(){};data={url:ajaxConf.imgUrl+"/userrecord/api/web/getOldUserState",params:params,ajaxConfig:ajaxConfig};this.ajax(data,callback)}},btn={id:"",name:"",enFocus:!0,enable:!0,enMove:!0,canEnMove:!0,focusImage:"",clickHandler:"",left:"",leftOther:"",right:"",rightOther:"",up:"",upOther:"",down:"",downOther:"",other:"",gbWidth:0,gbHeight:0,focusType:6,TempData:null,recommendTrackName:null,upEvent:"",rightEvent:"",downEvent:"",leftEvent:"",otherFocusEvent:"",otherBlurEvent:"",curFocusBackEvent:""},buttons=[],PAGE={styleCssList:{rotate360:"rotate360",fadeIn:"focusFadeIn",sacleBig:"sacleBig",sacleBigToSmall:"sacleBigToSmall"},focusArr:[],focusIDArr:[],gbInterval:null,divs:null,model:null,coo:null,isAlert:!0,alertTip:function(msg){this.isAlert&&alert(msg)},hasClass:function(ele,cls){return ele.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))},addClass:function(ele,cls){this.hasClass(ele,cls)||(ele.className+=" "+cls)},removeClass:function(ele,cls){var reg;this.hasClass(ele,cls)&&(reg=new RegExp("(\\s*)"+cls+"(\\s*)"),ele.className=ele.className.replace(reg," "))},toggleClass:function(ele,cls,dosome){this.hasClass(ele,cls)&&"removeClass"==dosome||"addClass"!=dosome&&this.hasClass(ele,cls)?this.removeClass(ele,cls):this.addClass(ele,cls)},$:function(id){if(id)return document.getElementById(id)},supportCss3:function(style){function _toHumb(string){return string.replace(/-(\w)/g,function($0,$1){return $1.toUpperCase()})}var i,prefix=["webkit","Moz","ms","o"],humpString=[],htmlStyle=document.documentElement.style;for(i in prefix)humpString.push(_toHumb(prefix[i]+"-"+style));for(i in humpString.push(_toHumb(style)),humpString)if(humpString[i]in htmlStyle)return!0;return!1},isEmpty:function(obj){return void 0===obj||null==obj||""==obj||"null"==obj||"undefined"==obj||obj=={}||obj==[]},hasOwnProperty:function(obj,key){return(obj=obj||{})instanceof Object&&key in obj},buttonsMap:{},focusInit:function(btnArr,flag){var _this;(btnArr&&0!=btnArr.length||1!=flag)&&buttons&&0!=buttons.length&&(_this=this,function(_btnArr){for(var i=0;i<_btnArr.length;i++){var curDom,curData=_btnArr[i];!curData.id||PAGE.focusArr[curData.id]&&1!=flag||(_this.buttonsMap[curData.id]=curData,(curDom=_this.$(curData.id))&&_this.focusInitDivDom(curDom,curData))}}(btnArr=btnArr||buttons),0<_this.focusIDArr.length&&!_this.isEmpty(_this.focusIDArr[0])&&!_this.isEmpty(_this.focusArr[_this.focusIDArr[0]].focusmodel)&&(curFocus=PAGE.focusArr[_this.focusIDArr[0]].focusmodel))},focusInitDivDom:function(curDom,curBtn){if(curDom&&curDom.id&&-1<curDom.id.indexOf("hands")&&(this.model=new this.FocusModel,this.model.FocusID=curDom.id+"",!this.isEmpty(curBtn))){for(var key in this.coo=new this.getCoo(curDom),this.model.X_Posi=this.coo.X_Posi,this.model.Y_Posi=this.coo.Y_Posi,this.model.gbWidth=this.coo.width,this.model.gbHeight=this.coo.height,this.model.ImgID=this.coo.imgId,this.model.oldSwap=this.coo.imgsrc,curBtn.enFocus+""!="true"&&curBtn.enFocus+""!="false"||(this.model.enFocus=curBtn.enFocus),curBtn.enable+""!="true"&&curBtn.enable+""!="false"||(this.model.enable=curBtn.enable),curBtn.enMove+""!="true"&&curBtn.enMove+""!="false"||(this.model.enMove=curBtn.enMove),curBtn.canEnMove+""!="true"&&curBtn.canEnMove+""!="false"||(this.model.canEnMove=curBtn.canEnMove),this.isEmpty(curBtn.clickHandler)||(this.model.clickHandler=curBtn.clickHandler),this.isEmpty(curBtn.TempData)||(this.model.TempData=curBtn.TempData),this.isEmpty(curBtn.recommendTrackName)||(this.model.recommendTrackName=curBtn.recommendTrackName),this.isEmpty(curBtn.focusImage)||(this.model.focusImage=curBtn.focusImage),this.isEmpty(curBtn.focusType)||(this.model.FocusType=curBtn.focusType),this.isEmpty(curBtn.name)||(this.model.name=curBtn.name),this.coo)this.isEmpty(curBtn[key]+"")||(this.coo[key]=curBtn[key]);this.isEmpty(curBtn.otherFocusEvent)||(this.model.otherFocusEvent=curBtn.otherFocusEvent),this.isEmpty(curBtn.otherBlurEvent)||(this.model.otherBlurEvent=curBtn.otherBlurEvent),this.isEmpty(curBtn.leftEvent)||(this.model.leftEvent=curBtn.leftEvent),this.isEmpty(curBtn.rightEvent)||(this.model.rightEvent=curBtn.rightEvent),this.isEmpty(curBtn.upEvent)||(this.model.upEvent=curBtn.upEvent),this.isEmpty(curBtn.downEvent)||(this.model.downEvent=curBtn.downEvent),this.isEmpty(curBtn.curFocusBackEvent)||(this.model.curFocusBackEvent=curBtn.curFocusBackEvent),(this.model.nodeObj=curDom).focusmodel=this.model,curDom.coo=this.coo,PAGE.focusIDArr.push(curDom.id),PAGE.focusArr[curDom.id]=curDom}},getCoo:function(dom){if(PAGE.isEmpty(dom))return{};this.X_Posi=PAGE.getDomInfo(dom,"left"),this.Y_Posi=PAGE.getDomInfo(dom,"top"),this.width=PAGE.getDomInfo(dom,"width"),this.height=PAGE.getDomInfo(dom,"height"),this.imgId=dom.id.split("_")[3],this.imgsrc=PAGE.getBtnSrc(dom.id),this.enMove=!0,this.up="",this.upOther="",this.right="",this.rightOther="",this.down="",this.downOther="",this.left="",this.leftOther="",this.other="",this.upEvent="",this.rightEvent="",this.downEvent="",this.leftEvent="",this.curFocusBackEvent=""},getDomInfo:function(dom,key){if(dom){var val=dom.style[key];return-1<val.indexOf("px")?parseInt(val.match(/[\d]+/g)[0]):val}alert("dom 不存在")},getBtnSrc:function(id){if(id&&-1<id.indexOf("hands")){var imgId=id.split("_")[3],imgDom=this.$(imgId);if(!this.isEmpty(imgDom)){var imgSrc=imgDom.src,backgroundImgSrc=imgDom.style.backgroundImage+"";return this.isEmpty(imgSrc)&&backgroundImgSrc&&(imgSrc=backgroundImgSrc.replace(/(^url\(\"|\"\)$)+/g,"")),imgSrc}}else this.alertTip("光标不存在Id,getBtnSrc报错")},FocusModel:function(){this.FocusID="",this.name="",this.enable=!0,this.enFocus=!0,this.enMove=!0,this.canEnMove=!0,(this.own=this).X_Posi=0,this.Y_Posi=0,this.gbWidth=0,this.gbHeight=0,this.FocusType=7,this.focusImage="",this.oldSwap="",this.ImgID="",this.clickHandler="",this.TempData=null,this.recommendTrackName=null,this.otherFocusEvent="",this.otherBlurEvent="",this.curFocusBackEvent="",this.upEvent="",this.downEvent="",this.leftEvent="",this.rightEvent="",this.OK=function(){1==this.enable&&1==this.enFocus&&PAGE.exeCode(this.clickHandler)},this.init=function(){},this.defaultFocus=function(){if(this.enFocus){this.init(),this.FocusID!=curFocus.FocusID&&(curFocus.defaultBlur(),curFocus=this.own);var elm=PAGE.$(curFocus.FocusID),focusImg=PAGE.$(curFocus.ImgID),showImg=PAGE.$(curFocus.ImgID+"Img");switch(this.FocusType){case 4:PAGE.toggleClass(elm,PAGE.styleCssList.rotate360,"addClass"),PAGE.isEmpty(curFocus.ImgID)||(focusImg.style.visibility="visible");break;case 5:PAGE.toggleClass(focusImg,PAGE.styleCssList.fadeIn,"addClass"),PAGE.isEmpty(curFocus.ImgID)||(focusImg.style.visibility="visible");break;case 6:showImg&&PAGE.toggleClass(showImg,PAGE.styleCssList.sacleBig,"addClass"),PAGE.toggleClass(elm,PAGE.styleCssList.sacleBig,"addClass");case 7:PAGE.isEmpty(PAGE.$("gb"))||(null!=PAGE.gbInterval&&(clearInterval(PAGE.gbInterval),PAGE.gbInterval=null),PAGE.$("gb").style.display="none",PAGE.$("gb").style.visibility="hidden"),PAGE.isEmpty(curFocus.ImgID)||(PAGE.$(curFocus.ImgID).style.visibility="visible");break;case 8:PAGE.toggleClass(elm,PAGE.styleCssList.sacleBigToSmall,"addClass"),PAGE.isEmpty(curFocus.ImgID)||(focusImg.style.visibility="visible");break;case 9:PAGE.isEmpty(PAGE.$("gb"))||(null!=PAGE.gbInterval&&(clearInterval(PAGE.gbInterval),PAGE.gbInterval=null),PAGE.$("gb").style.display="none",PAGE.$("gb").style.visibility="hidden"),showImg&&(showImg.style.visibility="hidden"),PAGE.toggleClass(elm,PAGE.styleCssList.sacleBig,"addClass"),PAGE.isEmpty(curFocus.ImgID)||(PAGE.$(curFocus.ImgID).style.visibility="visible")}PAGE.isEmpty(this.otherFocusEvent)||PAGE.exeCode(this.otherFocusEvent)}},this.defaultBlur=function(){if(this.enFocus){var elm=PAGE.$(curFocus.FocusID),focusImg=PAGE.$(curFocus.ImgID),showImg=PAGE.$(curFocus.ImgID+"Img");switch(this.FocusType){case 4:PAGE.hasClass(elm,PAGE.styleCssList.rotate360)&&PAGE.removeClass(elm,PAGE.styleCssList.rotate360),focusImg.style.visibility="hidden";case 5:PAGE.hasClass(focusImg,PAGE.styleCssList.fadeIn)&&PAGE.removeClass(focusImg,PAGE.styleCssList.fadeIn),focusImg.style.visibility="hidden";break;case 6:PAGE.hasClass(elm,PAGE.styleCssList.sacleBig)&&(PAGE.removeClass(elm,PAGE.styleCssList.sacleBig),showImg&&PAGE.toggleClass(showImg,PAGE.styleCssList.sacleBig,"removeClass"));case 7:PAGE.$(curFocus.ImgID).style.visibility="hidden";break;case 8:PAGE.hasClass(elm,PAGE.styleCssList.sacleBigToSmall)&&PAGE.removeClass(elm,PAGE.styleCssList.sacleBigToSmall),PAGE.$(curFocus.ImgID).style.visibility="hidden";break;case 9:PAGE.$(curFocus.ImgID).style.visibility="hidden",showImg&&(showImg.style.visibility="visible"),PAGE.toggleClass(elm,PAGE.styleCssList.sacleBig,"removeClass")}PAGE.isEmpty(this.otherBlurEvent)||PAGE.exeCode(this.otherBlurEvent)}}},getModelByFocusId:function(_focusId){return this.isEmpty(_focusId)?null:_focusId in PAGE.focusArr?PAGE.focusArr[_focusId].focusmodel:void 0},getFocusModel6:function(_focusId){return this.isEmpty(_focusId)?null:this.getModelByFocusId(_focusId)},changeFocus:function(_focusId){var nextNode=PAGE.getModelByFocusId(_focusId)||PAGE.getModelByFocusId(buttons[0]);if(nextNode&&nextNode.enFocus+""!="false"){curFocus.defaultBlur();var fid=curFocus.FocusID;return(curFocus=nextNode).lastFocusId=fid,curFocus.defaultFocus(),nextNode}},directFocusObj:function(key){var bl=!0,focusID=curFocus.FocusID;if(this.hasOwnProperty(this.focusArr,focusID)){var nextNode,d=this.focusArr[focusID].coo;if(!this.isEmpty(d[key+"Event"]))return PAGE.exeCode(d[key+"Event"]),void(bl=!1);if(this.isEmpty(d[key])){if(!this.isEmpty(d.other)){if("disable"==d.other)return void(bl=!1);if(1==(nextNode=this.getModelByFocusId(d.other)).enFocus)return this.changeFocus(d.other),void(bl=!1)}}else{if("disable"==d[key])return void(bl=!1);if(1==(nextNode=this.getModelByFocusId(d[key])).enFocus)return this.changeFocus(d[key]),void(bl=!1);if(0!=nextNode.enFocus||this.isEmpty(d[key+"Other"])){if(0==nextNode.enFocus&&!this.isEmpty(d.other)){if("disable"==d.other)return void(bl=!1);if(1==(nextNode=this.getModelByFocusId(d.other)).enFocus)return this.changeFocus(d.other),void(bl=!1)}}else if(1==this.getModelByFocusId(d[key+"Other"]).enFocus)return this.changeFocus(d[key+"Other"]),void(bl=!1)}d.enMove||(bl=!1)}bl&&this.ProximityPrinciple(key)},getDomPosi:function(curNode){return this.isEmpty(curNode)?{x:0,y:0,w:0,h:0}:{x:curNode.coo.X_Posi,y:curNode.coo.Y_Posi,w:curNode.coo.width,h:curNode.coo.height}},distanceCALL:function(_coo1,_coo2,type){var x1=_coo1.x,y1=_coo1.y,w1=_coo1.w,h1=_coo1.h,x2=_coo2.x,y2=_coo2.y,w2=_coo2.w,h2=_coo2.h,positionRelative=1e3,isPositionRelative=!1;switch(type){case"up":(x1<=x2&&x2<=x1+w1||x1<=x2+w2&&w2+x2<=x1+w1||w2<=x1&&x1<=x2+w2||x2<=x1+w1&&x1+w1<=x2+w2)&&(positionRelative=Math.abs(y1-(y2+h2))),660<w2&&(isPositionRelative=!0);var calX=x1+w1/2-(x2+w2/2),calY=y1-(y2+h2);break;case"down":(x1<=x2&&x2<=x1+w1||x1<=x2+w2&&w2+x2<=x1+w1||w2<=x1&&x1<=x2+w2||x2<=x1+w1&&x1+w1<=x2+w2)&&(positionRelative=Math.abs(y1+h1-y2)),660<w2&&(isPositionRelative=!0);calX=x1+w1/2-(x2+w2/2),calY=y1+h1-y2;break;case"left":(y1<=y2&&y2<=y1+h1||y1<=y2+h2&&y2+h2<=y1+h1||y2<=y1&&y1<=y2+h2||y2<=y1+h1&&y1+h1<=y2+h2)&&(positionRelative=Math.abs(x1-(x2+w2))),x1+w1<=w2+x2&&(isPositionRelative=!0);calX=x1-(x2+w2),calY=y1+h1/2-(y2+h2/2);break;case"right":(y1<=y2&&y2<=y1+h1||y1<=y2+h2&&y2+h2<=y1+h1||y2<=y1&&y1<=y2+h2||y2<=y1+h1&&y1+h1<=y2+h2)&&(positionRelative=Math.abs(x1+w1-x2)),660<w2&&(isPositionRelative=!0);calX=x1+w1-x2,calY=y1+h1/2-(y2+h2/2)}return[Math.round(Math.pow(calX*calX+calY*calY,.5)),positionRelative,isPositionRelative]},ProximityPrinciple:function(direct){var curNode=null,curId=curFocus.FocusID;if(this.hasOwnProperty(PAGE.focusArr,curId)){curNode=PAGE.focusArr[curId];var nextNode,nextNodeCoo,curCoo=this.getDomPosi(curNode),isFrist=!0,isIncluDir=!1,minNextNode=curNode,minDistance=[0,0],minNodeCoo={},maxDistance=[0,0],maxNodeCoo={},maxNextNode=null,jl=[0,0];for(var key in PAGE.focusArr)if(0!=(nextNode=PAGE.focusArr[key]).focusmodel.canEnMove){switch(nextNodeCoo=this.getDomPosi(nextNode),direct){case"up":1==nextNode.focusmodel.enFocus&&nextNodeCoo.y<curCoo.y&&(jl=this.distanceCALL(curCoo,nextNodeCoo,"up"),isIncluDir=!0);break;case"down":1==nextNode.focusmodel.enFocus&&nextNodeCoo.y>=curCoo.y+curCoo.h-10&&(jl=this.distanceCALL(curCoo,nextNodeCoo,"down"),isIncluDir=!0);break;case"left":(1==nextNode.focusmodel.enFocus&&nextNodeCoo.x<curCoo.x&&40<curCoo.x||"hands_x0_y0_DMXHB0_"==nextNode.id)&&(jl=this.distanceCALL(curCoo,nextNodeCoo,"left"),isIncluDir=!0);break;case"right":1==nextNode.focusmodel.enFocus&&nextNodeCoo.x>curCoo.x&&curCoo.x+curCoo.w+10<=1200&&(jl=this.distanceCALL(curCoo,nextNodeCoo,"right"),isIncluDir=!0)}isIncluDir&&(isFrist?(maxDistance=minDistance=jl,isFrist=!1,maxNodeCoo=minNodeCoo=nextNodeCoo,maxNextNode=minNextNode=nextNode):(jl[2]&&jl[0]<maxDistance[0]&&(maxDistance=jl,maxNextNode=nextNode,maxNodeCoo=nextNodeCoo),jl[0]<=minDistance[0]&&(minNodeCoo=nextNodeCoo,minNextNode=nextNode,minDistance=jl)),isIncluDir=!1)}switch(direct){case"up":minNodeCoo.y<maxNodeCoo.y&&minDistance[0]<maxDistance[0]&&(minNextNode=maxNextNode);break;case"down":minNodeCoo.y>maxNodeCoo.y&&minDistance[0]<maxDistance[0]&&(-1<maxNextNode.id.indexOf("rankItem")||(minNextNode=maxNextNode));break;case"left":curCoo.y!=minNodeCoo.y&&minNodeCoo.y>maxNodeCoo.y&&maxDistance[2]&&minNodeCoo.x>=maxNodeCoo.x&&(minNextNode=maxNextNode)}curFocus.defaultBlur();var fid=curFocus.FocusID;(curFocus=minNextNode.focusmodel).lastFocusId=fid,curFocus.defaultFocus()}},exeCode:function(_code){var _this=this;if(!_this.isEmpty(_code)){var code=_code;try{-1<code.indexOf("javascript:")?(code=code.replace("javascript:",""),eval("("+code+")")):_this.redirect(code)}catch(e){CT.writeInfo("报错>>"+code),console.log(e)}return!0}},redirect:function(url){if(!this.isEmpty(url))return 1==curFocus.enable?(curFocus.enable=!1,void(window.location.href=url)):void 0},focusHand:function(direType){switch(direType){case"UP":PAGE.directFocusObj("up");break;case"DOWN":PAGE.directFocusObj("down");break;case"LEFT":PAGE.directFocusObj("left");break;case"RIGHT":PAGE.directFocusObj("right")}},changeNum:function(num){},keyCode:function(evt){return null!=(evt=null!=evt&&null!=evt?evt:window.event).which&&null!=evt.which&&0!=evt.which?evt.which:evt.keyCode},enableFocus:function(_focuIds){if(this.isEmpty(_focuIds))return null;var modelObj=null;if("string"==typeof _focuIds&&_focuIds.constructor==String)modelObj=PAGE.getModelByFocusId(_focuIds),this.isEmpty(modelObj)||(modelObj.enFocus=!0);else if("object"==typeof _focuIds&&_focuIds.constructor==Array)for(var i in modelObj=new Array,_focuIds)modelObj[_focuIds[i]]=PAGE.getModelByFocusId(_focuIds[i]),this.isEmpty(modelObj[_focuIds[i]])||(modelObj[_focuIds[i]].enFocus=!0);return modelObj},disableFocus:function(_focuIds){if(this.isEmpty(_focuIds))return null;var modelObj=null;if("string"==typeof _focuIds&&_focuIds.constructor==String)modelObj=PAGE.getModelByFocusId(_focuIds),this.isEmpty(modelObj)||(modelObj.enFocus=!1,PAGE.$(modelObj.ImgID).style.visibility="hidden");else if("object"==typeof _focuIds&&_focuIds.constructor==Array)for(var i in modelObj=new Array,_focuIds)modelObj[_focuIds[i]]=PAGE.getModelByFocusId(_focuIds[i]),this.isEmpty(modelObj[_focuIds[i]])||(modelObj[_focuIds[i]].enFocus=!1,PAGE.$(modelObj.ImgID).style.visibility="hidden");return modelObj}},curFocus=new PAGE.FocusModel,HW={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",33:"PAGEUP",34:"PAGEDOWN",8:"BACK",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",1131:"DEL"},NJGD={640:"BACK_PAGE",113:"HOME_PAGE",114:"OUT_PAGE"},ZTE={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",301:"PAGEUP",302:"PAGEDOWN",126:"BACK",271:"LEFT",269:"UP",272:"RIGHT",270:"DOWN",261:"VolumeQuiet",259:"VolumeUp",260:"VolumeDown"},YX={273:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",120:"PAGEUP",121:"PAGEDOWN",122:"BACK",29:"LEFT",28:"UP",30:"RIGHT",31:"DOWN",99:"F4",114:"EXIT"},DaHua={273:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",372:"PAGEUP",373:"PAGEDOWN",340:"BACK",3:"LEFT",1:"UP",4:"RIGHT",2:"DOWN",339:"EXIT"},JiuZhou={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",283:"BACK",513:"BACKMAIN",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"},ChangHong={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",27:"BACK",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",33:"PAGEUP",34:"PAGEDOWN"},GzAndroid={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",8:"BACK",640:"RETURN",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN",33:"PAGEUP",34:"PAGEDOWN"},GZGD={640:"BACK",113:"RETURN",114:"BACKMAIN"},XMBC={340:"BACK",270:"RETURN_1",283:"RETURN_2",8:"RETURN_3",513:"BACKMAIN"},BJGH={1:"UP",2:"DOWN",3:"LEFT",4:"RIGHT",13:"OK",340:"BACK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",339:"OUT_PAGE",512:"HOME_PAGE",1025:"STOP",513:"MENU"},GDBC={87:"UP",83:"DOWN",65:"BACK",68:"RIGHT",13:"OK",8:"BACK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",339:"OUT_PAGE",512:"HOME_PAGE",1025:"STOP",513:"MENU"},GDBC_BEIFEN={94:"UP",95:"DOWN",96:"LEFT",97:"RIGHT",62:"OK",340:"BACK",110:"ZERO",111:"ONE",70:"TWO",71:"THREE",72:"FOUR",73:"FIVE",74:"SIX",75:"SEVEN",76:"EIGHT",77:"NINE",339:"OUT_PAGE",512:"HOME_PAGE",1025:"STOP",513:"MENU"},HH={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",13:"OK",8:"BACK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",1131:"DEL",34:"PAGEDOWN",33:"PAGEUP"},GDBC_VOLUMN={61:"VOLUMNUP",45:"VOLUMNDOWN"},GZBC={13:"OK",48:"ZERO",49:"ONE",50:"TWO",51:"THREE",52:"FOUR",53:"FIVE",54:"SIX",55:"SEVEN",56:"EIGHT",57:"NINE",283:"BACK",513:"BACKMAIN",65:"BACK",87:"UP",68:"RIGHT",83:"DOWN",67:"VOLUME"};function getKeyCodeName(keyCode){return GZBC[keyCode]||GDBC_VOLUMN[keyCode]||HH[keyCode]||GDBC_BEIFEN[keyCode]||HW[keyCode]||NJGD[keyCode]||ZTE[keyCode]||YX[keyCode]||DaHua[keyCode]||JiuZhou[keyCode]||ChangHong[keyCode]||GzAndroid[keyCode]||GZGD[keyCode]||XMBC[keyCode]||BJGH[keyCode]||GDBC[keyCode]||"NULL_KEY"}function writeInfoDetailPage(msg){var el=document.getElementById("msg111");el?el.innerHTML=el.innerHTML+"；"+msg:((el=document.createElement("div")).style.position="absolute",el.style.top="200px",el.style.width="600px",el.style.left="100px",el.style.color="red",el.style.fontSize="20px",el.style.background="rgba(0,0,0,0.8)",el.style.zIndex="9999",el.innerHTML=msg,el.id="msg111",document.body.appendChild(el))}var keyDownEventName=null;function keyDownEvent1(evt){var keyName=getKeyCodeName(PAGE.keyCode(evt));keyDownEventName=keyName;try{switch(keyName){case"ZERO":PAGE.changeNum("0"),changeNumObj.changeNum("0");break;case"ONE":changeNumObj.changeNum("1");break;case"TWO":changeNumObj.changeNum("2");break;case"THREE":changeNumObj.changeNum("3");break;case"FOUR":changeNumObj.changeNum("4");break;case"FIVE":changeNumObj.changeNum("5");break;case"SIX":changeNumObj.changeNum("6");break;case"SEVEN":changeNumObj.changeNum("7");break;case"EIGHT":changeNumObj.changeNum("8");break;case"NINE":changeNumObj.changeNum("9");break;case"UP":case"DOWN":case"LEFT":case"RIGHT":CT.stopJump(),PAGE.focusHand(keyName);break;case"OK":CT.stopJump(),curFocus.OK();break;case"BACK":case"BACK_PAGE":case"RETURN":case"OUT_PAGE":CT.stopJump();try{(evt=null!=evt&&null!=evt?evt:window.event).preventDefault()}catch(e){}curFocus.curFocusBackEvent?PAGE.exeCode(curFocus.curFocusBackEvent):"function"==typeof backFunc?backFunc():"function"==typeof backfunc?backfunc():CT.alertTip("返回键无响应！");break;case"HOME_PAGE":CT.exitPlatformPre();case"VolumeUp":volumeUp&&"function"==typeof volumeUp&&volumeUp();break;case"VolumeDown":volumeDown&&"function"==typeof volumeDown&&volumeDown()}}catch(e){}}var changeNumObj={changeNum:function(){}};try{Utility.ioctlWrite("JsAddKeyState","Y"),Utility.keyConvert()}catch(ex){}document.onkeydown=keyDownEvent1;var xjDataLog={STBType:"STBType0",boolLeanIsNewSTB:!1,isDo:!1,isDebug:!1,isMsg:!1,startTime:null,endTime:null,time:0,pageOffsetXY:{x:0,y:0},isRoute:!(-1<window.location.href.indexOf(".html")),isRecommend:!0,loggerUrl:AjaxConfig.loggerUrl,insertUserUrl:AjaxConfig.insertUserUrl,commonPageInfo:{},defaultConfig:{version:"1.1",userNetType:4,userIp:"0.0.0.0",sn:"sn00000",snType:2,cityCode:"025",cityName:"江苏省",playFrom:"jsyx",playFromCity:"45",moduleName:6,source:3,prodId:"0020412cp0007",prodName:"高清少儿包",payType:1,feeType:1,pageType:1,spId:"NJXJ",spName:"南京炫佳"},STBTypes:{HG650:"FH","HG680-L":"FH","HG680-R":"FH1",IP906H_08U1:"HX",SZT8:"SZ",E900:"CW","B860AV2.1U":"ZX","B860AV2.2U":"ZX","B860AV1.1":"ZX",B700V5U:"ZX",MC8638S97:"SDK",MC8638:"SDK",EC6108V9E_hbjlt_BES:"HW",EC6109U_hbjlt:"HW",EC6108V9U_ca_hbjlt:"HW",29:"720P","Hi3798MV200(41)":"720P",56:"720P",41:"720P"},isLoad:!1,ajax:function(data,callback,cb){var url=data.url,params=data.params||{};params.times=(new Date).getTime();var ajaxConfig=data.ajaxConfig||{},method=ajaxConfig.method||"get",async=0!=ajaxConfig.async,ContentType=ajaxConfig.ContentType||"json";ajax.init({url:url,method:method,params:params,async:async,ContentType:ContentType,success:function(e){cb&&cb(e),callback&&callback(e)},fail:function(status){var dataType=CT.dataType(status);"string"==dataType?status="请求接口失败："+status:"object"==dataType?status.request="请求接口失败!":"array"==dataType?status.push("请求接口失败!"):status="请求接口失败："+CT.jsonToString(status),callback&&callback(status)}})},setUserAuthLogoInfo:function(option){var option=option||{},loggerUrl=this.loggerUrl+"userAuth",params={userId:this.getUserId(),authState:option.authState+""||"1",authFrom:option.authFrom||"",contentId:AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commonPageId||CT.requestValue("contentId")||CT.requestValue("activityId"),contentType:this.getPageType(),authStateCname:option.authStateCname||"",productInfo:option.productInfo||"",cityCode:this.getCityCode(),cityName:this.defaultConfig.cityName,moduleName:this.defaultConfig.prodName,createDate:this.formateTime2(new Date),more1:option.more1||this.getSmartCardid(),more2:option.more2||this.getStbId(),more3:encodeURIComponent(option.more3),more4:option.more4};this.setLogger(loggerUrl,params)},init:function(option){var _this=this;_this.getSTBType();_this.freeSomeKey(),_this.startTime=new Date,window.addEventListener("load",function(ev){basePageInfo.personalCenterPageInfo?_this.commonPageInfo=basePageInfo.personalCenterPageInfo||{}:basePageInfo.commonPageInfo&&basePageInfo.commonPageInfo.pageInfo?_this.commonPageInfo=basePageInfo.commonPageInfo.pageInfo||{}:_this.commonPageInfo={},_this.beforeUnload()})},getSTBType:function(){var STBType=this.getGlobalVar("S_F_GET_STB_HARD_VERSION"),STBType="";try{STBType=CITV.loginInfo.stbMode}catch(e){}return STBType},isNewSTB:function(){var trueSTB=this.getSTBType()+"";return-1<"Hi3798MV200(41)".indexOf(trueSTB)?this.boolLeanIsNewSTB=!0:this.boolLeanIsNewSTB=!1},getHDOrSD:function(){return this.STBTypes[this.getSTBType()+""]||"720P"},getPageType:function(){var curPage=window.location.href;return-1<curPage.indexOf("videoDetail")?1:-1<curPage.indexOf("activity")?5:-1<curPage.indexOf("column")?6:-1<curPage.indexOf("game")?0:-1<curPage.indexOf("playVideo")?2:-1<curPage.indexOf("contentId")||-1<curPage.indexOf("contentEName")?4:88},getPageType1:function(){var curPage=window.location.href;CT.requestValue("contentType");return-1<curPage.indexOf("activityId")?3:-1<curPage.indexOf("game")?4:-1<curPage.indexOf("column")?2:AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo&&"playvideo_2019v1"==AjaxConfig.commonPageInfo.pageInfo.commPageEname||-1<curPage.indexOf("playVideo")?5:-1<curPage.indexOf("loginPortal")||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.commPageEname&&-1<AjaxConfig.commonPageInfo.commPageEname.indexOf("loginportal")?8:AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo&&"cartoon_detail_2019v1"==AjaxConfig.commonPageInfo.pageInfo.commPageEname||-1<curPage.indexOf("videoDetail")?7:-1<curPage.indexOf("loginOut_2019v1")?9:AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo&&-1<AjaxConfig.commonPageInfo.pageInfo.commPageEname.toLocaleLowerCase().indexOf("order")?10:curPageInfo&&"object"==typeof curPageInfo?curPageInfo.contentType:1},getCommPageEname:function(){var commPageEname=this.commonPageInfo.commPageEname||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commPageEname||CT.requestValue("contentName")||CT.requestValue("contentEName")||"";switch(this.getPageType()+""){case"0":commPageEname+="_"+CT.requestValue("gameId");break;case"1":commPageEname+="_"+CT.requestValue("cartoonId");break;case"2":commPageEname+="_cartoonId_"+CT.requestValue("cartoonId")+"_videoId_"+CT.requestValue("videoId");break;case"5":commPageEname="activityId_"+CT.requestValue("activityId")+"_"+commPageEname}return commPageEname||0},getCommPageCname:function(){var commPageCname=this.commonPageInfo.commPageCname||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commPageCname||CT.requestValue("contentCName")||"";return encodeURIComponent(commPageCname)},getCurId:function(){return curFocus.FocusID||curFocus.id||"-1"},getFromPortal:function(){var pid=CT.getCookie("pid");switch(this.getPageType()+""){case"0":pid+="_gameId_"+CT.requestValue("gameId");break;case"1":pid+="_cartoonId_"+CT.requestValue("cartoonId");break;case"2":pid+="_cartoonId_"+CT.requestValue("cartoonId")+"_videoId_"+CT.requestValue("videoId");break;case"5":pid+="_activityId_"+CT.requestValue("activityId")}return pid||"-1"},getDivPosition:function(id){try{var elm=document.getElementById(id);if(elm)for(var position={x:elm.offsetWidth/2+this.pageOffsetXY.x,y:elm.offsetHeight/2+this.pageOffsetXY.y},i=0;i<100&&(position.x+=Math.abs(elm.offsetLeft),position.y+=Math.abs(elm.offsetTop),"BODY"!=(elm=elm.parentNode).tagName);i++);else position={x:0,y:0};return position}catch(e){}},getUserId:function(){var userId="";if(!(userId=CT.getCookie("userId"))&&"-1"!=userId)try{userId=(userId=Utility.getSystemInfo("UID"))||CITV.loginInfo.userId,CT.delCookie("userId"),userId&&CT.setCookie("userId",userId)}catch(e){userId=this.getStbId()}return(!userId||userId<0)&&orderJs.getUserInfo(function(userData){try{(userId=userData.data.userInfo.userCode)&&(CT.delCookie("userId"),CT.setCookie("userId",userId))}catch(e){}}),userId||"-1"},getPid:function(){return CT.getCookie("pid")||"-1"},getVersion:function(){return this.getGlobalVar("S_F_GET_STB_SOFT_VERSION")||"v0.0"},getUserToken:function(){var userToken="";if(!(userToken=CT.getCookie("userToken")))try{userToken=CITV.loginInfo.token,CT.delCookie("userToken"),CT.setCookie("userToken",userToken)}catch(e){}return userToken||"-1"},getMac:function(){return CT.getCookie("mac")||"-1"},getUserPhone:function(){var userPhone="";if(!(userPhone=CT.getCookie("userId")))try{userId=Utility.getSystemInfo("UID")}catch(e){}return userPhone||"-1"},getStbId:function(){var stbId="";try{stbId=hardware.STB.serialNumber}catch(e){}return stbId||this.defaultConfig.sn},getCityCode:function(){var cityCode="";try{cityCode=Utility.getSystemInfo("ARC")}catch(e){CT.setCookie("areaCode",cityCode)}return cityCode||this.defaultConfig.cityCode},getSmartCardid:function(){var smartcardId="";try{smartcardId=(smartcardId=CITV.loginInfo.smcId)||Utility.getSystemInfo("SID")}catch(e){smartcardId="-1"}return smartcardId},getTvcode:function(){var tvcode="";try{tvcode=CITV.loginInfo.tvcode}catch(e){tvcode="-1"}return tvcode},getUserIp:function(){var userIp="";if(!(userIp=CT.getCookie("userIp")))try{userIp=Authentication.CUGetConfig("IP")}catch(e){}return userIp||this.defaultConfig.userIp},getPlayFrom:function(){var playFrom="";if(!(playFrom=CT.getCookie("platform")))try{playFrom=XJ_TV_JS.getVal("platform")}catch(e){}return playFrom||this.defaultConfig.platform},getPlayFromCity:function(){return CT.getCookie("playFromCity")||this.defaultConfig.playFromCity},getPlatform:function(){return""},getDefaultInfoObj:function(){var obj={};return obj.userId=this.getUserId(),obj.userPhone=this.getUserPhone(),obj.userNetType=this.defaultConfig.userNetType,obj.userIp=this.getUserIp(),obj.sn=this.getStbId(),obj.snType=this.defaultConfig.snType,obj.stbId=this.getStbId(),obj.mac=this.getMac(),obj.cityCode=this.getCityCode(),obj.cityName=this.defaultConfig.cityName,obj.playFrom=this.getPlayFrom(),obj.playFromCity=this.getPlayFromCity(),obj.moduleName=this.defaultConfig.moduleName,obj.apkVersion=this.getSTBType(),obj},checkObj:function(targetObj,modelObj){if(null!=modelObj&&null!=modelObj)for(var p in modelObj)targetObj[p]=modelObj[p];return targetObj},getPrePage:function(){var prePageInfo=CT.getCookie("prePageInfo"),prePageInfoJson=null;prePageInfo&&(prePageInfoJson=CT.strToJson(prePageInfo));var nextPageInfo="prePageUrl="+this.getPageUrlName(window.location.href)+"&commPageEname="+this.getCommPageEname()+"&commPageCname="+this.getCommPageCname()+"&startTime="+this.startTime.getTime()+"&defaultFocus="+curFocus.FocusID+"&focusDivPos="+ajax.jsonToString(this.getDivPosition(curFocus.FocusID));return CT.delCookie("prePageInfo"),CT.setCookie("prePageInfo",nextPageInfo),prePageInfoJson||{commPageEname:"-1",commPageCname:"-1"}},getNextPage:function(){return"-1"},getNextId:function(curPageUrl){curPageUrl=curPageUrl||window.location.href;var nextId="",game_id=this.querySearchUrlKey(curPageUrl,"gameId"),cartoon_id=this.querySearchUrlKey(curPageUrl,"cartoonId"),songId=this.querySearchUrlKey(curPageUrl,"songId"),singerId=this.querySearchUrlKey(curPageUrl,"singerId"),videoId=this.querySearchUrlKey(curPageUrl,"videoId"),activityId=this.querySearchUrlKey(curPageUrl,"activityId"),contentId=this.querySearchUrlKey(curPageUrl,"contentId");if(!contentId&&setLoggerInfo.pageInfoLog)try{contentId=setLoggerInfo.pageInfoLog.pageInfo.contentId}catch(error){}return game_id?nextId=game_id:videoId?(nextId=videoId,cartoon_id&&(nextId={cartoonId:cartoon_id,videoId:videoId,nextId:nextId})):nextId=cartoon_id||(songId||(singerId&&"undefined"!=singerId&&"null"!=singerId?singerId:activityId||(singerId&&"undefined"!=singerId&&"null"!=singerId?singerId:contentId||window.curPageInfo.contentId))),0<curPageUrl.indexOf("loginPortal")&&(nextId="commPageId_1"),nextId||"-1"},joinStr:function(obj){var args="";for(var key in obj)""!=args&&(args+="&"),args+=key+"="+encodeURIComponent(obj[key]);return args},getPageUrlName:function(url){var str,url_1,pageName="";if(-1<(url=url||window.location.href).indexOf("?")){this.isRoute?pageName=(pageName=this.querySearchUrlKey(url,"contentName"))?"contentName_"+pageName:"contentId_"+this.querySearchUrlKey(url,"contentId"):-1<(pageName=(str=url.split("?")[0]).substr(str.lastIndexOf("/")+1)).indexOf("?")&&(pageName=(url_1=url.substr(0,url.indexOf("?"))).substr(url_1.lastIndexOf("/")+1));try{var curPage=url;-1<curPage.indexOf("GTmusic")||-1<curPage.indexOf("columnGeneral")?pageName+="_action_"+this.querySearchUrlKey(curPage,"action")+"_commPageId_"+this.querySearchUrlKey(curPage,"commPageId"):-1<curPage.indexOf("activityId")&&(pageName+="_activityId_"+this.querySearchUrlKey(curPage,"activityId"))}catch(e){}}else pageName=url.substring(url.lastIndexOf("/")+1,-1==url.indexOf("?")?url.length:url.indexOf("?"));return pageName},querySearchUrlKey:function(url,name){var search,reg,value;if(url?search=url.substring(url.indexOf("?")+1):this.writeInfo("querySearchUrlKey 中URL 地址错误"),name){reg=new RegExp("(^|&)"+name+"=([^&]*)($|&)");try{value=search.match(reg)[2]}catch(e){value=null}}else this.writeInfo("querySearchUrlKey 中name 为空");return value},setLogger:function(logUrl,params){if(params instanceof Object){var args="";for(var i in params){""!=args&&(args+="&"),params[i]&&""!=params[i]&&params[i],args+=i+"="+encodeURIComponent(params[i])}var postData={url:logUrl,params:params,ajaxConfig:{method:"get"}};interface.ajax(postData,function(){})}else this.writeInfo("上传参数格式错误")},formateTime:function(date){var year,month,day,hour,minutes,seconds;return date?(year=date.getFullYear()+"",month=date.getMonth()+1+"",day=date.getDate()+"",hour=date.getHours()+"",minutes=date.getMinutes()+"",seconds=date.getSeconds()+"",date=year+this.autoAdd(month)+this.autoAdd(day)+this.autoAdd(hour)+this.autoAdd(minutes)+this.autoAdd(seconds)):(date=19700101e6,this.writeInfo("传入的时间格式错误")),date},formateTime2:function(date){var year,month,day,hour,minutes,seconds;return date?(year=date.getFullYear()+"",month=date.getMonth()+1+"",day=date.getDate()+"",hour=date.getHours()+"",minutes=date.getMinutes()+"",seconds=date.getSeconds()+"",date=year+"-"+this.autoAdd(month)+"-"+this.autoAdd(day)+" "+this.autoAdd(hour)+":"+this.autoAdd(minutes)+":"+this.autoAdd(seconds)):(date=19700101e6,this.writeInfo("传入的时间格式错误")),date},reverseTime:function(date){var newDate="";return 14!=(date+="").length||isNaN(parseInt(date))||(newDate=date.substring(0,4)+"-"+date.substring(4,6)+"-"+date.substring(6,8)+" "+date.substring(8,10)+":"+date.substring(10,12)+":"+date.substring(12,14)),newDate},changeTime:function(str){var date;return str&&"number"==typeof parseInt(str)?date=this.formateTime(new Date(str)):this.writeInfo("时间格式出错"),date||this.formateTime(new Date)},autoAdd:function(str,len){var newStr="";return len=len||2,str&&"string"==typeof str&&(newStr=str.length<len?"0"+str:str),newStr},writeInfo:function(msg){var el;if(this.isDebug){if(this.isMsg)return(el=document.createElement("div")).style.position="absolute",el.style.top="200px",el.style.left="100px",el.style.color="red",el.style.fontSize="20px",el.innerHTML=msg,el.id="msg",document.body.appendChild(el),void(this.isMsg=!1);(el=document.getElementById("msg")).innerHTML=el.innerHTML+"；"+msg}},setAjaxCallBack:function(logUrl,params,callBack){ajax.init({url:logUrl,method:"GET",params:params,async:!1,ContentType:"json",success:function(data){data=data||{},callBack&&callBack(data)},fail:function(status){}})},jsonToString:function(obj){return this.joinStr(obj)},stringToJson:function(str){for(var arr=[],obj={},arr=str.split("&"),i=0;i<arr.length;i++){var array=arr[i].split("=");obj[array[0]]=array[1]}return obj},insertUserInfo:function(data){var loggerUrl=this.insertUserUrl,params={userId:(data=data||{}).userId||this.getUserId(),createDate:this.reverseTime(this.formateTime(new Date)),stbId:data.stbId||this.getStbId(),userPhone:data.userPhone||"",cityId:this.getCityCode(),more1:this.getSmartCardid(),more2:this.getTvcode(),more3:this.getStbId(),more4:data.more4||""},params=this.checkObj(this.getDefaultInfoObj(),params);this.setLogger(loggerUrl,params)},uploadLoginOut:function(data){var loggerUrl=this.loggerUrl+"login";data=data||{};var params={userId:this.getUserId(),page:data.page||"",pageEname:data.pageEname||"",pageCname:data.pageCname||"",loginType:data.loginType||"",fromCname:this.getFromPortal(),createDate:this.reverseTime(this.formateTime(new Date)),moduleName:this.defaultConfig.moduleName,more1:this.getSmartCardid(),more2:this.getStbId()},params=this.checkObj(this.getDefaultInfoObj(),params);params=this.checkObj(params,data),this.setLogger(loggerUrl,params)},uploadOrderSuccess:function(data){data=data||{};var loggerUrl=this.loggerUrl+"userOrder";params={userId:this.getUserId(),moduleName:this.defaultConfig.prodName,cityCode:this.getCityCode(),cityName:this.defaultConfig.cityName,orderState:data.orderState||"0",orderMessage:data.orderMessage||"-1",productType:this.defaultConfig.feeType,productId:data.productId||this.defaultConfig.prodId,contentName:orderSource()||this.getCommPageEname(),contentId:CT.requestValue("activityId")||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commonPageId,createDate:this.formateTime2(new Date),errorMsg:"",startTime:this.formateTime2(new Date),unsubscribeDate:"",contentType:data.contentType||0,more1:data.more1||"",more2:this.getStbId(),more3:data.more3||"",more4:data.more4||""},this.setLogger(loggerUrl,params)},uploadOrderFail:function(data){(data=data||{}).orderState="0",data.errorCode=data.errorCode||3,data.errorMsg=data.errorMsg||"",this.uploadOrderSuccess(data)},uploadOrderUnsubscribeTime:function(data){(data=data||{}).type=1,data.successFlag=null,data.endTime=this.formateTime(new Date),this.uploadOrderSuccess(data)},saveOrderInfo:function(){var _this=this,backPrePage=window.location.href;CT.setCookie("backPrePage",backPrePage);var orderSource=xjDataLog.getOrderSource();try{var intelligent=CT.getCookie("intelligent"),__params,orderSourceObj,_params,orderSourceObj;curFocus.TempData&&curFocus.TempData.recommendTrackName&&-1<curFocus.TempData.recommendTrackName.indexOf("intelligent")&&null!=curFocus.TempData.recommendDisplayValue&&null!=curFocus.TempData.recommendDisplayValue?(__params=curFocus.TempData.recommendTrackName.split("&"),5<=__params.length&&(orderSourceObj=eval("("+orderSource+")"),orderSourceObj.more4="intelligent",orderSourceObj.more2=(CT.querySearchUrlKey(window.location.href,"contentId")||curFocus.TempData.recommendDisplayType)+"&"+__params[2]+"&"+curFocus.TempData.recommendDisplayValue,orderSource=ajax.jsonToString(orderSourceObj),CT.delCookie("intelligent"))):intelligent&&-1<intelligent.indexOf("&")?(_params=intelligent.split("&"),3<=_params.length&&(orderSourceObj=eval("("+orderSource+")"),orderSourceObj.contentId==_params[2]||CT.querySearchUrlKey(window.location.href,"cartoonId")==_params[2]?(orderSourceObj.more4="intelligent",orderSourceObj.more2=intelligent,orderSource=ajax.jsonToString(orderSourceObj)):CT.delCookie("intelligent"))):CT.delCookie("intelligent")}catch(e){}CT.setCookie("fromOrder",orderSource)},getOrderFromType:function(){var curPage=document.URL;return-1<curPage.indexOf("springRecommendPage")?1:-1<curPage.indexOf("activity")?2:-1<curPage.indexOf("playVideo")?3:4},getCurFocusInfo:function(tempData){var curFocusInfo={};switch(+(tempData=tempData||curFocus||{}).recommendDisplayType){case 0:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:"game_"+tempData.recommendDisplayValue};break;case 1:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:"cartoon_"+tempData.recommendDisplayValue};break;case 2:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:"video_"+(tempData.recommendDisplayValue||recommendmap.id)};break;case 3:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:"other"};break;case 4:curFocusInfo={CONTENT_CNAME:"通用页面",CONTENT_ENAME:tempData.commpageName};break;case 5:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:"activity_"+tempData.recommendDisplayValue};break;case 6:curFocusInfo={CONTENT_CNAME:tempData.recommendDisplayName,CONTENT_ENAME:tempData.commpageName};break;case 7:curFocusInfo={CONTENT_CNAME:"全部内容页",CONTENT_ENAME:tempData.commpageName};break;default:curFocusInfo={CONTENT_CNAME:"坑位",CONTENT_ENAME:curFocus.recommendTrackName||tempData.FocusID&&tempData.FocusID.split("_")[3]}}return curFocusInfo},getOrderSource:function(){var config=xjDataLog.defaultConfig||{},pageInfo=AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo||{},focusData=curFocus&&curFocus.TempData||{},userId=this.getUserId(),stbId=xjDataLog.getStbId(),orderS={userNetType:config.userNetType,moduleName:config.moduleName,cityCode:config.cityCode,cityName:config.cityName,userId:userId,stbId:stbId,spId:config.spId,spName:config.spName};switch(this.getOrderFromType()){case 1:orderS.fromType=1,orderS.fromId=pageInfo.commonPageId,orderS.fromCname=pageInfo.commPageCname,orderS.fromEname=pageInfo.commPageEname,orderS.contentType=1,orderS.contentId=focusData.recommendTrackName||focusData.recommendDisplayValue||curFocus.recommendTrackName||curFocus.FocusID&&curFocus.FocusID.split("_")[3],orderS.contentCname="",orderS.contentEname="";break;case 2:orderS.fromType=2,orderS.fromId=pageInfo.commonPageId||CT.requestValue("activityId"),orderS.fromCname=pageInfo.commPageCname||CT.requestValue("contentCname")||"",orderS.fromEname=pageInfo.commPageEname||CT.requestValue("contentEName")||"",orderS.contentType=2,orderS.contentId=curFocus.recommendTrackName||curFocus.FocusID,orderS.contentCname=pageInfo.commPageCname||CT.requestValue("contentCname")||"",orderS.contentEname=pageInfo.commPageEname||CT.requestValue("contentCname")||"";break;case 3:orderS.fromType=3,orderS.fromId=Page.cartoonData.id,orderS.fromCname=Page.cartoonData.cartoonCname,orderS.fromEname=Page.cartoonData.cartoonEname,orderS.contentType=3,orderS.contentId=Page.cartoonData.id,orderS.contentCname=Page.cartoonData.cartoonEname,orderS.contentEname=Page.cartoonData.cartoonCname;break;case 4:orderS.fromType=4,orderS.fromId=pageInfo.commonPageId,orderS.fromCname=pageInfo.commPageCname,orderS.fromEname=pageInfo.commPageEname,orderS.contentType=4,orderS.contentId=focusData.recommendTrackName||focusData.recommendDisplayValue||curFocus.recommendTrackName||curFocus.FocusID&&curFocus.FocusID.split("_")[3],orderS.contentCname=this.getCurFocusInfo().CONTENT_CNAME,orderS.contentEname=this.getCurFocusInfo().CONTENT_ENAME}return ajax.jsonToString(orderS)},uploadOrderSuccessBigData:function(data){var orderSourceObj={};try{orderSourceObj=CT.stringToJson(CT.getCookie("fromOrder"))||{}}catch(error){}data=data||{},params={userId:this.getUserId(),userNetType:this.defaultConfig.userNetType||"",moduleName:xjDataLog.defaultConfig.moduleName,macId:xjDataLog.getMac()||"",cityCode:this.getCityCode()||"",cityName:this.defaultConfig.cityName||"",stbId:this.getStbId()||"",contentId:orderSourceObj.contentId,contentType:orderSourceObj.contentType||"",contentEname:orderSourceObj.contentEname||"",contentCname:orderSourceObj.contentCname||"",fromType:orderSourceObj.fromType||"",fromId:orderSourceObj.fromId||"",fromCname:orderSourceObj.fromCname||"",fromEname:orderSourceObj.fromEname||"",spId:orderSourceObj.spId||this.defaultConfig.spId,spName:orderSourceObj.spName||this.defaultConfig.spName,orderState:data.orderState||"0",orderStateMsg:data.orderStateMsg||"",orderPrice:data.orderPrice||"",orderType:data.autoSub||this.defaultConfig.feeType,orderId:data.orderId||"",productId:data.productId||this.defaultConfig.prodId,transId:data.transId||"",description:data.orderMessage||"-1",payType:data.payType||this.defaultConfig.payType,autoSub:data.autoSub||this.defaultConfig.feeType,more1:data.more1||"",more2:data.more2||orderSourceObj.more2||"",more3:data.more3||"",more4:data.more4||orderSourceObj.more4||""};var postData={url:AjaxConfig.saveCommonOrderLog,params:params,ajaxConfig:{method:"get"}};interface.ajax(postData,function(){})},uploadGameEndLog:function(data){var loggerUrl=this.loggerUrl+"setGameLog",params={gameId:(data=data||{}).gameId,gameCname:data.gameCname,gameEname:data.gameEname,stateTime:this.formateTime(new Date)-data.stateTime,createDate:this.reverseTime(this.formateTime(new Date)),eventType:data.eventType};params.endDate=params.createDate,params=this.checkObj(this.getDefaultInfoObj(),params),this.setLogger(loggerUrl,params)},uploadViodeEndLog:function(data){var loggerUrl=this.loggerUrl+"setPlayVideo",params={cartoonId:(data=data||{}).cartoonId,cartoonCname:data.cartoonCname,cartoonEname:data.cartoonEname,videoId:data.videoId,videoCname:data.videoCname,videoEname:data.videoEname,startTime:data.startTime,eventType:data.eventType,moduleName:this.defaultConfig.moduleName,playId:data.playId,playType:data.playType||0,createDate:this.reverseTime(this.formateTime(new Date)),stayTime:data.stateTime||(new Date).getTime()-this.startTime.getTime(),spName:data.spName,spId:data.spId||"",more2:this.getStbId(),more1:this.getSmartCardid()};params.endTime=params.createDate,params=this.checkObj(this.getDefaultInfoObj(),params),this.setLogger(loggerUrl,params)},getSystemConfigByKey:function(callBack){ajax.init({url:AjaxConfig.interfaceUrl+"/iptv-web-api/api/web/getSystemConfigByKey?key=sys_default_cartoon_ids",method:"GET",async:!1,ContentType:"json",success:function(data){data=data||{},callBack&&callBack(data)},fail:function(status){}})},uploadLogPage:function(data){var _this=this,loggerUrl=_this.loggerUrl+"setLogPage",prePageInfoJson=_this.getPrePage(),pagePosition=eval("("+prePageInfoJson.focusDivPos+")")||{x:0,y:0},startTime=prePageInfoJson.startTime||"0";data=data||{};var stateTime=(parseInt(_this.startTime.getTime())-parseInt(startTime))/1e3,params={pageEname:prePageInfoJson.commPageEname||"-1",pageCname:prePageInfoJson.commPageCname||"-1",nextPageCname:_this.commonPageInfo.commPageCname||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commPageCname,nextPageEname:_this.getCommPageEname()||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commPageEname,nextPageContentType:_this.getPageType(),nextPageContentId:CT.requestValue("activityId")||AjaxConfig.commonPageInfo&&AjaxConfig.commonPageInfo.pageInfo.commonPageId||-1,fromInfo:_this.getFromPortal(),stayTime:stateTime,focusLocation:prePageInfoJson.defaultFocus||"-1",position:"X:"+pagePosition.x+"Y:"+pagePosition.y,more1:_this.getSmartCardid(),more2:_this.getStbId()},params=_this.checkObj(_this.getDefaultInfoObj(),params);params=_this.checkObj(params,data),params.stateTime=_this.formateTime(new Date)-_this.formateTime(_this.startTime),_this.setLogger(loggerUrl,params)},beforeUnload:function(){var _this=this;_this.startTime=new Date,_this.uploadLogPage(),window.entryTime=(new Date).getTime();var url=window.location.href;-1<url.indexOf("index.html")&&CT.delCookie("logCollParam");try{var __logCollParam=eval("("+CT.getCookie("logCollParam")+")");"video"!=__logCollParam.contentType&&_this.logCollection(CT.getCookie("logCollParam"))}catch(e){}},sendAjaxPost:function(url,postData,success,fail){var _this=this;if(postData){try{oAjax=new XMLHttpRequest}catch(e){oAjax=new ActiveXObject("Microsoft.XMLHTTP")}oAjax.open("POST",url,!0),oAjax.setRequestHeader("Content-type","application/json;charset=utf-8"),oAjax.withCredentials=!0,oAjax.send(ajax.jsonToString(postData).replace(/\s*/g,"")),oAjax.onreadystatechange=function(){4==oAjax.readyState&&(200==oAjax.status?success&&success(eval("("+oAjax.responseText+")")):fail&&fail(status))}}else interface.loggerInfo("接口："+url+" 的请求体为空！")},logCollection:function(params){var _this=this;if("object"!=typeof params)var params=eval("("+params+")");else{if(null==params||"undefined"==params||null==params||"null"==params||""==params)return;if(null==params.userId||"undefined"==params.userId||null==params.userId||"null"==params.userId||""==params.userId)return}_this.setLogger(AjaxConfig.saveCommonLog,params)},setGlobalVar:function(key,val){return""},getGlobalVar:function(key){return""},freeSomeKey:function(num){var _this=this;num=num||"1";["SEND_RETURN_KEY_TO_PAGE","SEND_EXIT_KEY_TO_PAGE","SEND_FIRSTPAGE_KEY_TO_PAGE"].forEach(function(item){_this.setGlobalVar(item,num)})},getStbNumGX:function(key){return""}};xjDataLog.init();var setLoggerInfo={pageInfoLog:null,playStatus:{},videoDerail:{}};function logCollParam(stateTime){var prePageInfo=CT.getCookie("logCollParam")&&eval("("+CT.getCookie("logCollParam")+")");null!=prePageInfo&&(window.prePageInfoObj={prevPageContentId:prePageInfo.contentId||"-1",prevPageContentType:prePageInfo.contentType||"-1",prevPageEname:prePageInfo.contentEname||"-1",prevPageCname:prePageInfo.contentCname||"-1"});var typeObj={1:"page",2:"special",3:"activity",4:"game",5:"video",6:"other",7:"cartoon",8:"loginIn",9:"loginOut",10:"order"};this.stateTime=stateTime||0,this.userNetType=xjDataLog.defaultConfig.userNetType,this.cityCode=xjDataLog.defaultConfig.cityCode,this.cityName=xjDataLog.defaultConfig.cityName,this.moduleName=xjDataLog.defaultConfig.moduleName,this.spId=xjDataLog.defaultConfig.spId,this.spName=xjDataLog.defaultConfig.spName,this.userId=xjDataLog.getUserId(),this.macId=xjDataLog.getMac(),this.stbId=xjDataLog.getStbId(),this.apkVersion=xjDataLog.getSTBType(),this.apkFromName=xjDataLog.getVersion(),this.fromInfo=xjDataLog.getFromPortal(),this.position=xjDataLog.getDivPosition(curFocus.FocusID).x+","+xjDataLog.getDivPosition(curFocus.FocusID).y,this.prevPageContentId=window.prePageInfoObj.prevPageContentId,this.prevPageContentType=window.prePageInfoObj.prevPageContentType,this.prevPageEname=window.prePageInfoObj.prevPageEname,this.prevPageCname=window.prePageInfoObj.prevPageCname;var NextId=xjDataLog.getNextId();if(this.contentId=null!=NextId&&"object"===CT.dataType(NextId)?NextId.NextId:NextId,this.contentType=typeObj[xjDataLog.getPageType1()],this.contentEname=CT.requestValue("contentEName")||"other",this.contentCname=CT.requestValue("contentCName")||"其他",5==xjDataLog.getPageType1()?"object"==CT.dataType(window.basePageInfo)&&"object"==CT.dataType(basePageInfo.cartoonDetail)?(this.contentId=basePageInfo.cartoonDetail.id||NextId.NextId,this.contentEname=basePageInfo.cartoonDetail.cartoonEname,this.contentCname=basePageInfo.cartoonDetail.cartoonCname):"object"==CT.dataType(Page)&&Page.cartoonData&&(this.contentId=NextId.cartoonId||NextId.NextId,this.contentEname=Page.cartoonData.cartoonEname,this.contentCname=Page.cartoonData.cartoonCname):7==xjDataLog.getPageType1()?"object"==CT.dataType(window.basePageInfo)&&"object"==CT.dataType(basePageInfo.cartoonDetail)?(this.contentEname=basePageInfo.cartoonDetail.cartoonEname,this.contentCname=basePageInfo.cartoonDetail.cartoonCname):"object"==CT.dataType(page)&&page.cartoonData&&(this.contentEname=page.cartoonData.cartoonEname,this.contentCname=page.cartoonData.cartoonCname):setLoggerInfo.pageInfoLog&&"object"==CT.dataType(setLoggerInfo.pageInfoLog.pageInfo)&&(this.contentEname=setLoggerInfo.pageInfoLog.pageInfo.commPageEname||setLoggerInfo.pageInfoLog.pageInfo.pageTrackName||curPageInfo.commPageEname,this.contentCname=setLoggerInfo.pageInfoLog.pageInfo.commPageCname||curPageInfo.commPageCname),this.playId=setLoggerInfo.playStatus.playId,this.playType=setLoggerInfo.playStatus.playType,this.eventType=setLoggerInfo.playStatus.eventType,this.playName=setLoggerInfo.playStatus.playName,null!=curFocus.TempData||""!=curFocus.recommendTrackName)try{this.focusLocation=curFocus.TempData&&curFocus.TempData.recommendTrackName||curFocus.recommendTrackName||curFocus.FocusID.match(/hands_x0_y0_([\s\S]*?)_/)[1]}catch(e){}}function commonUpLoadVideo(obj){var json=new logCollParam(obj.stateTime);json.prevPageCname=json.contentCname,json.prevPageEname=json.contentEname,json.prevPageContentId=json.contentEname,json.prevPageContentType=json.contentType;var __cartoonData;Page.cartoonData?(__cartoonData=Page.cartoonData,json.spId=__cartoonData.cspInfo.cpCode,json.spName=__cartoonData.cspInfo.cpCname):(json.spId=obj.spId,json.spName=obj.spName),json.playId=obj.playId,json.playType=obj.playType,json.eventType=obj.eventType,json.contentId=obj.contentId+"_"+obj.isFree,json.playName=obj.playName,json.stateTime=obj.stateTime||0,json.contentEname=obj.cartoonEname,json.contentCname=obj.cartoonCname,json.contentType="video",xjDataLog.logCollection(ajax.jsonToString(json))}function orderSource(){var backPrePage=CT.getCookie("backPrePage")||"",fromPage=xjDataLog.getPageUrlName(backPrePage);return-1<backPrePage.indexOf("cartoonId")?fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"cartoonId"):-1<backPrePage.indexOf("gameId")?fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"gameId"):-1<backPrePage.indexOf("activity")?fromPage+="_activityId_"+xjDataLog.querySearchUrlKey(backPrePage,"activityId"):fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"contentEName"),fromPage}window.prePageInfoObj={prevPageContentId:"",prevPageContentType:"",prevPageEname:"",prevPageCname:""},window.curPageInfo={commPageCname:"",commPageEname:"",contentId:"0",contentType:"1"},window.addEventListener("unload",function(){var json;xjDataLog.isLoad||(xjDataLog.getPrePage(),xjDataLog.isLoad=!0,json=ajax.jsonToString(new logCollParam(parseInt(((new Date).getTime()-window.entryTime)/1e3))),CT.setCookie("logCollParam",json))});var orderJs={authUrl:AjaxConfig.ajaxActionUrl+"getAuthResult",orderUrl:AjaxConfig.ajaxActionUrl+"getOrderResult",isClick:!1,orderData:"",isColumnGetAuth:!1,product_list:null,orderReturnPage:"#",cardCookie:null,getUserId:function(){var userId=xjDataLog.getUserId();if("-1"==userId)try{userId=(userId=CITV.loginInfo.userId)||Utility.getSystemInfo("UID"),CT.delCookie("userId"),userId&&CT.setCookie("userId",userId)}catch(e){userId="8760004067959879"}return userId},getPid:function(){var pid=CT.getCookie("pid")+"";return pid},productId_nj:"800600122669,800600177542,800600177655,800600177559,800600177560",productId_new:"800600177698,800600177699,",productId_all:"800600177698,800600177699,800600177498,800600177542,800600177560,800600177559,800600177655,800600133117",productId_balance:"800600177498",productId_balance_card:"800600133117",productId:"800600177498,800600177542",productId_balance_nj:"800600177815",productImg:{800600177559:"product0.png",800600177560:"product1.png",800600177542:"product2.png",800600122669:"product2.png",800600177655:"product3.png",800600177698:"product4.png",800600177699:"product5.png"},productFocus:{800600177559:"product0_focus.png",800600177560:"product1_focus.png",800600177542:"product2_focus.png",800600122669:"product2_focus.png",800600177655:"product3_focus.png",800600177698:"product4_focus.png",800600177699:"product5_focus.png"},productId_auth:"800600177987,800600177876,800600177875,800600177815,800500115348,800600177751,800600177723,800600177498,800600177542,800600177698,800600177699,800600177655,800600177560,800600177559,800600176526,800600176316,800600176695,800600176706,800600176714,800600176715,800600176734,800600176735,800600176764,800600176803,800600176822,800600176823,800600177051,800600177054,800600177055,800600177058,800600177059,800600177062,800600177065,800600177066,800600177069,800600177070,800600177073,800600177074,800600177076,800600177079,800600177080,800600122398,800600122399,800600177204,800600177244,800600177283,800600177284,800600177282,800600177281,800600177280,800600177279,800600177278,800600177274,800600177273,800600177272,800600177266,800600132673,800600122669,800600177836,800600122843",getAuthProductId:function(){try{return ajaxConf.SystemConfigKeys.authProductList.configValue||this.productId_auth}catch(e){}return this.productId_auth},userInfoObj:null,initJscnAAA:function(success){var _this=this;_this.getUserInfo(function(e){var userId,e=e||{};"1000"==(_this.userInfoObj=e).errorCode&&e.data?(userId=_this.getUserId(),interface.findUserDetailByUserId({userId:userId},function(userInfo){userInfo.data?userInfo.data.userId!=userInfo.data.userPhone&&"sn00000"!=userInfo.data.stbId&&userInfo.data.more4&&"undefined"!=userInfo.data.more4||interface.updateUserInfo({userId:xjDataLog.getUserId(),stbId:_this.userInfoObj.data.userInfo.setTopBoxId,more4:_this.userInfoObj.data.userInfo.districtCode,userPhone:_this.userInfoObj.data.userInfo.phoneNumber}):xjDataLog.insertUserInfo({userId:userId,stbId:_this.userInfoObj.data.userInfo.setTopBoxId,more4:_this.userInfoObj.data.userInfo.districtCode,userPhone:_this.userInfoObj.data.userInfo.phoneNumber})}),JscnAAA.ready({smartCardid:_this.userInfoObj.data.userInfo.smartCardId,stbid:_this.getStbId(),sp_code:"SP1N02A00_08_030"},function(){success&&success(),interface.loggerInfo("初始化成功","post")},function(res){interface.loggerInfo("初始化失败"+ajax.jsonToString(res),"post"),success&&success(res)})):_this.toErrorPage()})},getQRCode:function(product,callback){JscnAAA.get_time_order_url({product_id:product.product_id,fee_id:product.fee_id,offer_id:product.offer_id,video_id:product.video_id,notify_url:product.notify_url,third_order_id:product.third_order_id},function(resp){callback&&callback(resp)})},queryQRCodeState:function(order_id,callback){JscnAAA.query_time_order_statue({order_id:order_id},function(resp){callback&&callback(resp)})},getUserInfo:function(callback){callback=callback||function(){};var data={url:(AjaxConfig.interfaceUrl+"getUserAreaInfoFromBOSS").replace("iptv-web-api-test","iptv-web-api"),params:{queryType:"3",setTopBoxId:this.getStbId(),smartCardId:"",TVCode:""}};interface.ajax(data,callback)},getAreaOfUser:function(fn){var _this=this,nowDateCook="areaType_"+(new Date).getMonth()+(new Date).getDate(),areaArr={suzhou:[1001,3111,3106,3107,3108,101400],nanjing:[1002,1502,1503,1504,1505,1506,1510,1508,1509,101e3],zhenjiang:[3001,3006,3010,3011,101100],taizhou:[3002,3033,3034,3035,101200],huaian:[3020,3021,3031,3036,3036,3037,3038,3063,101600],yancheng:[3022,3051,3052,3053,3054,3055,3061,3096,102e3],lianyungang:[3025,3201,3209,3212,101800],changzhou:[3032,3065,3317,3316,102100],nantong:[3062,3304,3305,3307,3308,3310,101900],suqian:[3064,3101,3102,3103,102200],xuzhou:[3095,3203,3204,3210,3211,3213,101700],zhongguang:[3202],yangzhou:[3329,3205,3206,3207,3208,3301,3302,101500],wuxi:[3303,3306,3311,101300],maanshan:[102300]};if(!_this.areaMap)for(var key in _this.areaMap={},areaArr)for(var i=0;i<areaArr[key].length;i++)_this.areaMap[areaArr[key][i]]=key;var nowDateCookie=CT.getCookie(nowDateCook);if(nowDateCookie){var districtCode="1002";try{nowDateCookie=eval("("+nowDateCookie+")"),districtCode=nowDateCookie.districtCode,areaCode=nowDateCookie.areaCode}catch(e){}if(!fn||"function"!=typeof fn)return nowDateCookie;fn(areaCode,districtCode)}else this.getUserInfo(function(userData){if(userData&&"1000"==userData.errorCode&&userData.data&&userData.data.userInfo&&userData.data.userInfo.cityCode)userArea=_this.areaMap[userData.data.userInfo.cityCode]||_this.areaMap[userData.data.userInfo.districtCode]||"nanjing",fn&&fn(userArea,userData.data.userInfo.districtCode);else{if(CT.setCookie(nowDateCook,ajax.jsonToString({areaCode:"nanjin",districtCode:101e3})),!fn||"function"!=typeof fn)return"nanjing";fn("nanjing",101e3)}})},getStbId:function(){var stb="";try{stb=hardware.STB.serialNumber}catch(e){stb="",stb="81200619290004345"}return stb},getSmartCardid:function(){var smartcardId="";try{try{smartcardId=CITV.loginInfo.smcId}catch(error){}smartcardId=smartcardId||Utility.getSystemInfo("SID")}catch(e){smartcardId="-1"}return smartcardId},getJSYXAuth:function(option){var _this=this;_this.initJscnAAA(function(res){var params;res?(interface.loggerInfo(ajax.jsonToString({smartCardid:_this.userInfoObj.data.userInfo.smartCardId,stbid:_this.getStbId(),sp_code:"SP1N02A00_08_030"})+"SDK初始化失败getNewAuth"+ajax.jsonToString(res),"post"),xjDataLog.setUserAuthLogoInfo({authState:101,authStateCname:res.errorMessage,productInfo:_this.getAuthProductId(),more1:_this.userInfoObj.data.userInfo.smartCardId,more2:_this.getStbId(),more3:ajax.jsonToString(_this.userInfoObj),more4:_this.userInfoObj.data.userInfo.districtCode}),_this.toNotExistDevicePage()):(params={product_id:_this.getAuthProductId(),video_id:""},interface.loggerInfo("auth params>>>"+ajax.jsonToString(params),"post"),JscnAAA.product_auth(params,function(resp){switch(interface.loggerInfo("auth result>>>"+ajax.jsonToString(resp),"post"),xjDataLog.setUserAuthLogoInfo({authState:resp.resultCode,authStateCname:resp.errorMessage,productInfo:_this.getAuthProductId(),more1:_this.userInfoObj.data.userInfo.smartCardId,more2:_this.getStbId(),more3:ajax.jsonToString(_this.userInfoObj),more4:_this.userInfoObj.data.userInfo.districtCode}),resp.resultCode+""){case"0":option.suc&&option.suc();break;case"1":option.fail?option.fail():_this.toOrderPage();break;case"12":interface.loggerInfo("用户状态异常,请退出重新进","post"),_this.toBasePackagePage(resp.errorCode);break;case"39":_this.toRecharge();break;default:interface.loggerInfo("auth into swithc default >>"+ajax.jsonToString(resp),"post"),_this.toErrorPage()}}))})},trimArgs:function(params){var args="";for(var i in params)""!==args&&(args+="&"),args+=i+"="+params[i];return args},getOrderReturnUrl:function(){var strArr=[];strArr.userId=CT.requestValue("userId"),strArr.pid=CT.requestValue("pid"),strArr.activityId=CT.requestValue("activityId"),strArr.contentCName="DGZZYM",strArr.contentId="140",strArr.contentEName="orderReturn_2019v1",strArr.defaultFocus=curFocus.FocusID;var strParams=this.trimArgs(strArr);return AjaxConfig.projectUrl+"HD/web/orderPage/html/orderReturnPage.html?"+strParams},toNewOrder:function(callback){var _this=this;JscnAAA.get_order_product_list({product_id:_this.productId},function(p_resp){xjDataLog.setUserAuthLogoInfo({authState:102,authStateCname:p_resp.resultCode+"_"+p_resp.errorMessage,productInfo:_this.getAuthProductId(),more1:_this.userInfoObj.data.userInfo.smartCardId,more2:_this.getStbId(),more3:ajax.jsonToString(p_resp),more4:_this.userInfoObj.data.userInfo.districtCode}),"0"==(_this.product_list=p_resp).resultCode&&callback&&callback()})},toPay:function(){var _this=this,backPrePage=CT.getCookie("backPrePage")||"",fromPage=xjDataLog.getPageUrlName(backPrePage);xjDataLog.uploadOrderSuccess({orderState:"8",contentName:fromPage,more1:"开始订购"}),orderJs.initJscnAAA(function(){CT.getCookie("cardState")&&(_this.cardCookie=CT.getCookie("cardState"),CT.delCookie("cardState")),_this.productId_balance||_this.productId_balance_nj||_this.toErrorPage();var productId="";_this.cardCookie&&"true"==_this.cardCookie?(_this.productId_balance_card&&(productId=_this.productId_balance_card),_this.cardCookie):(_this.productId_balance&&(productId=_this.productId_balance),_this.productId_balance_nj&&(""!=productId&&(productId+=","),productId+=_this.productId_balance_nj)),xjDataLog.uploadOrderSuccess({orderState:"10",contentName:fromPage,more1:"注册成功"}),_this.getProlistTimer=setTimeout(function(){xjDataLog.uploadOrderSuccess({orderState:"11",contentName:fromPage,more1:"获取产品列表超时"})},3e3),loggerInfo("订购注册框架成功|","post"),JscnAAA.get_order_product_list({product_id:productId},function(p_resp){if(clearTimeout(_this.getProlistTimer),loggerInfo("获取产品列表成功2|"+ajax.jsonToString(p_resp),"post"),!p_resp||!p_resp.product_list||p_resp.product_list.length<=0||!p_resp.product_list[0].id){loggerInfo("获取可订购列表为空|","post");var reason="无可订购产品包";return p_resp&&p_resp.result&&p_resp.result.reason&&(reason=p_resp.result.reason),xjDataLog.uploadOrderSuccess({orderState:"4",contentName:fromPage,more1:reason,more3:p_resp?ajax.jsonToString(p_resp):""}),void setTimeout(function(){CT.BackPortalMainPage()},300)}_this._findAuthTimer=setTimeout(function(){loggerInfo("本地鉴权超时|"+ajax.jsonToString(p_resp),"post"),xjDataLog.uploadOrderSuccess({orderState:"9",contentName:fromPage,more1:"本地鉴权超时"}),setTimeout(function(){_this.toPay_api(p_resp)},300)},2e3),loggerInfo("获取产品列表成功2|"+ajax.jsonToString(p_resp),"post"),interface.findAuth({params:{userId:_this.getUserId()},ajaxConfig:{async:!0}},function(findAuth_res){return loggerInfo("调用自己鉴权一天内数据返回1|"+ajax.jsonToString(findAuth_res),"post"),clearTimeout(_this._findAuthTimer),findAuth_res&findAuth_res.state+""=="0"?(loggerInfo("本地鉴权已订购产品包","post"),xjDataLog.uploadOrderSuccess({orderState:"5",contentName:fromPage,more1:"本日已订购过产品包"}),void setTimeout(function(){loggerInfo("调用自己鉴权一天内数据返回3|"+ajax.jsonToString(findAuth_res),"post"),CT.BackPortalMainPage()},300)):(loggerInfo("调用自己鉴权一天内数据返回2|"+ajax.jsonToString(findAuth_res),"post"),void _this.toPay_api(p_resp))})})})},toPay_api:function(p_resp){var _this=this;if(!_this.toPayApiFlag){_this.toPayApiFlag=!0,loggerInfo("去支付1|"+ajax.jsonToString(p_resp),"post");var backPrePage=CT.getCookie("backPrePage")||"",fromPage=xjDataLog.getPageUrlName(backPrePage);if(!p_resp||!p_resp.product_list||p_resp.product_list.length<=0||!p_resp.product_list[0].id)return xjDataLog.uploadOrderSuccess({orderState:"4",contentName:fromPage,more1:"无可订购产品包2"}),void _this.toErrorPage();xjDataLog.uploadOrderSuccess({orderState:"5",contentName:fromPage,more1:"存在可订购产品包",more3:ajax.jsonToString(p_resp)}),loggerInfo("去支付2|"+ajax.jsonToString(p_resp),"post"),JscnAAA.balance_order({product_id:p_resp.product_list[0].id,fee_id:p_resp.product_list[0].fee_id,offer_id:p_resp.product_list[0].offer_id,notify_url:"xxx",third_order_id:"xxx"},function(resp){try{loggerInfo("去支付x返回!!!!!!!!!!!!!!!!!!!!|"),loggerInfo("去支付3|"+ajax.jsonToString(resp),"post"),xjDataLog.uploadOrderSuccess({orderState:"6",contentName:fromPage,more1:"订购接口回调成功",more3:ajax.jsonToString(resp)}),loggerInfo("order yeE pay into callback!|"+ajax.jsonToString(resp),"post")}catch(e){}var orderFromType=0;try{var activityId,backPrePage=CT.getCookie("backPrePage")||"",fromPage=xjDataLog.getPageUrlName(backPrePage);-1<backPrePage.indexOf("cartoonId")?fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"cartoonId"):-1<backPrePage.indexOf("gameId")?fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"gameId"):-1<backPrePage.indexOf("activity")?(activityId=xjDataLog.querySearchUrlKey(backPrePage,"contentEName"),orderFromType=2,fromPage=activityId):fromPage+="_"+xjDataLog.querySearchUrlKey(backPrePage,"contentEName");var params={orderState:"",contentName:fromPage,more1:"",contentType:orderFromType,productId:p_resp.product_list[0].id};try{loggerInfo("order yeE pay result:"+CT.jsonToString(resp),"post"),params.orderState=resp.resultCode+"",params.more1=resp.errorMessage}catch(error){}var cardActId=null;p_resp.product_list[0].id="800600133117",CT.getCookie("cardActId")&&(cardActId=CT.getCookie("cardActId")),"22"==cardActId&&(params.productId="800600133117_0"),"23"==cardActId&&(params.productId="800600133117_1");try{xjDataLog.uploadOrderSuccessBigData(params)}catch(ex1){}try{xjDataLog.uploadOrderSuccess(params)}catch(ex1){}}catch(error){loggerInfo("parse order yeE pay result failed:","post")}setTimeout(function(e){resp.resultCode+""=="0"?(p_resp.product_list[0].id==_this.productId_balance_card&&(CT.getCookie("cardActId")&&(cardActId=CT.getCookie("cardActId"),CT.delCookie("cardActId")),interface.insertActivityGainRecord({params:{userId:xjDataLog.getUserId(),activityId:cardActId,state:1}},function(res){console.log(res)})),CT.getCookie("pointsOrder")&&setTimeout(function(){interface.insertPoints({params:{userid:xjDataLog.getUserId(),activityId:1,taskid:1,prizeid:1,points:60}},function(res){})},100),_this.toOrderSucPage()):(CT.getCookie("pointsOrder")&&CT.delCookie("pointsOrder"),_this.toOrderFailPage())},250)})}},toRecharge:function(){JscnAAA.get_recharge_channel(function(resp){0==resp.resultCode&&(resp.aliPayUrl,resp.wechatPayUrl,JscnAAA.go_recharge_page({return_url:window.location.href}))})},auth_cache_info:{result:-1,authTime:(new Date).getTime(),data:null,time_out:6e3,cache_strategy:0},setAuthPageCacheInfo:function(cacheInfo){this.auth_cache_info&&cacheInfo&&(!this.auth_cache_info.cache_strategy&&1==cacheInfo.result||2==this.auth_cache_info.cache_strategy||1==this.auth_cache_info.cache_strategy&&1!=cacheInfo.result)&&(this.auth_cache_info.result=cacheInfo.result,this.auth_cache_info.authTime=(new Date).getTime(),this.auth_cache_info.data=cacheInfo.authData)},auth_arr:{state:"idle",arrays:[],time_out:5e3},getAuthState:function(){var _this=this;return"idle"==this.auth_arr.state&&(clearTimeout(this.auth_arr.timer),this.auth_arr.timer=setTimeout(function(){_this.arrNextAuth()},0<_this.auth_arr.time_out?_this.auth_arr.time_out:6e3),this.auth_arr.state="busy",!0)},getAuth:function(success,failCallback){"object"==typeof success&&"function"==typeof success.failCallback&&(failCallback=success.failCallback),"object"==typeof success&&"function"==typeof success.successCallback&&(success=success.successCallback);this.auth_arr.arrays.push({success:success,failCallback:failCallback}),this.dealAuthArr()},dealAuthArr:function(){var success,failCallback,_this=this;0!=_this.auth_arr.arrays.length&&_this.getAuthState()&&(_param=_this.auth_arr.arrays.shift(),_param&&(success=_param.success,failCallback=_param.failCallback),_this.auth_cache_info&&-1!=_this.auth_cache_info.result&&0<_this.auth_cache_info.authTime&&(0==_this.auth_cache_info.time_out||_this.auth_cache_info.authTime>(new Date).getTime()-_this.auth_cache_info.time_out)?(1==_this.auth_cache_info.result?success&&success(_this.auth_cache_info.data):_this.toAuthFail(failCallback,_this.auth_cache_info.data),_this.arrNextAuth()):_this.getAuth_api(function(data){_this.setAuthPageCacheInfo({result:1,authData:data}),_this.arrNextAuth(),success&&success(data)},function(data){return _this.setAuthPageCacheInfo({result:2,authData:data}),_this.arrNextAuth(),!failCallback||failCallback(data)}))},arrNextAuth:function(){this.auth_arr.state="idle",clearTimeout(this.auth_arr.timer),this.dealAuthArr()},toAuthFail:function(callbackFail,res){callbackFail&&"function"==typeof callbackFail&&1!=callbackFail(res)||this.toOrderPage()},getAuth_api:function(suc,fail){var _this=this;interface.checkUserBlackWhiteList({userId:_this.getStbId()},function(res){interface.loggerInfo("黑白名单》》"+ajax.jsonToString(res),"post"),"1011"!=res.errorCode?"1010"==res.errorCode?_this.toErrorPage():_this.getJSYXAuth({suc:function(data){suc&&suc("OK")},fail:function(data){_this._findAuthTimer=setTimeout(function(){_this.toAuthFail(fail,data)},6e3),interface.findAuth({params:{userId:_this.getUserId()},ajaxConfig:{async:!0}},function(findAuth_res){clearTimeout(_this._findAuthTimer),findAuth_res&findAuth_res.state+""=="0"?suc&&suc("OK"):_this.toAuthFail(fail,data)})}}):suc&&suc("ok")})},columnGetAuth:function(callback){this.isColumnGetAuth=!0,this.getAuth(function(data){callback&&callback("0")},function(){callback&&callback("1")})},columnToOrderPage:function(stringPid){this.toOrderPage()},upLog:function(){0<=!document.URL.indexOf("playVideo")&&interface.getSystemConfigByKey(function(res){var arr=res&&res.data&&eval(res.data.configValue),arrIndex=Math.floor(Math.random()*arr.length+1)-1,video=arr[arrIndex]||[];interface.findVideoListByCartoonId({params:{cartoonId:video.cartoonId},ajaxConfig:{async:!0}},function(data){xjDataLog.uploadViodeEndLog({cartoonId:video.cartoonId,cartoonCname:video.cartoonName,cartoonEname:video.cartoonEname,videoId:video.videoId,videoCname:video.videoName,videoEname:video.videoEname,startTime:0,stayTime:parseInt(500*Math.random()),playType:2,spName:xjDataLog.defaultConfig.spName,spId:xjDataLog.defaultConfig.spId})})})},urlSearchToObj:function(str){for(var arr,obj={},strArr=str.split("&"),i=0;i<strArr.length;i++)obj[(arr=strArr[i].split("="))[0]]=arr[1];return obj},order_page_areaId:{},toOrderPage:function(_param){var res,_this=this,key_name="orderPage4areaId";if(clearTimeout(_this.getSCBKTimer),_param&&_param.result){if(xjDataLog.saveOrderInfo(),_param.data&&_param.data.length)for(var i=0;i<_param.data.length;i++){var _item=_param.data[i];if(_item){var kvs=_item.split("=");if(0<(eName=kvs[0]).indexOf(":")){var _eh=eName.split(":"),eName=_eh[0];if(1<_eh.length&&(","+_eh[1]+",").indexOf(","+(new Date).getHours()+",")<0)continue}if(0<kvs.length){var areaIds=kvs[1]+",";return void _this.getAreaOfUser(function(res,areaCode){("3317"==areaCode||0<=",3020,3021,3031,3036,3037,3038,3063,101600,".indexOf(","+areaCode+","))&&CT.requestValue("contentName").indexOf("OrderPageQR2")<0?CT.getAnterByIdOrAction({contentName:"OrderPageQR2"}):0<=areaIds.indexOf(areaCode+",")?CT.getAnterByIdOrAction({contentName:eName}):CT.getAnterByIdOrAction({contentName:"orderPage_2019v1"})})}}}CT.getAnterByIdOrAction({contentName:"orderPage_2019v1"})}else{ajaxConf.SystemConfigKeys&&ajaxConf.SystemConfigKeys[key_name]?(kvs=[],(res={data:ajaxConf.SystemConfigKeys[key_name]})&&res.data&&res.data.configValue&&(kvs=res.data.configValue.split("&")),_this.toOrderPage({result:!0,data:kvs})):(interface.getSystemConfigByKey(function(res){var kvs=[];res&&res.data&&res.data.configValue&&(kvs=res.data.configValue.split("&")),_this.toOrderPage({result:!0,data:kvs})},key_name),_this.getSCBKTimer=setTimeout(function(){_this.toOrderPage({result:!0})},1200))}},toSecOrderPage:function(){var _this=this;_this.getAreaOfUser(function(res,areaCode){areaCode&&0<=_this._activity_areaCodes.indexOf(areaCode)?CT.getAnterByIdOrAction({contentName:"springRecommendPage_RDlfxjhddgyej202011"}):CT.getAnterByIdOrAction({contentName:"orderPage2_2019v1"})})},toOrderQRPage:function(type){CT.getAnterByIdOrAction({contentId:"274"})},toOrderSucPage:function(){CT.getAnterByIdOrAction({contentName:"orderSuc_2019v1"})},toOrderFailPage:function(){CT.getAnterByIdOrAction({contentName:"orderFail_2019v1"})},toBasePackagePage:function(errCode){loggerInfo("order: BasePackage nothingness","post"),errCode?CT.getAnterByIdOrAction({contentName:"basePackagePage"},{errCode:errCode}):CT.getAnterByIdOrAction({contentName:"basePackagePage"})},toNotExistDevicePage:function(){loggerInfo("order: device nothingness","post"),CT.getAnterByIdOrAction({contentName:"notExistDevicePage"})},toErrorPage:function(){CT.getAnterByIdOrAction({contentName:"404_2019v1"})},collOrderLog:function(){var p=new logCollParam;p.contentType="order",xjDataLog.logCollection(p)}};function loadingJS0(url,jsObj){var jsObjType=typeof jsObj;if("string"==jsObjType){var jsUrl=url+jsObj+".js?v=20200519";document.write('<script type="text/javascript" src='+jsUrl+"><\/script>")}else if("object"==jsObjType)for(var jsUrl="",i=0;i<jsObj.length;i++)jsUrl='<script type="text/javascript" src='+url+jsObj[i]+".js?v=20200519><\/script>",document.write(jsUrl)}window.addEventListener("load",function(){var curUrl=window.location.href;(-1<curUrl.indexOf("newmain")||-1<curUrl.indexOf("videoDetail"))&&setTimeout(function(){orderJs.getUserInfo(function(e){var userId,userInfoObj=e||{};"1000"==e.errorCode&&e.data&&(userId=orderJs.getUserId(),interface.findUserDetailByUserId({userId:userId},function(userInfo){userInfo.data?userInfo.data.userId!=userInfo.data.userPhone&&"sn00000"!=userInfo.data.stbId&&userInfo.data.more4&&"undefined"!=userInfo.data.more4||interface.updateUserInfo({userId:xjDataLog.getUserId(),stbId:userInfoObj.data.userInfo.setTopBoxId,more4:userInfoObj.data.userInfo.districtCode,userPhone:userInfoObj.data.userInfo.phoneNumber}):xjDataLog.insertUserInfo({userId:userId,stbId:userInfoObj.data.userInfo.setTopBoxId,more4:userInfoObj.data.userInfo.districtCode,userPhone:userInfoObj.data.userInfo.phoneNumber})}))})},1e3)}),loadingJS0("","http://172.31.183.225:8080/webapp_v2/JscnAAA");var isOn=!1,videoPlayer={mp:null,instanceId:null,playListFlag:0,videoDisplayMode:1,muteFlag:0,curTime:0,totalTime:60,useNativeUIFlag:0,subtitleFlag:0,videoAlpha:0,cycleFlag:0,randomFlag:0,playMustArgu:{playUrl:"",left:0,top:0,width:640,height:526},firstTime:0,forwardOrRewindFlag:!1,timeStep:15,leftOrRightTimeout:null,showPerSecondTimeout:null,volume:50,speed:1,showState:"small",state:"stop",BossPlatForm:xjDataLog.getPlatform(),curMuteFlag:0,curSpeed:1,curStatus:"play",playUrl:"",isDebug:!1,isMsg:!1,option:{},smallVideoTimer:void 0,smallVideoInterval:void 0,getTotalTimer:void 0,totalTime:3600,alreadyGetTotalTime:!1,restartSwitch:!0,restartFunTimer:null,smallVideoInfo:null,init:function(){},getPlayUrl:function(option){option=option||{},interface.findPlayUrlByMediaCode({assetID:option.nns_ids,ajaxConfig:{async:!0,method:"get"}},function(data){option.playUrl=data.onDemandURL,option.callback&&option.callback(option)})},SmallPlay:function(params){var _this=this;_this.exitPage(),interface.findPlayUrlByMediaCode({assetID:params.nns_ids,ajaxConfig:{async:!0,method:"get"}},function(data){params.playUrl=data.onDemandURL,_this.initMediaPlay(params)})},initMediaPlay:function(option){var _this=this;try{"object"==CT.dataType(option.smallVideoInfo)?(_this.smallVideoInfo=option.smallVideoInfo,_this.uploadVideoDetailLog({contentId:option.smallVideoInfo.cartoonId+"_"+option.smallVideoInfo.isFree,contentCname:option.smallVideoInfo.cartoonInfo.cartoonCname,contentEname:option.smallVideoInfo.cartoonInfo.cartoonEname,playId:option.smallVideoInfo.movieDetails[0].videoId+"_"+(new Date).getTime(),playType:1,eventType:"start",playName:option.smallVideoInfo.videoCname,spName:option.smallVideoInfo.cartoonInfo.cspInfo.cpCname,spId:option.smallVideoInfo.cartoonInfo.cspInfo.cpCode})):loggerInfo("smallVideoInfo is null.")}catch(e){}try{_this.smallVideoInterval&&clearInterval(_this.smallVideoInterval),_this.getTotalTimer&&clearTimeout(_this.getTotalTimer);var height=option.height,width=option.width,left=option.left,top=option.top;window.my_mediaplay=new MediaPlayer,_this.mp=window.my_mediaplay,_this.mp.setVideoDisplayMode(0);try{_this.mp.setVideoDisplayArea(left,top,width,height),_this.mp.refreshVideoDisplay(),_this.mp.setSingleMedia(option.playUrl),_this.mp.playFromStart()}catch(ex1){_this.mediaAVPlayFlag=_this.mediaAvPley(option)}_this.getTotalTimer=setTimeout(function(){var totleTime=0;0<(totleTime=_this.mediaAVPlayFlag?media.AV.duration:_this.mp.getMediaDuration())&&null!=totleTime?(120<totleTime&&(totleTime=120),_this.smallVideoInterval=setInterval(function(){_this.mediaAVPlayFlag?media.AV.seek("00:00:00"):_this.mp.playFromStart();try{"object"==CT.dataType(_this.smallVideoInfo)?_this.uploadVideoDetailLog({contentId:_this.smallVideoInfo.cartoonId+"_"+_this.smallVideoInfo.isFree,contentCname:_this.smallVideoInfo.cartoonInfo.cartoonCname,contentEname:_this.smallVideoInfo.cartoonInfo.cartoonEname,playId:_this.smallVideoInfo.movieDetails[0].videoId+"_"+(new Date).getTime(),playType:1,eventType:"playing",playName:_this.smallVideoInfo.videoCname,spName:_this.smallVideoInfo.cartoonInfo.cspInfo.cpCname,spId:_this.smallVideoInfo.cartoonInfo.cspInfo.cpCode}):loggerInfo("smallVideoInfo is null playing0.")}catch(e){}},1e3*(totleTime-3))):_this.smallVideoInterval=setInterval(function(){_this.mediaAVPlayFlag?media.AV.seek("00:00:00"):_this.mp.playFromStart();try{"object"==CT.dataType(_this.smallVideoInfo)?_this.uploadVideoDetailLog({contentId:_this.smallVideoInfo.cartoonId+"_"+_this.smallVideoInfo.isFree,contentCname:_this.smallVideoInfo.cartoonInfo.cartoonCname,contentEname:_this.smallVideoInfo.cartoonInfo.cartoonEname,playId:_this.smallVideoInfo.movieDetails[0].videoId+"_"+(new Date).getTime(),playType:1,eventType:"playing",playName:_this.smallVideoInfo.videoCname,spName:_this.smallVideoInfo.cartoonInfo.cspInfo.cpCname,spId:_this.smallVideoInfo.cartoonInfo.cspInfo.cpCode}):loggerInfo("smallVideoInfo is null playing1.")}catch(ex){loggerInfo("wyy ======>>>>>smallPlay_err 11111111 >>>>> "+ajax.jsonToString(ex))}},117e3)},3e3)}catch(e){loggerInfo("wyy ======>>>>>smallPlay_err >>>>> "+ajax.jsonToString(e))}},mediaAvPley:function(option){var _this=this;if("object"!=typeof media||"object"!=typeof media.AV)return!1;var height=option.height,width=option.width,left=option.left,top=option.top;return media.video.setPosition(left,top,width,height),media.AV.open(option.playUrl,"VOD"),_this.play_timeout=setTimeout(function(){media.AV.play()},1e3),document.onsystemevent=function(evt){var keyCode=null!=(evt=null!=evt&&null!=evt?evt:window.event).which&&null!=evt.which&&0!=evt.which?evt.which:evt.keyCode;switch(evt.modifiers,keyCode){case 5205:break;case 5202:clearTimeout(_this.play_timeout),media.AV.play();break;case 5210:case 5206:break;case 5203:clearTimeout(_this.play_timeout),media.AV.play()}},!0},uploadVideoDetailLog:function(param){var p=new logCollParam(parseInt((new Date).getTime()-window.entryTime)/1e3);p.cartoonId=param.contentId,p.contentCname=param.contentCname,p.contentEname=param.contentEname,p.playId=param.playId,p.playType=param.playType,p.eventType=param.eventType,p.playName=param.playName,p.contentType="video",p.spId=param.spId,p.spName=param.spName,p.stateTime=0,xjDataLog.logCollection(ajax.jsonToString(p))},toSmallPlay:function(playObj){if(-1!=window.location.href.indexOf("web/mainPage/html/mainPage.html"))try{if("0px"!=CT.$("main").style.top)return}catch(e){}(playObj=playObj||{}).playUrl&&(this.playUrl=playObj.playUrl),this.playUrl&&(this.setPlayerSize(playObj),this.switchPlayerSysMenu("0"),this.switchPlayerFinish(),this.createPlayer(this.playUrl),this.startPlay(),this.hideSmallVideoLoadTip())},smallTimerNum:0,hideSmallVideoLoadTip:function(){var timer,_this=this;CT.$("videoLoadingImg")&&"hidden"!=CT.$("videoLoadingImg").style.visibility?timer=setTimeout(function(){clearTimeout(timer);try{1==_this.getPlayerState()||10<=_this.smallTimerNum?setTimeout(function(){CT.$("videoLoadingImg").style.visibility="hidden"},2e3):(_this.smallTimerNum++,_this.hideSmallVideoLoadTip())}catch(e){}},500):CT.$("videoLoadingImg")&&(CT.$("videoLoadingImg").style.visibility="hidden")},fullScreenPlaying:function(option){var _this=this;_this.option=option||{},videoPlayer.createPlayer(),_this.option.callback=function(playUrlObj){var startObj,playObj=playUrlObj||{};if(_this.playUrl=playObj.playUrl,_this.playUrl)try{_this.mp.setVideoDisplayMode(0),_this.mp.setAllowTrickmodeFlag(0);try{_this.mp.setVideoDisplayArea(0,0,1280,720),_this.mp.refreshVideoDisplay(),_this.mp.setSingleMedia(_this.playUrl)}catch(ex1){option.left=0,option.top=0,option.width=1280,option.height=720,_this.mediaAVPlayFlag=_this.mediaAvPley(option)}playObj.startPlayTimePoint&&(startObj={type:1,time:playObj.startPlayTimePoint,speed:0},videoPlayer.playByTime(startObj));try{_this.mp.setVideoDisplayArea(0,0,1280,720),_this.mp.refreshVideoDisplay(),_this.playFromStart()}catch(ex){option.left=0,option.top=0,option.width=1280,option.height=720,_this.mediaAVPlayFlag=_this.mediaAvPley(option)}}catch(e){}},_this.getPlayUrl(_this.option)},restartFun:function(){var time=0;this.totalTime&&(time=Number(1e3*this.totalTime)-5e3),setInterval(function(){videoPlayer.playByTime({type:1,time:0,speed:0})},time)},playFromStart:function(){try{this.mediaAVPlayFlag?media.AV.seek("00:00:00"):this.mp.playFromStart(),videoObj.curStatus="play",this.curTime=0}catch(e){videoObj.curStatus="play",this.curTime=0}},exitPage:function(){!this.mp&&window.my_mediaplay&&(this.mp=window.my_mediaplay);try{"object"==typeof DVB&&media.AV.close()}catch(e){}try{if(this.smallVideoTimer&&clearTimeout(this.smallVideoTimer),-1<window.navigator.userAgent.indexOf("Moz")||-1<window.navigator.userAgent.indexOf("Coship cooca Webkit")||this.mp&&this.mp.releaseMediaPlayer(this.mp.getNativePlayerInstanceID()),this.mp&&this.mp.stop(),!this.mp&&this.instanceId)this.mp.releaseMediaPlayer(this.instanceId);else if(!this.mp){this.mp=new MediaPlayer;for(var i=0;i<255;i++)this.mp.releaseMediaPlayer(i)}}catch(e){}try{"object"==CT.dataType(this.smallVideoInfo)?this.uploadVideoDetailLog({contentId:this.smallVideoInfo.cartoonId+"_"+this.smallVideoInfo.isFree,contentCname:this.smallVideoInfo.cartoonInfo.cartoonCname,contentEname:this.smallVideoInfo.cartoonInfo.cartoonEname,playId:this.smallVideoInfo.movieDetails[0].videoId+"_"+(new Date).getTime(),playType:1,eventType:"end",playName:this.smallVideoInfo.videoCname,spName:this.smallVideoInfo.cartoonInfo.cspInfo.cpCname,spId:this.smallVideoInfo.cartoonInfo.cspInfo.cpCode}):loggerInfo("smallVideoInfo is null end.")}catch(e){}clearInterval(this.smallVideoInterval)},createPlayer:function(playObj){try{this.mp=new MediaPlayer,this.instanceId=this.mp.getNativePlayerInstanceID()}catch(e){}},startPlay:function(){try{return this.mediaAVPlayFlag?media.AV.play():this.mp.resume(),videoPlayer.curStatus="play","resume"}catch(e){return videoPlayer.curStatus="play",-1}},pausePlay:function(){try{return this.mediaAVPlayFlag?media.AV.pause():this.mp.pause(),videoPlayer.curStatus="pause"}catch(e){return videoPlayer.curStatus="pause",-1}},seekPlay:function(){var curTime,startObj;try{window.keyword&&(window.keyword=!1,startObj={type:1,time:curTime=Number(this.getCurPlayTime())+10,speed:0},videoPlayer.playByTime(startObj),Page.setTimePerSecond("forward",curTime),setTimeout(function(){window.keyword=!0},100))}catch(e){}num=num||"0";try{videoPlayer.curStatus="trickMode"}catch(e){}},startSomePosPlay:function(startObj){type=(startObj=startObj||{}).type||1,time=startObj.time||0,speed=startObj.speed||0;try{if(this.mediaAVPlayFlag){var time=parseInt(startObj.time),hour=Math.floor(time/3600),minute=Math.floor((time-3600*hour)/60),second=time-3600*hour-60*minute,time2=(hour=9<hour?hour:"0"+hour)+":"+(minute=9<minute?minute:"0"+minute)+":"+(second=9<second?second:"0"+second);try{media.AV.play();media.AV.seek(time2)}catch(e){}}else this.mp.playByTime(type,time,speed);videoObj.curStatus="play"}catch(e){videoObj.curStatus="play",this.curTime=time}},getCurPlayTime:function(){try{return this.mediaAVPlayFlag?media.AV.elapsed:this.mp.getCurrentPlayTime()}catch(e){return"pause"!=this.curStatus&&this.curTime++,this.curTime>this.totalTime&&(this.curTime=this.totalTime),this.curTime}},getPlaybackMode:function(){var _this=this,result=eval("("+_this.mp.getPlaybackMode()+")");return result},getCurPlayerSpeed:function(){return this.mediaAVPlayFlag?this.curSpeed=media.AV.speed:this.curSpeed=this.getPlaybackMode().Speed,this.curSpeed},getPlayerState:function(callback){try{var currPlayMode="";switch(this.mediaAVPlayFlag?(currPlayMode={}).PlayMode=media.AV.status:currPlayMode=this.getPlaybackMode(),currPlayMode.PlayMode){case"Pause":case"pause":this.curStatus="pause";break;case"Normal Play":case"play":this.curStatus="play";break;case"Trickmode":case"forward":case"backward":this.curStatus="trickMode"}return callback&&callback(this.curStatus),this.curStatus}catch(e){return this.curStatus}},getVideoDuration:function(){try{return this.mediaAVPlayFlag?this.totalTime=Number(media.AV.duration):this.totalTime=Number(this.mp.getMediaDuration()),this.totalTime}catch(e){return this.totalTime}},setMuteFlag:function(val){try{return this.mediaAVPlayFlag?media.sound.mute():this.mp.setMuteFlag(val),val}catch(e){return-1}},getMuteFlag:function(){try{var muteFlag=0;muteFlag=this.mediaAVPlayFlag?media.sound.isMute:this.mp.getMuteFlag()}catch(e){this.curMuteFlag=1==this.curMuteFlag?0:1;muteFlag=this.curMuteFlag}return muteFlag},setVolume:function(val){try{return this.mediaAVPlayFlag?(val=Number(val),media.sound.value=100<=val?100:val<=0?0:val):this.mp.setVolume(val),val}catch(e){return-1}},getVolume:function(){try{return this.mediaAVPlayFlag?this.volume=media.sound.value:this.volume=this.mp.getVolume(),this.volume}catch(e){return this.volume}},volumeStep:5,changeVolume:function(num){num=num||1;var nowVolume=this.getVolume(),nowVolume=num<0?(nowVolume-=this.volumeStep)<0?0:nowVolume:32<(nowVolume+=this.volumeStep)?32:nowVolume;this.setVolume(nowVolume)},transformTime:function(timeStr){timeStr=timeStr||"";var timeArr=[];-1<(timeStr+="").indexOf(":")?timeArr=timeStr.split(":"):-1<timeStr.indexOf("：")&&(timeArr=timeStr.split("："));var time=0;try{time+=3600*timeArr[0],time+=60*timeArr[1],time+=+timeArr[2]}catch(e){}return time}};window.addEventListener("unload",function(){videoPlayer.exitPage()});