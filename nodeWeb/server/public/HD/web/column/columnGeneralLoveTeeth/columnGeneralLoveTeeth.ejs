<%- include ('../../components/header') %>
    <link rel = "stylesheet" href = "<%= basePageUrl %>/css/general.css">
    <link rel = "stylesheet" href = "<%= basePageUrl %>/css/animation.css">
    <title>通用专题</title>
</head>
<%
    const renderPageInfo = (function(){
        function getTrimValue(name,str){
            str = str + "";
            let reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
            let r = str.match(reg);
            if(r == null){
                reg = new RegExp("(^|＆)"+ name +"=([^＆]*)(＆|$)");
                r = str.match(reg);
            }
            if(r!=null)return  unescape(r[2]); return null;
        }
        function resetRecMsg(recommendMsg){
            let reMsg = {
                focusnum: recommendMsg.focusnum || "0",
                recommendTrackName: recommendMsg.recommendTrackName || "0",
                videoType: [1,0,0,0,0,0],
                animationTimes: [0,0,0,0],
                animationType: [0,0,0,0],
                recommendId: recommendMsg.id,
                recommendDisplayValue: recommendMsg.recommendDisplayValue,
                focusMoveEvent: [recommendMsg.movetop||0,recommendMsg.movedown||0,recommendMsg.moveleft||0,recommendMsg.moveright||0,1],
                recommendPic: [],
                recommendLabelpic: [],
                recommendShowPic: [],
                recommendHidePic: [],
                recommendMorePic: []
            }
            for(let i = 0; i < recommendMsg.pageRecommendConfigTabVos.length; i++){
                switch(recommendMsg.pageRecommendConfigTabVos[i].picType){
                    case 0:
                        reMsg.recommendPic.push({
                            divId: "",
                            imgId: "",
                            url: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picPath,
                            height: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picH,
                            width: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picW,
                            xValue: recommendMsg.pageRecommendConfigTabVos[i].xvalue,
                            yValue: recommendMsg.pageRecommendConfigTabVos[i].yvalue,
                            zIndex: parseInt((getTrimValue("zIndex",recommendMsg.more1)+"").split("_")[0]) || 0
                            
                        });
                        break;
                    case 1:
                        reMsg.recommendLabelpic.push({
                            divId: "",
                            imgId: "",
                            url: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picPath,
                            height: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picH,
                            width: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picW,
                            xValue: recommendMsg.pageRecommendConfigTabVos[i].xvalue,
                            yValue: recommendMsg.pageRecommendConfigTabVos[i].yvalue,
                            zIndex: parseInt((getTrimValue("zIndex",recommendMsg.more1)+"").split("_")[1]) || 0
                        });
                        break;
                    case 2:
                        reMsg.recommendShowPic.push({
                            divId: "",
                            imgId: "",
                            url: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picPath,
                            height: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picH,
                            width: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picW,
                            xValue: recommendMsg.pageRecommendConfigTabVos[i].xvalue,
                            yValue: recommendMsg.pageRecommendConfigTabVos[i].yvalue,
                            zIndex: parseInt((getTrimValue("zIndex",recommendMsg.more1)+"").split("_")[2]) || 0
                        });
                        break;
                    case 3:
                        reMsg.recommendHidePic.push({
                            divId: "",
                            imgId: "",
                            url: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picPath,
                            height: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picH,
                            width: recommendMsg.pageRecommendConfigTabVos[i].picLibraryTab.picW,
                            xValue: recommendMsg.pageRecommendConfigTabVos[i].xvalue,
                            yValue: recommendMsg.pageRecommendConfigTabVos[i].yvalue,
                            zIndex: parseInt((getTrimValue("zIndex",recommendMsg.more1)+"").split("_")[3]) || 0
                        });
                        break;
                    default:
                        break;
                }
            }
            return reMsg;
        }
        let returnOnePageInfo = {
            //页面英文名
            "actionName": basePageInfo.commonPageInfo.pageInfo.pageTemplateEname,
            //默认焦点
            "defaultFocus": "",
            //页面名称等内容,对应通用页面设置,模板设置与模板库设置
            "pageInfo": basePageInfo.commonPageInfo.pageInfo,
            /*
            *所有推荐图片信息(数据类型为对象)
            */
            "allMsg": {
                "recommendMsg":[],
                "outRecommendMsg": [],
                "otherDetailMsg": []
            }
        };
        for(let key in basePageInfo.commonPageInfo){
            switch(key){
                case "recommend_1":
                    for(let i = 0; i < basePageInfo.commonPageInfo["recommend_1"].length; i++){
                        returnOnePageInfo.allMsg.recommendMsg.push(resetRecMsg(basePageInfo.commonPageInfo["recommend_1"][i]));
                    }
                    break;
                case "recommend_2":
                    for(let i = 0; i < basePageInfo.commonPageInfo["recommend_2"].length; i++){
                        returnOnePageInfo.allMsg.outRecommendMsg.push(resetRecMsg(basePageInfo.commonPageInfo["recommend_2"][i]));
                    }
                    break;
                case "recommend_3":
                    for(let i = 0; i < basePageInfo.commonPageInfo["recommend_3"].length; i++){
                        returnOnePageInfo.allMsg.otherDetailMsg.push(resetRecMsg(basePageInfo.commonPageInfo["recommend_3"][i]));
                    }
                    break;
                default:
                    break;
            }
        }
        return returnOnePageInfo;
    })();
%>
<body style = "overflow: hidden;background: transparent;">
    <div class = "main" id = "mainContent" style = "overflow: hidden;">
        <!--   专题内容     -->
        <div id = "columnContent" class = "withScreen" style = "top: 0px;left: 0;">
            <!--     背景图       -->
            <div id = "columnBG" class = "withScreen" style = "top: 0px;left: 0;">
                <div id = "columnPage<%= renderPageInfo.actionName + "Bg" %>" class = "withScreen" style = "width: 1280px; height: 720px; top: 0px; left: 0px; z-index: 0;">
                    <img class = "withScreen" src = "<%= imgUrl + renderPageInfo.pageInfo.pageTemplateBgpic.picPath %>">
                </div>
            </div>
            <!--     页面内容       -->
            <div id = "columnInfo" class = "withScreen" style = "top: 0px;left: 0;">
                <div id = "columnPage<%= renderPageInfo.actionName %>" class = "withScreen" style = "width: 1280px; height: 720px; top: 0px; left: 0px; z-index: 0;">
                    <%  for(let i = 0; i < renderPageInfo.allMsg.recommendMsg.length; i++){ %>
                        <% if(renderPageInfo.allMsg.recommendMsg[i] && renderPageInfo.allMsg.recommendMsg[i].recommendHidePic.length > 0){ %>
                        <div id = "focusHidePic<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].yValue %>px;left: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].zIndex %>;">
                            <img id = "focusHidePicImg<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].url %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendHidePic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.recommendMsg[i] && renderPageInfo.allMsg.recommendMsg[i].recommendShowPic.length > 0){ %>
                        <div id = "focusShowPic<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].zIndex %>;">
                            <img id = "focusShowPicImg<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendShowPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.recommendMsg[i] && renderPageInfo.allMsg.recommendMsg[i].recommendPic.length > 0){ %>
                        <div id = "focusPic<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].zIndex %>;">
                            <img id = "focusPicImg<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.recommendMsg[i] && renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic.length > 0){ %>
                        <div id = "hands_x0_y0_generalFocus<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>_" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].yValue %>px;left: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].zIndex %>;">
                            <img id = "generalFocus<%= renderPageInfo.allMsg.recommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].url %>" style = "width: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.recommendMsg[i].recommendLabelpic[0].zIndex %>;">
                        </div>

                        <% 
                            basePageInfo.nodeButtons.push({
                                id: "hands_x0_y0_generalFocus" + renderPageInfo.allMsg.recommendMsg[i].recommendId + "_",
                                TempData: renderPageInfo.allMsg.recommendMsg[i],
                                clickHandler: "javascript: goSomeWhere("+i+")",
                                otherFocusEvent: "javascript: getFocusNow("+i+")",
                                otherBlurEvent: "javascript: loseFocusNow("+i+")",
                                upEvent: "javascript: column.focusMove('up')",
                                downEvent: "javascript: column.focusMove('down')",
                                leftEvent: "javascript: column.focusMove('left')",
                                rightEvent: "javascript: column.focusMove('right')",
                                focusType: 7
                            })
                        %>
                        <%}%>
                    <% } %>
                    <%  for(let i = 0; i < renderPageInfo.allMsg.outRecommendMsg.length; i++){ %>
                        <% if(renderPageInfo.allMsg.outRecommendMsg[i] && renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic.length > 0){ %>
                        <div id = "backHidePic<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].yValue %>px;left: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].zIndex %>;">
                            <img id = "backHidePicImg<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].url %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendHidePic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.outRecommendMsg[i] && renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic.length > 0){ %>
                        <div id = "backShowPic<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].zIndex %>;">
                            <img id = "backShowPicImg<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendShowPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.outRecommendMsg[i] && renderPageInfo.allMsg.outRecommendMsg[i].recommendPic.length > 0){ %>
                        <div id = "backPic<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].zIndex %>;">
                            <img id = "backPicImg<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.outRecommendMsg[i] && renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic.length > 0){ %>
                        <div id = "hands_x0_y0_generalFocus<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>_" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].yValue %>px;left: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].zIndex %>;">
                            <img id = "generalFocus<%= renderPageInfo.allMsg.outRecommendMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].url %>" style = "width: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].height %>px;visibility: hidden;z-index: <%= renderPageInfo.allMsg.outRecommendMsg[i].recommendLabelpic[0].zIndex %>;">
                        </div>
                        <% 
                            basePageInfo.nodeButtons.push({
                                id: "hands_x0_y0_generalFocus" + renderPageInfo.allMsg.outRecommendMsg[i].recommendId + "_",
                                TempData: renderPageInfo.allMsg.outRecommendMsg[i],
                                clickHandler: "javascript: backFunc()",
                                otherFocusEvent: "javascript: backGetFocusNow("+i+")",
                                otherBlurEvent: "javascript: backLoseFocusNow("+i+")",
                                upEvent: "javascript: column.focusMove('up')",
                                downEvent: "javascript: column.focusMove('down')",
                                leftEvent: "javascript: column.focusMove('left')",
                                rightEvent: "javascript: column.focusMove('right')",
                                focusType: 7
                            })
                        %>
                        <% } %>
                    <% } %>
                    <%  for(let i = 0; i < renderPageInfo.allMsg.otherDetailMsg.length; i++){ %>
                        <% if(renderPageInfo.allMsg.otherDetailMsg[i] && renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic.length > 0){ %>
                        <div id = "otherHidePic<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].yValue %>px;left: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].zIndex %>;">
                            <img id = "otherHidePicImg<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].url %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendHidePic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.otherDetailMsg[i] && renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic.length > 0){ %>
                        <div id = "otherShowPic<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].zIndex %>;">
                            <img id = "otherShowPicImg<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendShowPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.otherDetailMsg[i] && renderPageInfo.allMsg.otherDetailMsg[i].recommendPic.length > 0){ %>
                        <div id = "otherPic<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].yValue %>px;left: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].zIndex %>;">
                            <img id = "otherPicImg<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].url %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendPic[0].zIndex %>;">
                        </div>
                        <% } %>
                        <% if(renderPageInfo.allMsg.otherDetailMsg[i] && renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic.length > 0){ %>
                        <div id = "otherLabelPic<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].height %>px;position: absolute;top: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].yValue %>px;left: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].xValue %>px;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].zIndex %>;">
                            <img id = "otherLabelPicImg<%= renderPageInfo.allMsg.otherDetailMsg[i].recommendId %>" src = "<%= imgUrl + renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].url %>" style = "width: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].width %>px;height: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].height %>px;visibility: visible;z-index: <%= renderPageInfo.allMsg.otherDetailMsg[i].recommendLabelpic[0].zIndex %>;">
                        </div>
                        <% } %>
                    <% } %>
                </div>
            </div>
        </div>
        <!--   空焦点，页面切换时使用     -->
        <div id = "hands_x0_y0_emptyFocus_" style = "width: 2px;height: 2px;position: absolute;top: -2px;left: -2px;">
            <img id = "emptyFocus" src = "<%= basePageUrl %>/images/empty.png" style = "visibility: hidden;" alt="">
        </div>
    </div>
</body>
<!-- 引入公共js开始 -->
<%- include('../../components/commJs') %>
<!-- 引入公共js结束 -->
<script src="<%= basePageUrl %>/js/reSetMessage.js?v=202010"></script>
<script src="<%= basePageUrl %>/js/general.js?v=202010"></script>
<script>
    //关闭更换主题功能
    interface.changeThemeSwitch = false;
    //图片地址
    var columnImgUrl = AjaxConfig.imgUrl;
    //焦点名称
    var columnGeneralFocusName = "generalFocus";
    //column对象,包含创建Dom元素与专题跳转等基本功能(general.js)
    var column = new GeneralColumn();
    //动画对象,包含添加动画,创建动画等(general.js)
    var columnAni = new ColumnAnimation();
    //页面数组，存储重新解析后的各页面数据newOutJson
    var pageJsonArr = [];
    //页面原始数组OutJson
    var pageMsgArr = [];
    //当前页面信息在数组中的下标
    var curPageNum = 0;
    //切换前的上一级页面
    var prePageNum = 0;
    //卡通剧集信息
    var OUT_LIST_JSON = [];
    //当前页面视频是否正在播放
    var curVideoPlaying = false;
    //从眉头获取当前页面信息
    var curPageEName = basePageInfo.commonPageInfo.pageInfo.commPageEname;
    CT.delCookie("columnBackAction");
    //所有焦点信息
    var buttons = basePageInfo.nodeButtons;
    /**
     * 获取当前页面英文名
     * @returns {string|null}
     */
    function getGeneralAction(){
        var reg = new RegExp("(^|&)contentName=([^&]*)(&|$)");
        var r = window.location.search.substr(1).match(reg);
        if(r!=null){
            return  unescape(r[2]);
        }else{
            return null;
        }
    }
    /**
     * 页面开始渲染
     */
    function setAllPage(){
        allForStart(curPageEName);
    }
    setAllPage();
    /**
     * 页面加载完成后,初始化多帧动画,并且开启定时器(columnAni.startInterval)切换图片
     * @param newOutJson
     */
    function getAnimation(newOutJson){
        if(newOutJson.allMsg.otherDetailMsg.length > 0){
            columnAni.getCSSType(newOutJson.allMsg.otherDetailMsg);
        }
        columnAni.startInterval(columnImgUrl,newOutJson.allMsg);
    }
    /**
     * 根据当前焦点移动至对应位置
     */
    function setCurPageTop(){
        //整体位移top
        var allContentTop = parseInt(document.getElementById("columnContent").style.top);
		//第一个页面top值
		var alltPageTop = document.getElementById("columnBG").getElementsByTagName("div");
		var firstPageTop = 0;
		for(var i = 0; i < alltPageTop.length; i++){
			if(parseInt(alltPageTop[i].style.top) < firstPageTop){
				firstPageTop = parseInt(alltPageTop[i].style.top);
			}
		}
        //当前页面针对整体的固定top
        var curPageTop = parseInt(document.getElementById(curFocus.FocusID).parentNode.style.top);
        //当前焦点固定top
        var curFocusTop = parseInt(document.getElementById(curFocus.FocusID).style.top);
        var curFocusHeight = parseInt(document.getElementById(curFocus.FocusID).style.height);
        //获取页面总体长度
        var totalHeight = 0;
        for(var i = 0; i < pageJsonArr.length; i++){
            totalHeight += parseInt(pageJsonArr[i].pageInfo.pageTemplateBgpic.picH);
        }
		
        //页面最大向上位移top
        var minTop = 0 - totalHeight + parseInt(pageJsonArr[pageJsonArr.length - 1].pageInfo.pageTemplateBgpic.picH);
		//页面最大向下位移top
		var maxTop = 0;
		if(firstPageTop < 0){
			maxTop = 0 - firstPageTop;
		}
		var totalBg = document.getElementById("columnBG").getElementsByTagName("div");
		var minBgTop = 0;
        for(var i = 0; i < totalBg.length; i++){
            if(parseInt(totalBg[i].style.top) < minBgTop){
				minBgTop = parseInt(totalBg[i].style.top);
			}
        }
		minTop -= minBgTop;
        //当前焦点与页面顶端的距离
        var curFocusToTop = allContentTop + curPageTop + curFocusTop;
        //最终整体位移
        var targetTop = 0;
        if(curFocusToTop < 50 || curFocusToTop +  curFocusHeight > 720){
            if(curPageNum == "0" && curFocusToTop +  curFocusHeight <= 720){
                targetTop = 0 - curPageTop;
            }else{
                targetTop = 150 - (curPageTop + curFocusTop);
                if(targetTop < minTop){
                    targetTop = minTop;
                }
            }
			if(targetTop <= maxTop){
				document.getElementById("columnContent").style.top = targetTop + "px";
			}
        }
        //查看当前页面是否含有视频
        curPageTop = parseInt(document.getElementById(curFocus.FocusID).parentNode.style.top);
        allContentTop = parseInt(document.getElementById("columnContent").style.top);
        if(!curVideoPlaying && curPageTop + allContentTop == 0){
            curVideoPlaying = true;
            checkColumnSmallVideoPlay();
        }else if(curPageTop + allContentTop != 0 && curVideoPlaying){
            hideColumnVideoPlay();
        }

    }
    /**
     * 检查是否有视频播放
     *
     */
    function checkColumnSmallVideoPlay(){
        var newOutJson = pageJsonArr[curPageNum];
        var videoMsg = newOutJson.allMsg.otherDetailMsg;
        for(var i = 0; i < videoMsg.length; i++){
            if(videoMsg[i].videoType[0] == 0){
                columnSmallVideoPlay(videoMsg[i].videoType);
                break;
            }
        }
    }
    /**
     * 进行小视频播放
     * @param videoMsg   视频信息数组[是否有视频,width,height,top,left,卡通ID]
     */
    function columnSmallVideoPlay(videoMsg){
        if(videoMsg[5]){
            interface.findVideoListByCartoonId({
                params: {
                    cartoonId: videoMsg[5]
                },
                ajaxConfig: {
                    async: true
                }
            }, function (cartoonData) {
                if(cartoonData && cartoonData.errorCode == "1000"){
                    OUT_LIST_JSON = cartoonData.data;
                    var mediaCode = cartoonData.data[0].movieDetails[0].playUrl;
                    videoPlayer.SmallPlay({
                        top: parseInt(videoMsg[3]),
                        left: parseInt(videoMsg[4]),
                        width: parseInt(videoMsg[1]),
                        height: parseInt(videoMsg[2]),
			nns_ids: mediaCode,
			videoIndex: 0,
			restartSwitch: false
                    });
                }
            });
        }
    }
    /**
     * 跳转全屏播放
     * 
     */
    function columnSmallVideoToScreen(){
        if(OUT_LIST_JSON && OUT_LIST_JSON.length > 0){
			var params = {
				contentId: 15,
				cartoonId: OUT_LIST_JSON[0].cartoonId,
				videoId: OUT_LIST_JSON[0].id,
				contentType: "video"
			}
			CT.getAnterByIdOrAction(params);
		}
    }
    /**
     * 隐藏小视频播放
     * 
     */
    function hideColumnVideoPlay(){
        curVideoPlaying = false;
	try{
		videoPlayer.exitPage();
	}catch(e){}
    }
    /**
    * 获取焦点时(除返回焦点),显示焦点选中显示详情图,设置当前焦点与详情图的动画类型并执行(columnAni.setCSSFocusType)
    **/
    function getFocusNow(ii){
        //根据当前焦点移动页面位置
        setCurPageTop();
        //对当前页面的点击内容重新赋值
        var newOutJson = pageJsonArr[curPageNum];
        
        if(newOutJson.allMsg.recommendMsg[ii].recommendPic && newOutJson.allMsg.recommendMsg[ii].recommendPic.length > 0){
            var recDivId = newOutJson.allMsg.recommendMsg[ii].recommendPic[0].divId;
            var recDivDom = document.getElementById(recDivId);
            var recImgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendPic[0].imgId);
            if(recImgDom){
                recImgDom.style.visibility = "hidden";
            }
        }
        if(newOutJson.allMsg.recommendMsg[ii].recommendShowPic && newOutJson.allMsg.recommendMsg[ii].recommendShowPic.length > 0){
            var divId = newOutJson.allMsg.recommendMsg[ii].recommendShowPic[0].divId;
            var divDom = document.getElementById(divId);
            var imgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendShowPic[0].imgId);
            if(imgDom){
                imgDom.style.visibility = "visible";
            }
        }
        if(newOutJson.allMsg.recommendMsg[ii].recommendHidePic && newOutJson.allMsg.recommendMsg[ii].recommendHidePic.length > 0){
            var secDivId = newOutJson.allMsg.recommendMsg[ii].recommendHidePic[0].divId;
            var secDivDom = document.getElementById(secDivId);
            var secImgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendHidePic[0].imgId);
            if(secImgDom){
                secImgDom.style.visibility = "visible";
            }
        }
        openAniFlag(newOutJson.allMsg.recommendMsg[ii]);
        columnAni.setCSSFocusType(newOutJson.allMsg.recommendMsg[ii]);
    }
    /**
    * 失去焦点时(除返回焦点),显示焦点选中显示详情图,设置当前焦点与详情图的动画类型并执行(columnAni.setCSSFocusType)
    * */
    function loseFocusNow(ii){
        /*if(column.isChangePage){
            var newOutJson = pageJsonArr[prePageNum];
            column.isChangePage = false;
        }else{
            var newOutJson = pageJsonArr[curPageNum];
        }*/
		var newOutJson = pageJsonArr[curPageNum];
        if(newOutJson.allMsg.recommendMsg[ii].recommendPic && newOutJson.allMsg.recommendMsg[ii].recommendPic.length > 0){
            var recDivId = newOutJson.allMsg.recommendMsg[ii].recommendPic[0].divId;
            var recDivDom = document.getElementById(recDivId);
            var recImgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendPic[0].imgId);
            if(recImgDom){
                recImgDom.style.visibility = "visible";
                recImgDom.src =  columnImgUrl + newOutJson.allMsg.recommendMsg[ii].recommendPic[0].url;
            }
        }
        if(newOutJson.allMsg.recommendMsg[ii].recommendLabelpic && newOutJson.allMsg.recommendMsg[ii].recommendLabelpic.length > 0){
            var labelDivId = newOutJson.allMsg.recommendMsg[ii].recommendLabelpic[0].divId;
            var labelDivDom = document.getElementById(labelDivId);
            var labelImgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendLabelpic[0].imgId);
            if(labelImgDom){
                labelImgDom.src =  columnImgUrl + newOutJson.allMsg.recommendMsg[ii].recommendLabelpic[0].url;
            }
        }
        if(newOutJson.allMsg.recommendMsg[ii].recommendShowPic && newOutJson.allMsg.recommendMsg[ii].recommendShowPic.length > 0){
            var divId = newOutJson.allMsg.recommendMsg[ii].recommendShowPic[0].divId;
            var divDom = document.getElementById(divId);
            var imgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendShowPic[0].imgId);
            if(imgDom){
                imgDom.style.visibility = "hidden";
                imgDom.src = columnImgUrl + newOutJson.allMsg.recommendMsg[ii].recommendShowPic[0].url;
            }
        }
        if(newOutJson.allMsg.recommendMsg[ii].recommendHidePic && newOutJson.allMsg.recommendMsg[ii].recommendHidePic.length > 0){
            var secDivId = newOutJson.allMsg.recommendMsg[ii].recommendHidePic[0].divId;
            var secDivDom = document.getElementById(secDivId);
            var secImgDom = document.getElementById(newOutJson.allMsg.recommendMsg[ii].recommendHidePic[0].imgId);
            if(secImgDom){
                secImgDom.style.visibility = "hidden";
                secImgDom.src = columnImgUrl + newOutJson.allMsg.recommendMsg[ii].recommendHidePic[0].url;
            }

        }
        closeAniFlag(newOutJson.allMsg.recommendMsg[ii]);
        columnAni.setCSSBlurType(newOutJson.allMsg.recommendMsg[ii]);
    }
    /**
    * 返回获取焦点时(除返回焦点),显示焦点选中显示详情图,设置当前焦点与详情图的动画类型并执行(columnAni.setCSSFocusType)
    **/
    function backGetFocusNow(ii){
        //根据当前焦点移动页面位置
        setCurPageTop();
        //对当前页面的点击内容重新赋值
        var newOutJson = pageJsonArr[curPageNum];
        
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendPic && newOutJson.allMsg.outRecommendMsg[ii].recommendPic.length > 0){
            var recDivId = newOutJson.allMsg.outRecommendMsg[ii].recommendPic[0].divId;
            var recDivDom = document.getElementById(recDivId);
            var recImgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendPic[0].imgId);
            if(recImgDom){
                recImgDom.style.visibility = "visible";
            }
        }
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic && newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic.length > 0){
            var divId = newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic[0].divId;
            var divDom = document.getElementById(divId);
            var imgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic[0].imgId);
            if(imgDom){
                imgDom.style.visibility = "visible";
            }
        }
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic && newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic.length > 0){
            var secDivId = newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic[0].divId;
            var secDivDom = document.getElementById(secDivId);
            var secImgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic[0].imgId);
            if(secImgDom){
                secImgDom.style.visibility = "visible";
            }
        }
        openAniFlag(newOutJson.allMsg.outRecommendMsg[ii]);
        columnAni.setCSSFocusType(newOutJson.allMsg.outRecommendMsg[ii]);
    }
    /**
    * 返回失去焦点时(除返回焦点),显示焦点选中显示详情图,设置当前焦点与详情图的动画类型并执行(columnAni.setCSSFocusType)
    * */
    function backLoseFocusNow(ii){
        /*if(column.isChangePage){
            var newOutJson = pageJsonArr[prePageNum];
            column.isChangePage = false;
        }else{
            var newOutJson = pageJsonArr[curPageNum];
        }*/
		var newOutJson = pageJsonArr[curPageNum];
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendPic && newOutJson.allMsg.outRecommendMsg[ii].recommendPic.length > 0){
            var recDivId = newOutJson.allMsg.outRecommendMsg[ii].recommendPic[0].divId;
            var recDivDom = document.getElementById(recDivId);
            var recImgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendPic[0].imgId);
            if(recImgDom){
                recImgDom.style.visibility = "visible";
                recImgDom.src =  columnImgUrl + newOutJson.allMsg.outRecommendMsg[ii].recommendPic[0].url;
            }
        }
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendLabelpic && newOutJson.allMsg.outRecommendMsg[ii].recommendLabelpic.length > 0){
            var labelDivId = newOutJson.allMsg.outRecommendMsg[ii].recommendLabelpic[0].divId;
            var labelDivDom = document.getElementById(labelDivId);
            var labelImgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendLabelpic[0].imgId);
            if(labelImgDom){
                labelImgDom.src =  columnImgUrl + newOutJson.allMsg.outRecommendMsg[ii].recommendLabelpic[0].url;
            }
        }
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic && newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic.length > 0){
            var divId = newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic[0].divId;
            var divDom = document.getElementById(divId);
            var imgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic[0].imgId);
            if(imgDom){
                imgDom.style.visibility = "hidden";
                imgDom.src = columnImgUrl + newOutJson.allMsg.outRecommendMsg[ii].recommendShowPic[0].url;
            }
        }
        if(newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic && newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic.length > 0){
            var secDivId = newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic[0].divId;
            var secDivDom = document.getElementById(secDivId);
            var secImgDom = document.getElementById(newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic[0].imgId);
            if(secImgDom){
                secImgDom.style.visibility = "hidden";
                secImgDom.src = columnImgUrl + newOutJson.allMsg.outRecommendMsg[ii].recommendHidePic[0].url;
            }

        }
        closeAniFlag(newOutJson.allMsg.outRecommendMsg[ii]);
        columnAni.setCSSBlurType(newOutJson.allMsg.outRecommendMsg[ii]);
    }
    /**
     * 页面向上滑动
     */
    function moveUp(){
        if(curPageNum > 0){
            prePageNum = curPageNum;
            column.isChangePage = true;
            curPageNum--;
            allForStart(pageJsonArr[curPageNum].actionName);
        }
    }
    /**
     * 页面向下滑动
     */
    function moveDown(){
        if(curPageNum < pageJsonArr.length - 1){
            prePageNum = curPageNum;
            column.isChangePage = true;
            curPageNum++;
            allForStart(pageJsonArr[curPageNum].actionName);
        }
    }
	/**
     *打开动画开关（非CSS3动画类）
	**/
	function openAniFlag(aniMsg){
		if(aniMsg.recommendPic.length > 0){
            columnAni.aniFlagObj[aniMsg.recommendPic[0].divId] = 0;
            /*if(columnAni.aniTimesObj[aniMsg.recommendPic[0].divId] == 2 || columnAni.aniTimesObj[aniMsg.recommendPic[0].divId] == undefined){
                columnAni.aniTimesObj[aniMsg.recommendPic[0].divId] = aniMsg.animationTimes[0];
            }*/
			columnAni.aniChangeTimes[aniMsg.recommendPic[0].divId] = 1;
		}
		if(aniMsg.recommendLabelpic.length > 0){
            columnAni.aniFlagObj[aniMsg.recommendLabelpic[0].divId] = 0;
            /*if(columnAni.aniTimesObj[aniMsg.recommendLabelpic[0].divId] == 2 || columnAni.aniTimesObj[aniMsg.recommendLabelpic[0].divId] == undefined){
                columnAni.aniTimesObj[aniMsg.recommendLabelpic[0].divId] = aniMsg.animationTimes[1];
            }*/
			columnAni.aniChangeTimes[aniMsg.recommendLabelpic[0].divId] = 1;
		}
		if(aniMsg.recommendShowPic.length > 0){
            columnAni.aniFlagObj[aniMsg.recommendShowPic[0].divId] = 0;
            /*if(columnAni.aniTimesObj[aniMsg.recommendShowPic[0].divId] == 2 || columnAni.aniTimesObj[aniMsg.recommendShowPic[0].divId] == undefined){
                columnAni.aniTimesObj[aniMsg.recommendShowPic[0].divId] = aniMsg.animationTimes[2];
            }*/
			columnAni.aniChangeTimes[aniMsg.recommendShowPic[0].divId] = 1;
		}
		if(aniMsg.recommendHidePic.length > 0){
            columnAni.aniFlagObj[aniMsg.recommendHidePic[0].divId] = 0;
            /*if(columnAni.aniTimesObj[aniMsg.recommendHidePic[0].divId] == 2 || columnAni.aniTimesObj[aniMsg.recommendHidePic[0].divId] == undefined){
                columnAni.aniTimesObj[aniMsg.recommendHidePic[0].divId] = aniMsg.animationTimes[3];
            }*/
			columnAni.aniChangeTimes[aniMsg.recommendHidePic[0].divId] = 1;
		}
	}
    /**
     *关闭动画开关（非CSS3动画类）
     **/
    function closeAniFlag(aniMsg){
        if(aniMsg.recommendPic.length > 0 && columnAni.aniFlagObj[aniMsg.recommendPic[0].divId]){
            columnAni.aniFlagObj[aniMsg.recommendPic[0].divId] = 2;
        }
        if(aniMsg.recommendLabelpic.length > 0 && columnAni.aniFlagObj[aniMsg.recommendLabelpic[0].divId]){
            columnAni.aniFlagObj[aniMsg.recommendLabelpic[0].divId] = 2;
        }
        if(aniMsg.recommendShowPic.length > 0 && columnAni.aniFlagObj[aniMsg.recommendShowPic[0].divId]){
            columnAni.aniFlagObj[aniMsg.recommendShowPic[0].divId] = 2;
        }
        if(aniMsg.recommendHidePic.length > 0 && columnAni.aniFlagObj[aniMsg.recommendHidePic[0].divId]){
            columnAni.aniFlagObj[aniMsg.recommendHidePic[0].divId] = 2;
        }
    }
    /**
     * 按数字免费鉴权,测试用
    * */
	var freeAddr = "";
	var testNumber = "";
	function changeNum(num){
		testNumber = testNumber + num;
		if(testNumber == "1024"){
			freeAddr = pageJsonArr[curPageNum].actionName;
		}
	}
    /**
     * 焦点点击确认跳转
    * */
    function goSomeWhere(ii){
        hideColumnVideoPlay();
        var OutJson = pageMsgArr[curPageNum];
        if(OutJson.recommend_1[ii].booleanUp == 0) {
            // CT.alertTip("因版权到期，该内容已经下线，</br>小编正在快马加鞭为你替换新内容！",{time:3000});
            var bDElement = CT.$("bDPop");
            if(!bDElement) {
                var bDElement = document.createElement("div");
                bDElement.id = "bDPop";
                bDElement.style.width = "502px";
                bDElement.style.height = "320px";
                bDElement.style.position = "absolute";
                bDElement.style.zIndex = "9999";
                bDElement.style.left = (1280 - 502) / 2 + "px";
                bDElement.style.top = (720 - 320) / 2 + "px";

                bDElement.innerHTML = "<img src='" + AjaxConfig.projectUrl + "HD/images/booleandownPop.png'>";
                bDElement.innerHTML += "<div style='position:absolute;left:0px;top:140px;line-height: 42px;height:320px;width:502px; color:red;font-size:24px;text-align:center;font-weight: bold;'>因版权到期，该内容已经下线，</br>小编正在快马加鞭为你替换新内容！</div>";
                document.getElementsByTagName("body")[0].appendChild(bDElement);
                // document.getElementsByTagName("body")[0].innerHTML += "<div id=''></div>"
            }
            bDElement.style.display = "block";
            clearTimeout(window["popTimer"]);
            window["popTimer"] = setTimeout(function(){
                bDElement.style.display = "none";
            },3000);
            return;
        }
	PAGE.otherPageParam = PAGE.otherPageParam = "&contentId="+OutJson.pageInfo.commonPageId+"&contentName="+OutJson.pageInfo.commPageEname + "&curFocusId="+curFocus.FocusID;
	CT.goPage();	
	if(OutJson.recommend_1[ii].recommendDisplayName.indexOf("首页") == -1){
		CT.setCookie("columnBackFocus"+OutJson.pageInfo.commonPageId,curFocus.FocusID);
		CT.setCookie("columnBackAction",OutJson.pageInfo.commPageEname);
	}
        if (OutJson.pageInfo.isFree == "0" || OutJson.recommend_1[ii].isFree == "0" || freeAddr == pageJsonArr[curPageNum].actionName) {
            if((OutJson.recommend_1[ii].more1+"").indexOf("video") > -1){
                columnSmallVideoToScreen();
            }else{
                CT.toAnterRecommendUrl(OutJson,"recommend_1",ii);
            }
        }else{
            orderJs.columnGetAuth(function(data){
                if(data == "0"){
                    if((OutJson.recommend_1[ii].more1+"").indexOf("video") > -1){
                        columnSmallVideoToScreen();
                    }else{
                        CT.toAnterRecommendUrl(OutJson,"recommend_1",ii);
                    }
                }else{
                    orderJs.columnToOrderPage(OutJson.pageInfo.commPageEname);
                }
            });
        }
    }
    /**
     *  返回方法
    * */
    function backFunc(){
        CT.delCookie("columnBackFocus"+pageMsgArr[curPageNum].pageInfo.commonPageId);
        CT.delCookie("columnBackAction");
        hideColumnVideoPlay();
        var OutJson = pageMsgArr[curPageNum];
        if((CT.getCookie("pid")+"").indexOf("zhitui") > -1){//根据pid判断是否直接退出平台
		var exitParams = {
			contentId: 21,
			curFocusId: curFocus.FocusID,
			contentType: "page"
		};
		CT.getAnterByIdOrAction(exitParams);
	}else if(OutJson.recommend_2 && OutJson.recommend_2[0] && OutJson.recommend_2[0].recommendDisplayType != "88" && OutJson.recommend_2[0].recommendDisplayValue){
            CT.delPreMemoryPage();
            CT.toAnterRecommendUrl(OutJson,"recommend_2",0);
        }else{
            CT.backPage();
        }
    }
</script>
</html>